"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["15849"],{34302:function(t,e,i){i.a(t,async function(t,n){try{i.d(e,{Bt:function(){return l},T8:function(){return c}});i(39710),i(87622);var a=i(62229),o=i(3574),r=i(38763),d=t([a]);a=(d.then?(await d)():d)[0];var s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],l=function(t){return t.first_weekday===r.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(t.language).weekInfo.firstDay%7:(0,o.L)(t.language)%7:s.includes(t.first_weekday)?s.indexOf(t.first_weekday):1},c=function(t){var e=l(t);return s[e]};n()}catch(u){n(u)}})},68135:function(t,e,i){i.a(t,async function(t,n){try{i.d(e,{G:function(){return l}});var a=i(62229),o=i(28105),r=i(43890),d=t([a,r]);[a,r]=d.then?(await d)():d;var s=(0,o.Z)(function(t){return new Intl.RelativeTimeFormat(t.language,{numeric:"auto"})}),l=function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=(0,r.W)(t,i,e);return n?s(e).format(a.value,a.unit):Intl.NumberFormat(e.language,{style:"unit",unit:a.unit,unitDisplay:"long"}).format(Math.abs(a.value))};n()}catch(c){n(c)}})},53049:function(t,e,i){i.d(e,{f:function(){return n}});i(69643);var n=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},43890:function(t,e,i){i.a(t,async function(t,n){try{i.d(e,{W:function(){return p}});i(87799);var a=i(7722),o=i(66233),r=i(58104),d=i(34302),s=t([d]);d=(s.then?(await s)():s)[0];var l=1e3,c=60,u=60*c;function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=Object.assign(Object.assign({},f),n||{}),h=(+t-+e)/l;if(Math.abs(h)<s.second)return{value:Math.round(h),unit:"second"};var p=h/c;if(Math.abs(p)<s.minute)return{value:Math.round(p),unit:"minute"};var v=h/u;if(Math.abs(v)<s.hour)return{value:Math.round(v),unit:"hour"};var m=new Date(t),g=new Date(e);m.setHours(0,0,0,0),g.setHours(0,0,0,0);var _=(0,a.j)(m,g);if(0===_)return{value:Math.round(v),unit:"hour"};if(Math.abs(_)<s.day)return{value:_,unit:"day"};var b=(0,d.Bt)(i),y=(0,o.z)(m,{weekStartsOn:b}),x=(0,o.z)(g,{weekStartsOn:b}),w=(0,r.p)(y,x);if(0===w)return{value:_,unit:"day"};if(Math.abs(w)<s.week)return{value:w,unit:"week"};var k=m.getFullYear()-g.getFullYear(),C=12*k+m.getMonth()-g.getMonth();return 0===C?{value:w,unit:"week"}:Math.abs(C)<s.month||0===k?{value:C,unit:"month"}:{value:Math.round(k),unit:"year"}}var f={second:45,minute:45,hour:22,day:5,week:4,month:11};n()}catch(h){n(h)}})},34949:function(t,e,i){var n,a,o=i(54982),r=i(54521),d=i(4490),s=i(20129),l=i(85297),c=(i(12212),i(96821),i(73742)),u=i(59048),f=i(7616),h=i(83533),p=function(t){function e(){var t;(0,r.Z)(this,e);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=(0,s.Z)(this,e,[].concat(n))).min=0,t.max=100,t}return(0,l.Z)(e,t),(0,d.Z)(e,[{key:"render",value:function(){var t=(0,h.IU)((0,h.Ff)((0,h.Fv)(this.value,this.min,this.max),this.min,this.max));return(0,u.YP)(n||(n=(0,o.Z)([' <svg> <g> <rect/> <rect width="','%"/> </g> </svg> '])),t)}}])}(u.oi);p.styles=(0,u.iv)(a||(a=(0,o.Z)(["rect{height:100%}rect:first-child{width:100%;fill:var(--ha-bar-background-color,var(--secondary-background-color))}rect:last-child{fill:var(--ha-bar-primary-color,var(--primary-color))}svg{border-radius:var(--ha-bar-border-radius,4px);height:12px;width:100%}"]))),(0,c.__decorate)([(0,f.Cb)({type:Number})],p.prototype,"min",void 0),(0,c.__decorate)([(0,f.Cb)({type:Number})],p.prototype,"max",void 0),(0,c.__decorate)([(0,f.Cb)({type:Number})],p.prototype,"value",void 0),p=(0,c.__decorate)([(0,f.Mo)("ha-bar")],p)},80471:function(t,e,i){var n,a,o,r=i(54982),d=i(54521),s=i(4490),l=i(20129),c=i(53389),u=i(85297),f=i(73742),h=i(33856),p=i(24584),v=i(7616),m=i(59048),g=i(83054),_=function(t){function e(){return(0,d.Z)(this,e),(0,l.Z)(this,e,arguments)}return(0,u.Z)(e,t),(0,s.Z)(e,[{key:"firstUpdated",value:function(t){(0,c.Z)(e,"firstUpdated",this,3)([t]),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}])}(h._);_.styles=[p.W,(0,m.iv)(n||(n=(0,r.Z)([":host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}"]))),"rtl"===g.E.document.dir?(0,m.iv)(a||(a=(0,r.Z)([":host .mdc-fab--extended .mdc-fab__icon{direction:rtl}"]))):(0,m.iv)(o||(o=(0,r.Z)([""])))],_=(0,f.__decorate)([(0,v.Mo)("ha-fab")],_)},541:function(t,e,i){var n,a,o=i(54982),r=i(54521),d=i(4490),s=i(20129),l=i(85297),c=(i(96821),i(73742)),u=i(59048),f=i(7616),h=i(31733),p=i(83533),v=(i(34949),i(55245),function(t){function e(){return(0,r.Z)(this,e),(0,s.Z)(this,e,arguments)}return(0,l.Z)(e,t),(0,d.Z)(e,[{key:"render",value:function(){var t,e=(0,p.IU)(this.value);return(0,u.dy)(n||(n=(0,o.Z)([' <ha-settings-row> <span slot="heading"> ',' </span> <div slot="description" .title="','"> <span class="value"> <div>',' %</div> </span> <ha-bar class="','" .value="','"></ha-bar> </div> </ha-settings-row> '])),this.heading,null!==(t=this.tooltip)&&void 0!==t?t:"",e,(0,h.$)({"target-warning":e>50,"target-critical":e>85}),this.value)}}])}(u.oi));v.styles=(0,u.iv)(a||(a=(0,o.Z)(["ha-settings-row{padding:0;height:54px;width:100%}ha-settings-row>div[slot=description]{white-space:normal;color:var(--secondary-text-color);display:flex;justify-content:space-between}ha-bar{--ha-bar-primary-color:var(--metric-bar-ok-color, var(--success-color))}.target-warning{--ha-bar-primary-color:var(\n        --metric-bar-warning-color,\n        var(--warning-color)\n      )}.target-critical{--ha-bar-primary-color:var(\n        --metric-bar-critical-color,\n        var(--error-color)\n      )}.value{width:48px;padding-right:4px;padding-inline-end:4px;padding-inline-start:initial;flex-shrink:0}.value>div{direction:ltr;text-align:var(--float-start)}"]))),(0,c.__decorate)([(0,f.Cb)({type:Number})],v.prototype,"value",void 0),(0,c.__decorate)([(0,f.Cb)({type:String})],v.prototype,"heading",void 0),(0,c.__decorate)([(0,f.Cb)({type:String})],v.prototype,"tooltip",void 0),v=(0,c.__decorate)([(0,f.Mo)("ha-metric")],v)},19262:function(t,e,i){i.a(t,async function(t,e){try{var n=i(54521),a=i(4490),o=i(20129),r=i(85297),d=i(53389),s=(i(12212),i(73742)),l=i(78722),c=i(59048),u=i(7616),f=i(68135),h=i(53049),p=t([f]);f=(p.then?(await p)():p)[0];var v=function(t){function e(){var t;(0,n.Z)(this,e);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=(0,o.Z)(this,e,[].concat(a))).capitalize=!1,t}return(0,r.Z)(e,t),(0,a.Z)(e,[{key:"disconnectedCallback",value:function(){(0,d.Z)(e,"disconnectedCallback",this,3)([]),this._clearInterval()}},{key:"connectedCallback",value:function(){(0,d.Z)(e,"connectedCallback",this,3)([]),this.datetime&&this._startInterval()}},{key:"createRenderRoot",value:function(){return this}},{key:"firstUpdated",value:function(t){(0,d.Z)(e,"firstUpdated",this,3)([t]),this._updateRelative()}},{key:"update",value:function(t){(0,d.Z)(e,"update",this,3)([t]),this._updateRelative()}},{key:"_clearInterval",value:function(){this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}},{key:"_startInterval",value:function(){var t=this;this._clearInterval(),this._interval=window.setInterval(function(){return t._updateRelative()},6e4)}},{key:"_updateRelative",value:function(){if(this.datetime){var t="string"==typeof this.datetime?(0,l.D)(this.datetime):this.datetime,e=(0,f.G)(t,this.hass.locale);this.innerHTML=this.capitalize?(0,h.f)(e):e}else this.innerHTML=this.hass.localize("ui.components.relative_time.never")}}])}(c.fl);(0,s.__decorate)([(0,u.Cb)({attribute:!1})],v.prototype,"hass",void 0),(0,s.__decorate)([(0,u.Cb)({attribute:!1})],v.prototype,"datetime",void 0),(0,s.__decorate)([(0,u.Cb)({type:Boolean})],v.prototype,"capitalize",void 0),v=(0,s.__decorate)([(0,u.Mo)("ha-relative-time")],v),e()}catch(m){e(m)}})},55245:function(t,e,i){i(26847),i(27530);var n=i(73742),a=i(59048),o=i(7616);let r,d,s=t=>t;class l extends a.oi{render(){return(0,a.dy)(r||(r=s` <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="${0}" ?three-line="${0}"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> `),!this.threeLine,this.threeLine)}constructor(...t){super(...t),this.narrow=!1,this.slim=!1,this.threeLine=!1,this.wrapHeading=!1}}l.styles=(0,a.iv)(d||(d=s`:host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16px;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display,flex);flex-direction:var(--layout-vertical_-_flex-direction,column);justify-content:var(--layout-center-justified_-_justify-content,center);flex:var(--layout-flex_-_flex,1);flex-basis:var(--layout-flex_-_flex-basis,0.000000001px)}.body[three-line]{min-height:88px}:host(:not([wrap-heading])) body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(
        --mdc-typography-body2-font-family,
        var(--mdc-typography-font-family, var(--ha-font-family-body))
      );font-size:var(--mdc-typography-body2-font-size, var(--ha-font-size-s));-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-weight:var(--mdc-typography-body2-font-weight,var(--ha-font-weight-normal));line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(72px - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;min-width:0;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}:host([slim]),:host([slim]) .content,:host([slim]) ::slotted(ha-switch){padding:0}:host([slim]) .body{min-height:0}`)),(0,n.__decorate)([(0,o.Cb)({type:Boolean,reflect:!0})],l.prototype,"narrow",void 0),(0,n.__decorate)([(0,o.Cb)({type:Boolean,reflect:!0})],l.prototype,"slim",void 0),(0,n.__decorate)([(0,o.Cb)({type:Boolean,attribute:"three-line"})],l.prototype,"threeLine",void 0),(0,n.__decorate)([(0,o.Cb)({type:Boolean,attribute:"wrap-heading",reflect:!0})],l.prototype,"wrapHeading",void 0),l=(0,n.__decorate)([(0,o.Mo)("ha-settings-row")],l)},37492:function(t,e,i){i.d(e,{f:function(){return p}});i(26847),i(27530);var n=i(73742),a=i(94068),o=i(16880),r=i(59048),d=i(7616),s=i(83054);let l,c,u,f,h=t=>t;class p extends a.P{updated(t){super.updated(t),(t.has("invalid")||t.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||this.validationMessage||"Invalid":""),(this.invalid||this.validateOnInitialRender||t.has("invalid")&&void 0!==t.get("invalid"))&&this.reportValidity()),t.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),t.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),t.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}renderIcon(t,e=!1){const i=e?"trailing":"leading";return(0,r.dy)(l||(l=h` <span class="mdc-text-field__icon mdc-text-field__icon--${0}" tabindex="${0}"> <slot name="${0}Icon"></slot> </span> `),i,e?1:-1,i)}constructor(...t){super(...t),this.icon=!1,this.iconTrailing=!1}}p.styles=[o.W,(0,r.iv)(c||(c=h`.mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:ltr}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){max-width:calc(100% - 16px)}.mdc-floating-label--float-above{max-width:calc((100% - 16px)/ .75);transition:none}input{text-align:var(--text-field-text-align,start)}input[type=color]{height:20px}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=color]::-webkit-color-swatch-wrapper{padding:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{padding-inline-end:16px;padding-inline-start:initial;inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start);box-sizing:border-box;text-overflow:ellipsis}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px);padding-inline-end:var(--text-field-prefix-padding-right,2px);padding-inline-start:initial}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}#helper-text ha-markdown{display:inline-block}`)),"rtl"===s.E.document.dir?(0,r.iv)(u||(u=h`.mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl;--direction:rtl}`)):(0,r.iv)(f||(f=h``))],(0,n.__decorate)([(0,d.Cb)({type:Boolean})],p.prototype,"invalid",void 0),(0,n.__decorate)([(0,d.Cb)({attribute:"error-message"})],p.prototype,"errorMessage",void 0),(0,n.__decorate)([(0,d.Cb)({type:Boolean})],p.prototype,"icon",void 0),(0,n.__decorate)([(0,d.Cb)({type:Boolean})],p.prototype,"iconTrailing",void 0),(0,n.__decorate)([(0,d.Cb)()],p.prototype,"autocomplete",void 0),(0,n.__decorate)([(0,d.Cb)()],p.prototype,"autocorrect",void 0),(0,n.__decorate)([(0,d.Cb)({attribute:"input-spellcheck"})],p.prototype,"inputSpellcheck",void 0),(0,n.__decorate)([(0,d.IO)("input")],p.prototype,"formElement",void 0),p=(0,n.__decorate)([(0,d.Mo)("ha-textfield")],p)},54631:function(t,e,i){i.d(e,{JG:function(){return c},PT:function(){return l},ho:function(){return d}});var n=i(42385),a=i(75706),o=(i(14487),i(2394),i(13571),i(87799),i(54480),i(1455),i(5657)),r=function(t,e){return t.subscribeMessage(function(t){var i=Object.assign({},e.state||{});if(t.add){var n,o=(0,a.Z)(t.add);try{for(o.s();!(n=o.n()).done;){var r=n.value;i[r.source]=r}}catch(l){o.e(l)}finally{o.f()}}if(t.remove){var d,s=(0,a.Z)(t.remove);try{for(s.s();!(d=s.n()).done;){delete i[d.value.source]}}catch(l){s.e(l)}finally{s.f()}}e.setState(i,!0)},{type:"bluetooth/subscribe_scanner_details"})},d=function(t,e){return(0,o.B)("_bluetoothScannerDetails",function(){return Promise.resolve({})},r,t,e)},s=function(t,e){return t.subscribeMessage(function(t){var i=(0,n.Z)(e.state||[]);if(t.add){var o,r=(0,a.Z)(t.add);try{var d=function(){var t=o.value,e=i.findIndex(function(e){return e.address===t.address});-1===e?i.push(t):i[e]=t};for(r.s();!(o=r.n()).done;)d()}catch(p){r.e(p)}finally{r.f()}}if(t.change){var s,l=(0,a.Z)(t.change);try{var c=function(){var t=s.value,e=i.findIndex(function(e){return e.address===t.address});-1!==e&&(i[e]=t)};for(l.s();!(s=l.n()).done;)c()}catch(p){l.e(p)}finally{l.f()}}if(t.remove){var u,f=(0,a.Z)(t.remove);try{var h=function(){var t=u.value,e=i.findIndex(function(e){return e.address===t.address});-1!==e&&i.splice(e,1)};for(f.s();!(u=f.n()).done;)h()}catch(p){f.e(p)}finally{f.f()}}e.setState(i,!0)},{type:"bluetooth/subscribe_advertisements"})},l=function(t,e){return(0,o.B)("_bluetoothDeviceRows",function(){return Promise.resolve([])},s,t,e)},c=function(t,e,i){var n={type:"bluetooth/subscribe_connection_allocations"};return i&&(n.config_entry_id=i),t.subscribeMessage(function(t){return e(t)},n)}},49624:function(t,e,i){i.a(t,async function(t,n){try{i.r(e),i.d(e,{BluetoothConnectionMonitorPanel:function(){return Z}});var a,o,r=i(29694),d=i(75778),s=i(75706),l=i(54982),c=i(54521),u=i(4490),f=i(20129),h=i(85297),p=i(53389),v=(i(12212),i(25518),i(70021),i(26847),i(24819),i(2394),i(81738),i(94814),i(29981),i(6989),i(87799),i(18514),i(54480),i(69920),i(73742)),m=i(59048),g=i(7616),_=i(28105),b=i(9924),y=(i(80471),i(48017),i(19262)),x=i(54631),w=i(42497),k=i(95814),C=(i(541),t([y,w]));[y,w]=C.then?(await C)():C;var Z=function(t){function e(){var t;(0,c.Z)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=(0,f.Z)(this,e,[].concat(n))).narrow=!1,t.isWide=!1,t._data=[],t._scanners={},t._addressNames={},t._sourceDevices={},t._activeGrouping="source",t._activeCollapsed=[],t._connectionAllocationData={},t._columns=(0,_.Z)(function(t){return{address:{title:t("ui.panel.config.bluetooth.address"),sortable:!0,filterable:!0,showNarrow:!0,main:!0,hideable:!1,moveable:!1,direction:"asc",flex:1},name:{title:t("ui.panel.config.bluetooth.name"),filterable:!0,sortable:!0},device:{title:t("ui.panel.config.bluetooth.device"),filterable:!0,sortable:!0,template:function(t){return(0,m.dy)(a||(a=(0,l.Z)(["",""])),t.device||"-")}},source:{title:t("ui.panel.config.bluetooth.source"),filterable:!0,sortable:!0,groupable:!0},source_address:{title:t("ui.panel.config.bluetooth.source_address"),filterable:!0,sortable:!0,defaultHidden:!0}}}),t._dataWithNamedSourceAndIds=(0,_.Z)(function(e){return e.map(function(e){var i=t._sourceDevices[e.address],n=t._sourceDevices[e.source],a=t._scanners[e.source],o=t._addressNames[e.address]||e.address;return Object.assign(Object.assign({},e),{},{id:e.address,name:o,source_address:e.source,source:(null==n?void 0:n.name_by_user)||(null==n?void 0:n.name)||(null==a?void 0:a.name)||e.source,device:(null==i?void 0:i.name_by_user)||(null==i?void 0:i.name)||void 0})})}),t}return(0,h.Z)(e,t),(0,u.Z)(e,[{key:"connectedCallback",value:function(){var t=this;if((0,p.Z)(e,"connectedCallback",this,3)([]),this.hass){this._unsubScanners=(0,x.ho)(this.hass.connection,function(e){t._scanners=e}),this._unsub_advertisements=(0,x.PT)(this.hass.connection,function(e){var i,n=(0,s.Z)(e);try{for(n.s();!(i=n.n()).done;){var a=i.value;t._addressNames[a.address]=a.name}}catch(o){n.e(o)}finally{n.f()}});var i=Object.values(this.hass.devices).filter(function(t){return t.connections.find(function(t){return"bluetooth"===t[0]})});this._sourceDevices=Object.fromEntries(i.map(function(t){return[t.connections.find(function(t){return"bluetooth"===t[0]})[1],t]})),this._subscribeBluetoothConnectionAllocations()}}},{key:"_subscribeBluetoothConnectionAllocations",value:(i=(0,d.Z)((0,r.Z)().m(function t(){var e=this;return(0,r.Z)().w(function(t){for(;;)switch(t.n){case 0:if(!this._unsubConnectionAllocations){t.n=1;break}return t.a(2);case 1:return t.n=2,(0,x.JG)(this.hass.connection,function(t){var i,n=(0,s.Z)(t);try{for(n.s();!(i=n.n()).done;){var a=i.value;e._connectionAllocationData[a.source]=a}}catch(h){n.e(h)}finally{n.f()}for(var o=[],r=0,d=Object.values(e._connectionAllocationData);r<d.length;r++){var l,c=d[r],u=(0,s.Z)(c.allocated);try{for(u.s();!(l=u.n()).done;){var f=l.value;o.push({address:f,source:c.source})}}catch(h){u.e(h)}finally{u.f()}}e._data=o});case 2:this._unsubConnectionAllocations=t.v;case 3:return t.a(2)}},t,this)})),function(){return i.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){(0,p.Z)(e,"disconnectedCallback",this,3)([]),this._unsub_advertisements&&(this._unsub_advertisements(),this._unsub_advertisements=void 0),this._unsubConnectionAllocations&&(this._unsubConnectionAllocations(),this._unsubConnectionAllocations=void 0),this._unsubScanners&&(this._unsubScanners(),this._unsubScanners=void 0)}},{key:"render",value:function(){return(0,m.dy)(o||(o=(0,l.Z)([' <hass-tabs-subpage-data-table .hass="','" .narrow="','" .route="','" .columns="','" .data="','" .initialGroupColumn="','" .initialCollapsedGroups="','" .noDataText="','" @grouping-changed="','" @collapsed-changed="','"></hass-tabs-subpage-data-table> '])),this.hass,this.narrow,this.route,this._columns(this.hass.localize),this._dataWithNamedSourceAndIds(this._data),this._activeGrouping,this._activeCollapsed,this.hass.localize("ui.panel.config.bluetooth.no_connections"),this._handleGroupingChanged,this._handleCollapseChanged)}},{key:"_handleGroupingChanged",value:function(t){this._activeGrouping=t.detail.value}},{key:"_handleCollapseChanged",value:function(t){this._activeCollapsed=t.detail.value}}]);var i}(m.oi);Z.styles=k.Qx,(0,v.__decorate)([(0,g.Cb)({attribute:!1})],Z.prototype,"hass",void 0),(0,v.__decorate)([(0,g.Cb)({attribute:!1})],Z.prototype,"route",void 0),(0,v.__decorate)([(0,g.Cb)({type:Boolean})],Z.prototype,"narrow",void 0),(0,v.__decorate)([(0,g.Cb)({attribute:"is-wide",type:Boolean})],Z.prototype,"isWide",void 0),(0,v.__decorate)([(0,g.SB)()],Z.prototype,"_data",void 0),(0,v.__decorate)([(0,g.SB)()],Z.prototype,"_scanners",void 0),(0,v.__decorate)([(0,g.SB)()],Z.prototype,"_addressNames",void 0),(0,v.__decorate)([(0,g.SB)()],Z.prototype,"_sourceDevices",void 0),(0,v.__decorate)([(0,b.t)({key:"bluetooth-connection-table-grouping",state:!1,subscribe:!1})],Z.prototype,"_activeGrouping",void 0),(0,v.__decorate)([(0,b.t)({key:"bluetooth-connection-table-collapsed",state:!1,subscribe:!1})],Z.prototype,"_activeCollapsed",void 0),(0,v.__decorate)([(0,g.SB)()],Z.prototype,"_connectionAllocationData",void 0),Z=(0,v.__decorate)([(0,g.Mo)("bluetooth-connection-monitor")],Z),n()}catch(M){n(M)}})},83533:function(t,e,i){i.d(e,{Ff:function(){return a},Fv:function(){return n},IU:function(){return o}});var n=function(t,e,i){return isNaN(t)||isNaN(e)||isNaN(i)?0:t>i?i:t<e?e:t},a=function(t,e,i){return 100*(t-e)/(i-e)},o=function(t){return Math.round(10*t)/10}}}]);
//# sourceMappingURL=15849.053bfe100af2ca2e.js.map