
Crackerjacking[33m...[0m

PDM installed: ✅

[?25l[36m⠋[0m [33m0:00:00[0m [1mResolving dependencies[0m  [2K[36m⠋[0m [33m0:00:00[0m [1mResolve for environment (>=3.13)[0m None[2K[36m⠋[0m [33m0:00:00[0m [1mResolve for environment (>=3.13)[0m None
[?25h[34mINFO:[0m [2mUsing uv is experimental and might break due to uv updates.[0m
[37m⠋[0m [2mResolving dependencies...                                                                                                                                            [0m[2K[37m⠙[0m [2mResolving dependencies...                                                                                                                                            [0m[2K[37m⠋[0m [2mResolving dependencies...                                                                                                                                            [0m[2K[37m⠙[0m [2mResolving dependencies...                                                                                                                                            [0m[2K[37m⠋[0m [2mResolving dependencies...                                                                                                                                            [0m[2K[37m⠙[0m [2mResolving dependencies...                                                                                                                                            [0m[2K[37m⠙[0m [2mstarlette-async-jinja==1.9.13                                                                                                                                        [0m[2K[37m⠙[0m [2mstarlette-async-jinja==1.9.13                                                                                                                                        [0m[2K[37m⠙[0m [2manyio==4.9.0                                                                                                                                                         [0m[2K[37m⠙[0m [2mjinja2==3.1.6                                                                                                                                                        [0m[2K[37m⠙[0m [2mjinja2-async-environment==0.11.8                                                                                                                                     [0m[2K[37m⠙[0m [2mmsgspec==0.19.0                                                                                                                                                      [0m[2K[37m⠙[0m [2mstarlette==0.47.0                                                                                                                                                    [0m[2K[37m⠙[0m [2mcrackerjack==0.20.20                                                                                                                                                 [0m[2K[37m⠙[0m [2midna==3.10                                                                                                                                                           [0m[2K[37m⠙[0m [2msniffio==1.3.1                                                                                                                                                       [0m[2K[37m⠙[0m [2mmarkupsafe==3.0.2                                                                                                                                                    [0m[2K[37m⠙[0m [2mredis==6.2.0                                                                                                                                                         [0m[2K[37m⠙[0m [2mautotyping==24.9.0                                                                                                                                                   [0m[2K[37m⠙[0m [2mkeyring==25.6.0                                                                                                                                                      [0m[2K[37m⠙[0m [2mpdm==2.25.2                                                                                                                                                          [0m[2K[37m⠙[0m [2mpdm-bump==0.9.12                                                                                                                                                     [0m[2K[37m⠙[0m [2mpre-commit==4.2.0                                                                                                                                                    [0m[2K[37m⠙[0m [2mpydantic==2.11.7                                                                                                                                                     [0m[2K[37m⠙[0m [2mpydantic-core==2.33.2                                                                                                                                                [0m[2K[2mResolved [1m87 packages[0m [2min 89ms[0m[0m
[?25l[2K[36m⠸[0m [33m0:00:00[0m [1mResolve for environment (>=3.13)[0m None[2K[36m⠦[0m [33m0:00:00[0m [1mResolve for environment (>=3.13)[0m None[2K  [33m0:00:00[0m [1m🔒 Lock successful.[0m  [2KChanges are written to [32mpdm.lock[0m.
  [33m0:00:00[0m [1m🔒 Lock successful.[0m  [2K  [33m0:00:00[0m [1m🔒 Lock successful.[0m  
[?25hLock file updated: ✅

Cleaned: /Users/les/Projects/starlette-async-jinja/starlette_async_jinja/responses.py
Cleaned: /Users/les/Projects/starlette-async-jinja/starlette_async_jinja/__init__.py

Running pre-commit hooks[33m...[0m

trailing-whitespace......................................................[42mPassed[m
end-of-file-fixer........................................................[42mPassed[m
check-yaml...............................................................[42mPassed[m
check-toml...............................................................[42mPassed[m
check-added-large-files..................................................[42mPassed[m
Validate pyproject.toml..................................................[42mPassed[m
pyproject-fmt............................................................[41mFailed[m
[2m- hook id: pyproject-fmt[m
[2m- exit code: 1[m
[2m- files were modified by this hook[m

[31m--- pyproject.toml
[0m
[32m+++ pyproject.toml
[0m
@@ -9,6 +9,7 @@

 version = "1.9.13"
 description = ""
 readme = "README.md"
[32m+license.text = "BSD-3-Clause"[0m
 authors = [
     { name = "lesleslie", email = "les@wedgwoodwebworks.com" },
 ]
@@ -33,18 +34,12 @@

     "starlette>=0.47",
 ]
 
[31m-[project.license][0m
[31m-text = "BSD-3-Clause"[0m
[31m-[0m
[31m-[project.optional-dependencies][0m
[31m-dev = [[0m
[32m+optional-dependencies.dev = [[0m
     "crackerjack>=0.20.20",
 ]
[31m-[0m
[31m-[project.urls][0m
[31m-Documentation = "https://github.com/lesleslie/starlette-async-jinja"[0m
[31m-Homepage = "https://github.com/lesleslie/starlette-async-jinja"[0m
[31m-Repository = "https://github.com/lesleslie/starlette-async-jinja"[0m
[32m+urls.Documentation = "https://github.com/lesleslie/starlette-async-jinja"[0m
[32m+urls.Homepage = "https://github.com/lesleslie/starlette-async-jinja"[0m
[32m+urls.Repository = "https://github.com/lesleslie/starlette-async-jinja"[0m
 
 [tool.ruff]
 target-version = "py313"
@@ -54,18 +49,15 @@

 show-fixes = true
 output-format = "full"
 
[31m-[tool.ruff.format][0m
[31m-docstring-code-format = true[0m
[31m-[0m
[31m-[tool.ruff.lint][0m
[31m-extend-select = [[0m
[32m+format.docstring-code-format = true[0m
[32m+lint.extend-select = [[0m
     "C901",
     "D",
     "F",
     "I",
     "UP",
 ]
[31m-ignore = [[0m
[32m+lint.ignore = [[0m
     "D100",
     "D101",
     "D102",
@@ -77,21 +69,15 @@

     "F821",
     "UP040",
 ]
[31m-fixable = [[0m
[32m+lint.fixable = [[0m
     "ALL",
 ]
[31m-unfixable = [][0m
[31m-[0m
[31m-[tool.ruff.lint.isort][0m
[31m-no-lines-before = [[0m
[32m+lint.unfixable = [  ][0m
[32m+lint.isort.no-lines-before = [[0m
     "first-party",
 ]
[31m-[0m
[31m-[tool.ruff.lint.mccabe][0m
[31m-max-complexity = 13[0m
[31m-[0m
[31m-[tool.ruff.lint.pydocstyle][0m
[31m-convention = "google"[0m
[32m+lint.mccabe.max-complexity = 13[0m
[32m+lint.pydocstyle.convention = "google"[0m
 
 [tool.codespell]
 skip = "*/data/*"

pdm-lock-check...........................................................[42mPassed[m
uv-lock..................................................................[42mPassed[m
Detect secrets...........................................................[42mPassed[m
codespell................................................................[42mPassed[m
ruff check...............................................................[42mPassed[m
ruff format..............................................................[42mPassed[m
vulture..................................................................[42mPassed[m
creosote.................................................................[42mPassed[m
refurb...................................................................[42mPassed[m
autotyping...............................................................[42mPassed[m
bandit...................................................................[42mPassed[m
pyright..................................................................[42mPassed[m
trailing-whitespace......................................................[42mPassed[m
end-of-file-fixer........................................................[42mPassed[m
check-yaml...............................................................[42mPassed[m
check-toml...............................................................[42mPassed[m
check-added-large-files..................................................[42mPassed[m
Validate pyproject.toml..................................................[42mPassed[m
pyproject-fmt............................................................[42mPassed[m
pdm-lock-check...........................................................[42mPassed[m
uv-lock..................................................................[42mPassed[m
Detect secrets...........................................................[42mPassed[m
codespell................................................................[42mPassed[m
ruff check...............................................................[42mPassed[m
ruff format..............................................................[42mPassed[m
vulture..................................................................[42mPassed[m
creosote.................................................................[42mPassed[m
refurb...................................................................[42mPassed[m
autotyping...............................................................[42mPassed[m
bandit...................................................................[42mPassed[m
pyright..................................................................[42mPassed[m


Running tests[33m...[0m

============================= test session starts ==============================
created: [1;36m2[0m/[1;36m2[0m workers
[1;36m2[0m workers [1m[[0m[1;36m42[0m items[1m][0m

scheduling tests via LoadScheduling

tests/test_e2e.py::test_template_rendering 
tests/test_integration.py::test_context_processors 
 PASSED tests/test_integration.py::test_context_processors 
tests/test_json_response.py::test_json_response_with_complex_types 
 PASSED tests/test_e2e.py::test_template_rendering 
tests/test_e2e.py::test_block_rendering 
 PASSED tests/test_e2e.py::test_block_rendering 
 PASSED tests/test_json_response.py::test_json_response_with_complex_types 
tests/test_e2e.py::test_fragment_rendering 
tests/test_json_response.py::test_json_response_with_custom_status_and_headers 
 PASSED tests/test_e2e.py::test_fragment_rendering 
tests/test_e2e.py::test_error_handling 
 PASSED tests/test_json_response.py::test_json_response_with_custom_status_and_headers 
tests/test_responses.py::test_json_response_render 
 PASSED tests/test_responses.py::test_json_response_render 
tests/test_responses.py::test_template_response_init 
 PASSED tests/test_responses.py::test_template_response_init 
 PASSED tests/test_e2e.py::test_error_handling 
tests/test_responses.py::test_async_jinja2_templates_generate_render_partial 
tests/test_integration.py::test_full_application_integration 
 PASSED tests/test_responses.py::test_async_jinja2_templates_generate_render_partial 
tests/test_responses.py::test_async_jinja2_templates_renderer 
 PASSED tests/test_responses.py::test_async_jinja2_templates_renderer 
 PASSED tests/test_integration.py::test_full_application_integration 
tests/test_responses.py::test_async_jinja2_templates_render_fragment 
tests/test_responses.py::test_template_response_call_with_debug_extension 
 PASSED tests/test_responses.py::test_template_response_call_with_debug_extension 
tests/test_responses.py::test_async_jinja2_templates_init 
 PASSED tests/test_responses.py::test_async_jinja2_templates_render_fragment 
 PASSED tests/test_responses.py::test_async_jinja2_templates_init 
tests/test_responses.py::test_async_jinja2_templates_render_fragment_with_context 
tests/test_responses.py::test_async_jinja2_templates_init_with_options 
 PASSED tests/test_responses.py::test_async_jinja2_templates_init_with_options 
tests/test_responses.py::test_async_jinja2_templates_create_env 
 PASSED tests/test_responses.py::test_async_jinja2_templates_render_fragment_with_context 
 PASSED tests/test_responses.py::test_async_jinja2_templates_create_env 
tests/test_responses.py::test_async_jinja2_templates_render_fragment_block_not_found 
tests/test_responses.py::test_async_jinja2_templates_render_block 
 PASSED tests/test_responses.py::test_async_jinja2_templates_render_fragment_block_not_found 
 PASSED tests/test_responses.py::test_async_jinja2_templates_render_block 
tests/test_responses.py::test_async_jinja2_templates_get_template 
tests/test_responses.py::test_async_jinja2_templates_template_response_kwargs 
 PASSED tests/test_responses.py::test_async_jinja2_templates_get_template 
tests/test_responses.py::test_async_jinja2_templates_get_template_not_found 
 PASSED tests/test_responses.py::test_async_jinja2_templates_get_template_not_found 
 PASSED tests/test_responses.py::test_async_jinja2_templates_template_response_kwargs 
tests/test_responses.py::test_async_jinja2_templates_template_response 
tests/test_responses.py::test_async_jinja2_templates_template_response_context_processors 
 PASSED tests/test_responses.py::test_async_jinja2_templates_template_response 
 PASSED tests/test_responses.py::test_async_jinja2_templates_template_response_context_processors 
tests/test_responses.py::test_render_template_alias 
tests/test_responses.py::test_async_jinja2_templates_template_response_other_args 
 PASSED tests/test_responses.py::test_render_template_alias 
 PASSED tests/test_responses.py::test_async_jinja2_templates_template_response_other_args 
tests/test_responses.py::test_render_block_error_handling 
tests/test_responses.py::test_async_jinja2_templates_renderer_error_handling 
 PASSED tests/test_responses.py::test_render_block_error_handling 
 PASSED tests/test_responses.py::test_async_jinja2_templates_renderer_error_handling 
tests/test_responses.py::test_template_response_with_none_context 
tests/test_responses.py::test_async_jinja2_templates_render_fragment_exception_handling 
 PASSED tests/test_responses.py::test_async_jinja2_templates_render_fragment_exception_handling 
 PASSED tests/test_responses.py::test_template_response_with_none_context 
tests/test_responses.py::test_async_jinja2_templates_render_block_no_markup 
tests/test_responses.py::test_async_jinja2_templates_template_response_error_handling 
 PASSED tests/test_responses.py::test_async_jinja2_templates_render_block_no_markup 
 PASSED tests/test_responses.py::test_async_jinja2_templates_template_response_error_handling 
tests/test_responses.py::test_json_response_render_parametrized 
tests/test_responses.py::test_json_response_render_parametrized[1m[[0mdata1-[1m{[0m[32m"nested"[0m:[1m{[0m[32m"key"[0m:[1m[[0m[32m"value1"[0m,[32m"value2"[0m[1m][0m[1m}[0m[1m}[0m[1m][0m 
 PASSED tests/test_responses.py::test_json_response_render_parametrized 
 PASSED tests/test_responses.py::test_json_response_render_parametrized[1m[[0mdata1-[1m{[0m[32m"nested"[0m:[1m{[0m[32m"key"[0m:[1m[[0m[32m"value1"[0m,[32m"value2"[0m[1m][0m[1m}[0m[1m}[0m[1m][0m 
tests/test_responses.py::test_json_response_render_parametrized[1m[[0mdata2-[1m[[0m[1m][0m[1m][0m 
tests/test_responses.py::test_json_response_render_parametrized 
 PASSED tests/test_responses.py::test_json_response_render_parametrized[1m[[0mdata2-[1m[[0m[1m][0m[1m][0m 
 PASSED tests/test_responses.py::test_json_response_render_parametrized 
tests/test_responses.py::test_json_response_render_parametrized[1m[[0m[3;35mNone[0m-null[1m][0m 
tests/test_responses.py::test_json_response_render_parametrized[1m[[0m[1;36m123[0m-[1;36m123[0m[1m][0m 
 PASSED tests/test_responses.py::test_json_response_render_parametrized[1m[[0m[3;35mNone[0m-null[1m][0m 
 PASSED tests/test_responses.py::test_json_response_render_parametrized[1m[[0m[1;36m123[0m-[1;36m123[0m[1m][0m 
tests/test_responses.py::test_json_response_render_parametrized 
tests/test_responses.py::test_json_response_render_parametrized[1m[[0m[3;92mTrue[0m-true[1m][0m 
 PASSED tests/test_responses.py::test_json_response_render_parametrized 
 PASSED tests/test_responses.py::test_json_response_render_parametrized[1m[[0m[3;92mTrue[0m-true[1m][0m 
tests/test_responses.py::test_async_jinja2_templates_render_fragment_handle_exception 
 PASSED tests/test_responses.py::test_async_jinja2_templates_render_fragment_handle_exception 

================================ tests coverage ================================
_______________ coverage: platform darwin, python [1;36m3.13[0m.[1;36m5[0m-final-[1;36m0[0m _______________

Name                                 Stmts   Miss  Cover
--------------------------------------------------------
starlette_async_jinja/responses.py     [1;36m115[0m      [1;36m0[0m   [1;36m100[0m%
--------------------------------------------------------
TOTAL                                  [1;36m115[0m      [1;36m0[0m   [1;36m100[0m%
Required test coverage of [1;36m42[0m% reached. Total coverage: [1;36m100.00[0m%
============================== slowest durations ===============================
[1;36m0.[0m05s call     tests/test_json_response.py::test_json_response_with_complex_types
[1;36m0.[0m03s call     tests/test_e2e.py::test_template_rendering
[1;36m0.[0m02s call     tests/test_json_response.py::test_json_response_with_custom_status_and_headers
[1;36m0.[0m02s call     tests/test_integration.py::test_full_application_integration
[1;36m0.[0m02s setup    tests/test_responses.py::test_async_jinja2_templates_template_response_kwargs
[1;36m0.[0m01s call     tests/test_e2e.py::test_error_handling
[1;36m0.[0m01s setup    tests/test_e2e.py::test_template_rendering
[1;36m0.[0m01s setup    tests/test_responses.py::test_async_jinja2_templates_template_response_context_processors
[1;36m0.[0m01s setup    tests/test_responses.py::test_async_jinja2_templates_template_response
[1;36m0.[0m01s setup    tests/test_responses.py::test_template_response_with_none_context
[1;36m0.[0m01s call     tests/test_integration.py::test_context_processors
[1;36m0.[0m01s setup    tests/test_responses.py::test_render_template_alias
[1;36m0.[0m01s setup    tests/test_responses.py::test_async_jinja2_templates_template_response_other_args
[1;36m0.[0m01s setup    tests/test_e2e.py::test_block_rendering
[1;36m0.[0m01s setup    tests/test_responses.py::test_async_jinja2_templates_render_fragment_exception_handling
[1;36m0.[0m01s setup    tests/test_responses.py::test_async_jinja2_templates_renderer
[1;36m0.[0m01s call     tests/test_e2e.py::test_fragment_rendering
[1;36m0.[0m01s setup    tests/test_responses.py::test_async_jinja2_templates_render_fragment_with_context
[1;36m0.[0m01s call     tests/test_responses.py::test_async_jinja2_templates_render_fragment
[1;36m0.[0m01s setup    tests/test_responses.py::test_async_jinja2_templates_render_fragment_block_not_found
[1;36m0.[0m01s setup    tests/test_e2e.py::test_error_handling
[1;36m0.[0m01s setup    tests/test_responses.py::test_async_jinja2_templates_render_fragment
[1;36m0.[0m01s setup    tests/test_responses.py::test_async_jinja2_templates_render_block
[1;36m0.[0m01s call     tests/test_e2e.py::test_block_rendering
[1;36m0.[0m01s setup    tests/test_integration.py::test_context_processors
[1;36m0.[0m01s setup    tests/test_responses.py::test_async_jinja2_templates_generate_render_partial
[1;36m0.[0m01s call     tests/test_responses.py::test_async_jinja2_templates_render_fragment_with_context
[1;36m0.[0m01s setup    tests/test_responses.py::test_async_jinja2_templates_render_fragment_handle_exception
[1;36m0.[0m01s setup    tests/test_responses.py::test_async_jinja2_templates_template_response_error_handling

[1m([0m[1;36m97[0m durations < [1;36m0.[0m005s hidden.  Use -vv to show these durations.[1m)[0m
============================== [1;36m42[0m passed in [1;36m3.[0m01s ==============================



✅ Tests passed successfully!


🍺 Crackerjack complete!

