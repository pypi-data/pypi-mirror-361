"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["91587"],{42515:function(t,e,i){i.d(e,{v:function(){return s}});var a=i(29694),o=i(75778),s=function(){var t=(0,o.Z)((0,a.Z)().m(function t(e,i){var o,s;return(0,a.Z)().w(function(t){for(;;)switch(t.n){case 0:if(!navigator.clipboard){t.n=4;break}return t.p=1,t.n=2,navigator.clipboard.writeText(e);case 2:return t.a(2);case 3:t.p=3,t.v;case 4:o=null!=i?i:document.body,(s=document.createElement("textarea")).value=e,o.appendChild(s),s.select(),document.execCommand("copy"),o.removeChild(s);case 5:return t.a(2)}},t,null,[[1,3]])}));return function(e,i){return t.apply(this,arguments)}}()},2183:function(t,e,i){i.r(e),i.d(e,{HaQrCode:function(){return v}});var a,o,s,r=i(54982),n=i(54521),c=i(4490),d=i(20129),l=i(85297),h=i(53389),m=(i(12212),i(24819),i(81738),i(6989),i(96821),i(54480),i(70820),i(73742)),u=i(59048),p=i(7616),_=i(18915),g=(i(12942),i(45657)),v=function(t){function e(){var t;(0,n.Z)(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=(0,d.Z)(this,e,[].concat(a))).errorCorrectionLevel="medium",t.width=4,t.scale=4,t.margin=4,t}return(0,l.Z)(e,t),(0,c.Z)(e,[{key:"willUpdate",value:function(t){(0,h.Z)(e,"willUpdate",this,3)([t]),(t.has("data")||t.has("scale")||t.has("width")||t.has("margin")||t.has("maskPattern")||t.has("errorCorrectionLevel"))&&this._error&&(this._error=void 0)}},{key:"updated",value:function(t){var e=this,i=this._canvas;if(i&&this.data&&(t.has("data")||t.has("scale")||t.has("width")||t.has("margin")||t.has("maskPattern")||t.has("errorCorrectionLevel")||t.has("centerImage"))){var a=getComputedStyle(this),o=a.getPropertyValue("--rgb-primary-text-color"),s=a.getPropertyValue("--rgb-card-background-color"),r=(0,g.CO)(o.split(",").map(function(t){return parseInt(t,10)})),n=(0,g.CO)(s.split(",").map(function(t){return parseInt(t,10)}));if(_.toCanvas(i,this.data,{errorCorrectionLevel:this.errorCorrectionLevel||(this.centerImage?"Q":"M"),width:this.width,scale:this.scale,margin:this.margin,maskPattern:this.maskPattern,color:{light:n,dark:r}}).catch(function(t){e._error=t.message}),this.centerImage){var c=this._canvas.getContext("2d"),d=new Image;d.src=this.centerImage,d.onload=function(){null==c||c.drawImage(d,.375*i.width,.375*i.height,i.width/4,i.height/4)}}}}},{key:"render",value:function(){return this.data?this._error?(0,u.dy)(a||(a=(0,r.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):(0,u.dy)(o||(o=(0,r.Z)(["<canvas></canvas>"]))):u.Ld}}])}(u.oi);v.styles=(0,u.iv)(s||(s=(0,r.Z)([":host{display:block}"]))),(0,m.__decorate)([(0,p.Cb)()],v.prototype,"data",void 0),(0,m.__decorate)([(0,p.Cb)({attribute:"error-correction-level"})],v.prototype,"errorCorrectionLevel",void 0),(0,m.__decorate)([(0,p.Cb)({type:Number})],v.prototype,"width",void 0),(0,m.__decorate)([(0,p.Cb)({type:Number})],v.prototype,"scale",void 0),(0,m.__decorate)([(0,p.Cb)({type:Number})],v.prototype,"margin",void 0),(0,m.__decorate)([(0,p.Cb)({attribute:!1,type:Number})],v.prototype,"maskPattern",void 0),(0,m.__decorate)([(0,p.Cb)({attribute:"center-image"})],v.prototype,"centerImage",void 0),(0,m.__decorate)([(0,p.SB)()],v.prototype,"_error",void 0),(0,m.__decorate)([(0,p.IO)("canvas")],v.prototype,"_canvas",void 0),v=(0,m.__decorate)([(0,p.Mo)("ha-qr-code")],v)},34897:function(t,e,i){i.a(t,async function(t,a){try{i.r(e);var o,s,r,n,c,d,l,h=i(54982),m=i(29694),u=i(75778),p=i(54521),_=i(4490),g=i(20129),v=i(85297),f=i(73742),y=(i(98334),i(59048)),w=i(7616),b=i(39884),C=i(6514),Z=i(83378),k=(i(2183),i(96222)),x=i(65505),L=i(95814),P=i(35580),z=i(42515),I=t([C]);C=(I.then?(await I)():I)[0];var q=function(t){function e(){return(0,p.Z)(this,e),(0,g.Z)(this,e,arguments)}return(0,v.Z)(e,t),(0,_.Z)(e,[{key:"showDialog",value:(f=(0,u.Z)((0,m.Z)().m(function t(e){return(0,m.Z)().w(function(t){for(;;)switch(t.n){case 0:this.device_id=e.device_id;case 1:return t.a(2)}},t,this)})),function(t){return f.apply(this,arguments)})},{key:"render",value:function(){var t;return this.device_id?(0,y.dy)(o||(o=(0,h.Z)([' <ha-dialog open @closed="','" .heading="','"> '," </ha-dialog> "])),this.closeDialog,(0,Z.i)(this.hass,this.hass.localize("ui.panel.config.matter.open_commissioning_window.title")),this._commissionParams?(0,y.dy)(s||(s=(0,h.Z)([" <p> "," <br> ",' </p> <div class="sharing-code-container"> <div class="sharing-code"> <img crossorigin="anonymous" referrerpolicy="no-referrer" alt="','" src="','"> <ha-qr-code .data="','" errorCorrectionLevel="quartile" scale="6" margin="1"></ha-qr-code> <span class="code">',"-","-",'</span> </div> </div> <mwc-button slot="primaryAction" @click="','"> '," </mwc-button> "])),this.hass.localize("ui.panel.config.matter.open_commissioning_window.success"),this.hass.localize("ui.panel.config.matter.open_commissioning_window.scan_code"),(0,k.Lh)(this.hass.localize,"matter"),(0,P.X1)({domain:"matter",type:"logo",darkOptimized:null===(t=this.hass.themes)||void 0===t?void 0:t.darkMode}),this._commissionParams.setup_qr_code,this._commissionParams.setup_manual_code.substring(0,4),this._commissionParams.setup_manual_code.substring(4,7),this._commissionParams.setup_manual_code.substring(7),this._copyCode,this.hass.localize("ui.panel.config.matter.open_commissioning_window.copy_code")):"started"===this._status?(0,y.dy)(r||(r=(0,h.Z)([' <div class="flex-container"> <ha-spinner></ha-spinner> <div class="status"> <p> <b> ',' </b> </p> </div> </div> <mwc-button slot="primaryAction" @click="','"> '," </mwc-button> "])),this.hass.localize("ui.panel.config.matter.open_commissioning_window.in_progress"),this.closeDialog,this.hass.localize("ui.common.close")):"failed"===this._status?(0,y.dy)(n||(n=(0,h.Z)([' <div class="flex-container"> <ha-svg-icon .path="','" class="failed"></ha-svg-icon> <div class="status"> <p> ',' </p> </div> </div> <mwc-button slot="primaryAction" @click="','"> '," </mwc-button> "])),"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",this.hass.localize("ui.panel.config.matter.open_commissioning_window.failed"),this.closeDialog,this.hass.localize("ui.common.close")):(0,y.dy)(c||(c=(0,h.Z)([" <p> ",' </p> <p class="note"> ',' </p> <mwc-button slot="primaryAction" @click="','"> '," </mwc-button> "])),this.hass.localize("ui.panel.config.matter.open_commissioning_window.description",{startCommissioning:(0,y.dy)(d||(d=(0,h.Z)(["<b>","</b>"])),this.hass.localize("ui.panel.config.matter.open_commissioning_window.start_commissioning"))}),this.hass.localize("ui.panel.config.matter.open_commissioning_window.prevent_misuse_description"),this._start,this.hass.localize("ui.panel.config.matter.open_commissioning_window.start_commissioning"))):y.Ld}},{key:"_start",value:(a=(0,u.Z)((0,m.Z)().m(function t(){return(0,m.Z)().w(function(t){for(;;)switch(t.n){case 0:if(this.hass){t.n=1;break}return t.a(2);case 1:return this._status="started",this._commissionParams=void 0,t.p=2,t.n=3,(0,x.lN)(this.hass,this.device_id);case 3:this._commissionParams=t.v,t.n=5;break;case 4:t.p=4,t.v,this._status="failed";case 5:return t.a(2)}},t,this,[[2,4]])})),function(){return a.apply(this,arguments)})},{key:"_copyCode",value:(i=(0,u.Z)((0,m.Z)().m(function t(){return(0,m.Z)().w(function(t){for(;;)switch(t.n){case 0:if(this._commissionParams){t.n=1;break}return t.a(2);case 1:return t.n=2,(0,z.v)(this._commissionParams.setup_manual_code);case 2:this.closeDialog();case 3:return t.a(2)}},t,this)})),function(){return i.apply(this,arguments)})},{key:"closeDialog",value:function(){this.device_id=void 0,this._status=void 0,this._commissionParams=void 0,(0,b.B)(this,"dialog-closed",{dialog:this.localName})}}],[{key:"styles",get:function(){return[L.yu,(0,y.iv)(l||(l=(0,h.Z)([".success{color:var(--success-color)}.failed{color:var(--error-color)}.flex-container{display:flex;align-items:center}.stages{margin-top:16px}.stage ha-svg-icon{width:16px;height:16px}.stage{padding:8px}ha-svg-icon{width:68px;height:48px}ha-qr-code{text-align:center}.flex-container ha-spinner,.flex-container ha-svg-icon{margin-right:20px}.sharing-code-container{display:flex;justify-content:center;padding-top:16px}.sharing-code{display:flex;flex-direction:column;align-items:center;border:2px solid;border-radius:16px;padding:16px}.sharing-code img{width:160px;margin-bottom:8px}.code{font-family:var(--ha-font-family-code)}.note{color:var(--secondary-text-color);font-size:.9em}"])))]}}]);var i,a,f}(y.oi);(0,f.__decorate)([(0,w.Cb)({attribute:!1})],q.prototype,"hass",void 0),(0,f.__decorate)([(0,w.SB)()],q.prototype,"device_id",void 0),(0,f.__decorate)([(0,w.SB)()],q.prototype,"_status",void 0),(0,f.__decorate)([(0,w.SB)()],q.prototype,"_commissionParams",void 0),q=(0,f.__decorate)([(0,w.Mo)("dialog-matter-open-commissioning-window")],q),a()}catch(D){a(D)}})}}]);
//# sourceMappingURL=91587.5eac7275c7882f19.js.map