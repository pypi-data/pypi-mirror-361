"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["65291"],{65136:function(t,e,i){i.a(t,async function(t,e){try{var s=i(54521),n=i(4490),a=i(20129),r=i(85297),o=i(53389),l=(i(44776),i(40777),i(12212),i(81738),i(22960),i(54480),i(67398),i(73742)),h=i(59048),u=i(7616),c=i(39884),f=(i(993),i(91320)),d=i(69962),y=i(78879),v=t([d]);d=(v.then?(await v)():v)[0];var _=function(t){function e(){var t;(0,s.Z)(this,e);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=(0,a.Z)(this,e,[].concat(n))).preview=!1,t._listeners=[],t}return(0,r.Z)(e,t),(0,n.Z)(e,[{key:"load",value:function(){if(!this.config)throw new Error("Cannot build badge without config");this._loadElement(this.config)}},{key:"createRenderRoot",value:function(){return this}},{key:"disconnectedCallback",value:function(){(0,o.Z)(e,"disconnectedCallback",this,3)([]),this._clearMediaQueries()}},{key:"connectedCallback",value:function(){(0,o.Z)(e,"connectedCallback",this,3)([]),this._listenMediaQueries(),this._updateVisibility()}},{key:"_updateElement",value:function(t){this._element&&(this._element.setConfig(t),this._elementConfig=t,(0,c.B)(this,"badge-updated"))}},{key:"_loadElement",value:function(t){var e=this;for(this._element=(0,d.JE)(t),this._elementConfig=t,this.hass&&(this._element.hass=this.hass),this._element.addEventListener("ll-upgrade",function(t){t.stopPropagation(),e.hass&&(e._element.hass=e.hass),(0,c.B)(e,"badge-updated")},{once:!0}),this._element.addEventListener("ll-rebuild",function(i){i.stopPropagation(),e._loadElement(t),(0,c.B)(e,"badge-updated")},{once:!0});this.lastChild;)this.removeChild(this.lastChild);this._updateVisibility()}},{key:"willUpdate",value:function(t){(0,o.Z)(e,"willUpdate",this,3)([t]),this._element||this.load()}},{key:"update",value:function(t){if((0,o.Z)(e,"update",this,3)([t]),this._element){if(t.has("config")){var i,s=this._elementConfig;if(this.config!==s&&this.config)(null===(i=this.config)||void 0===i?void 0:i.type)!==(null==s?void 0:s.type)?this._loadElement(this.config):this._updateElement(this.config)}if(t.has("hass"))try{this.hass&&(this._element.hass=this.hass)}catch(n){this._loadElement((0,y.Fr)(n.message,null))}}(t.has("hass")||t.has("preview"))&&this._updateVisibility()}},{key:"_clearMediaQueries",value:function(){this._listeners.forEach(function(t){return t()}),this._listeners=[]}},{key:"_listenMediaQueries",value:function(){var t,e=this;if(this._clearMediaQueries(),null!==(t=this.config)&&void 0!==t&&t.visibility){var i=this.config.visibility,s=1===i.length&&"screen"===i[0].condition&&!!i[0].media_query;this._listeners=(0,f.av)(this.config.visibility,function(t){e._updateVisibility(s&&t)})}}},{key:"_updateVisibility",value:function(t){var e;if(this._element&&this.hass)if(this._element.hidden)this._setElementVisibility(!1);else{var i=t||this.preview||!(null!==(e=this.config)&&void 0!==e&&e.visibility)||(0,f.Ec)(this.config.visibility,this.hass);this._setElementVisibility(i)}}},{key:"_setElementVisibility",value:function(t){this._element&&(this.hidden!==!t&&(this.style.setProperty("display",t?"":"none"),this.toggleAttribute("hidden",!t),(0,c.B)(this,"badge-visibility-changed",{value:t})),!t&&this._element.parentElement?this.removeChild(this._element):t&&!this._element.parentElement&&this.appendChild(this._element))}}])}(h.fl);(0,l.__decorate)([(0,u.Cb)({type:Boolean})],_.prototype,"preview",void 0),(0,l.__decorate)([(0,u.Cb)({attribute:!1})],_.prototype,"config",void 0),(0,l.__decorate)([(0,u.Cb)({attribute:!1})],_.prototype,"hass",void 0),_=(0,l.__decorate)([(0,u.Mo)("hui-badge")],_),e()}catch(p){e(p)}})},14465:function(t,e,i){i.a(t,async function(t,s){try{i.r(e),i.d(e,{HuiEntityFilterBadge:function(){return m}});var n=i(75706),a=i(61943),r=i(54521),o=i(4490),l=i(20129),h=i(85297),u=i(53389),c=(i(40777),i(12212),i(25518),i(24819),i(2394),i(81738),i(33480),i(94814),i(6989),i(72489),i(87799),i(54480),i(73742)),f=i(59048),d=i(7616),y=i(41885),v=i(55577),_=i(91320),p=i(65136),g=t([p]);p=(g.then?(await g)():g)[0];var m=function(t){function e(){var t;(0,r.Z)(this,e);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=(0,l.Z)(this,e,[].concat(s))).preview=!1,t}return(0,h.Z)(e,t),(0,o.Z)(e,[{key:"setConfig",value:function(t){if(!t.entities.length||!Array.isArray(t.entities))throw new Error("Entities must be specified");if(!(t.conditions&&Array.isArray(t.conditions)||t.state_filter&&Array.isArray(t.state_filter)||t.entities.every(function(t){return"object"===(0,a.Z)(t)&&t.state_filter&&Array.isArray(t.state_filter)})))throw new Error("Incorrect filter config");for(;this.lastChild;)this.removeChild(this.lastChild);this._elements=void 0,this._configEntities=(0,v.A)(t.entities),this._oldEntities=void 0,this._config=t}},{key:"createRenderRoot",value:function(){return this}},{key:"shouldUpdate",value:function(t){return!!(t.has("_config")||t.has("hass")&&this._haveEntitiesChanged(t.get("hass")))}},{key:"update",value:function(t){var i=this;if((0,u.Z)(e,"update",this,3)([t]),this.hass&&this._configEntities){if(this._elements){var s,a=(0,n.Z)(this._elements);try{for(a.s();!(s=a.n()).done;){s.value.hass=this.hass}}catch(p){a.e(p)}finally{a.f()}}var r=this._configEntities.filter(function(t){var e,s,n=i.hass.states[t.entity];if(!n)return!1;var a=null!==(e=t.conditions)&&void 0!==e?e:i._config.conditions;if(a){var r=a.map(function(e){return(0,_.Mo)(e,t.entity)});return(0,_.Ec)(r,i.hass)}var o=null!==(s=t.state_filter)&&void 0!==s?s:i._config.state_filter;return!!o&&o.some(function(t){return(0,y.j)(n,t)})});if(0===r.length)return this.style.display="none",void(this._oldEntities=r);if(!(this._oldEntities&&r.length===this._oldEntities.length&&r.every(function(t,e){return t===i._oldEntities[e]}))){this._elements=[];var o,l=(0,n.Z)(r);try{for(l.s();!(o=l.n()).done;){var h=o.value,c=document.createElement("hui-badge");c.hass=this.hass,c.preview=this.preview,c.config=Object.assign({type:"entity"},h),c.load(),this._elements.push(c)}}catch(p){l.e(p)}finally{l.f()}this._oldEntities=r}if(this._elements){for(;this.lastChild;)this.removeChild(this.lastChild);var f,d=(0,n.Z)(this._elements);try{for(d.s();!(f=d.n()).done;){var v=f.value;this.appendChild(v)}}catch(p){d.e(p)}finally{d.f()}this.style.display="flex",this.style.flexWrap="wrap",this.style.justifyContent="center",this.style.gap="8px"}}}},{key:"_haveEntitiesChanged",value:function(t){var e;if(!t)return!0;if(!this._oldEntities||this.hass.localize!==t.localize)return!0;var i,s=(0,n.Z)(this._configEntities);try{for(s.s();!(i=s.n()).done;){var a=i.value;if(this.hass.states[a.entity]!==t.states[a.entity])return!0;if(a.conditions){var r,o=(0,_.UK)(a.conditions),l=(0,n.Z)(o);try{for(l.s();!(r=l.n()).done;){var h=r.value;if(this.hass.states[h]!==t.states[h])return!0}}catch(v){l.e(v)}finally{l.f()}}}}catch(v){s.e(v)}finally{s.f()}if(null!==(e=this._config)&&void 0!==e&&e.conditions){var u,c,f=(0,_.UK)(null===(u=this._config)||void 0===u?void 0:u.conditions),d=(0,n.Z)(f);try{for(d.s();!(c=d.n()).done;){var y=c.value;if(this.hass.states[y]!==t.states[y])return!0}}catch(v){d.e(v)}finally{d.f()}}return!1}}])}(f.fl);(0,c.__decorate)([(0,d.Cb)({attribute:!1})],m.prototype,"preview",void 0),(0,c.__decorate)([(0,d.Cb)({attribute:!1})],m.prototype,"hass",void 0),(0,c.__decorate)([(0,d.SB)()],m.prototype,"_config",void 0),m=(0,c.__decorate)([(0,d.Mo)("hui-entity-filter-badge")],m),s()}catch(b){s(b)}})},41885:function(t,e,i){i.d(e,{j:function(){return n}});var s=i(61943),n=(i(39710),i(24819),i(81738),i(6989),i(21700),i(96821),i(54480),i(65640),i(28660),i(64455),i(32192),i(56303),i(56389),i(20655),function(t,e){var i,n,a;if("object"===(0,s.Z)(e)?(i=e.operator,n=e.value,a=e.attribute?t.attributes[e.attribute]:t.state):(i="==",n=e,a=t.state),"=="===i||"!="===i){var r="number"==typeof n||"string"==typeof n&&n.trim()&&!isNaN(Number(n)),o="number"==typeof a||"string"==typeof a&&a.trim()&&!isNaN(Number(a));r&&o&&(n=Number(n),a=Number(a))}switch(i){case"==":return a===n;case"<=":return a<=n;case"<":return a<n;case">=":return a>=n;case">":return a>n;case"!=":return a!==n;case"in":return!(!Array.isArray(n)&&"string"!=typeof n)&&(Array.isArray(n)&&(n=n.map(function(t){return"".concat(t)})),n.includes(a));case"not in":return!(!Array.isArray(n)&&"string"!=typeof n)&&(Array.isArray(n)&&(n=n.map(function(t){return"".concat(t)})),!n.includes(a));case"regex":return"string"==typeof n&&(null!==a&&"object"===(0,s.Z)(a)?RegExp(n).test(JSON.stringify(a)):RegExp(n).test(a));default:return!1}})}}]);
//# sourceMappingURL=65291.51895786ad54d65e.js.map