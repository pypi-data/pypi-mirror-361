(()=>{"use strict";var e,t,n,r={9440:(e,t,n)=>{var r=n(750),i=n(641),o=n(953),a=n(136),u=n(296),s=n(467),l=n(4756),c=n.n(l),d=n(33),p=n(1268),f=n(920),v=n(9194),m=n(810),b=n(3454),y=n(9596),h=n(4590),_=(0,b.A)("project"),g=(0,m.nY)("project",{state:function(){return{loading:!0,error:!1,collection:[],projectId:null,item:{}}},actions:{setCurrentProjectId:function(e){this.projectId=e},loadProject:function(){var e=arguments,t=this;return(0,s.A)(c().mark(function n(){var r;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=(r=e.length>0&&void 0!==e[0]?e[0]:null)||t.projectId){n.next=1;break}throw Error("no Id provided");case 1:return t.loading=!0,n.abrupt("return",y.A.projects.load(r).then(function(e){return t.loading=!1,t.error=!1,t.item=e,e}).catch(t.handleError));case 2:case"end":return n.stop()}},n)}))()},loadProjects:function(e,t){var n=this;return(0,s.A)(c().mark(function r(){return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.loading=!0,r.abrupt("return",y.A.projects.getProjects(e,t).then(function(e){var r;return t.pageOptions&&2==e.length?(n.collectionMetaData=e[0],r=e[1]):r=e,n.loading=!1,n.error="",n.collection=r,r}).catch(n.handleError));case 1:case"end":return r.stop()}},r)}))()},handleError:function(e){var t=this;return(0,s.A)(c().mark(function n(){return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading=!1,t.error=e,n.abrupt("return",Promise.reject(e));case 1:case"end":return n.stop()}},n)}))()},saveProject:function(e){var t=this;return(0,s.A)(c().mark(function n(){var r;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=t.projectId||e.id)){n.next=1;break}return n.abrupt("return",y.A.projects.update(e,r));case 1:return n.abrupt("return",t.createProject(e));case 2:case"end":return n.stop()}},n)}))()},createProject:function(e){return(0,s.A)(c().mark(function t(){var n,r;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.id){t.next=1;break}throw Error("Project already exists (has an id)");case 1:if(n=_(),r=n.getOptions("company_id")){t.next=2;break}throw Error("Missing company_id");case 2:return y.A.projects.setCompanyId(r),t.abrupt("return",y.A.projects.create(e));case 3:case"end":return t.stop()}},t)}))()},updateProject:function(e,t){return(0,s.A)(c().mark(function n(){return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=1;break}throw Error("no Id provided");case 1:return n.abrupt("return",y.A.projects.update(e,t));case 2:case"end":return n.stop()}},n)}))()}},getters:(0,h.Q)("project")}),k=(0,b.A)("task"),j=(0,m.nY)("task",{state:function(){return{loading:!0,error:!1,item:{}}},actions:{setAddUrl:function(e){y.A.tasks.setCollectionUrl(e)},createTask:function(e){return(0,s.A)(c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.id){t.next=1;break}throw Error("Task already exists (has an id)");case 1:return t.abrupt("return",y.A.tasks.create(e));case 2:case"end":return t.stop()}},t)}))()}}}),w=n(7977),A=n(320),R=n(7546),x=n(1275),C=n(1278),S=n(7437),O=n(2323),L=n(6952),K=n(6741),P={class:"form-group"},F=["for"],E=["id","checked","value","name","disabled"],W=["innerHTML"];const X={__name:"Checkbox",props:{modelValue:{type:null},label:String,description:{type:String,default:""},name:String,value:{type:[String,Number]},divCss:{type:String,default:"toggle"},editable:{type:Boolean,default:!0}},setup:function(e){var t=e,n=(0,r.NF)(t.name),a=(0,o.QW)(t),u=a.name,s=a.value,l=(0,p.Mt)(u,void 0,{type:"checkbox",checkedValue:s}),c=l.checked,f=l.handleChange;return function(t,r){return(0,i.uX)(),(0,i.CE)("div",P,[(0,i.Lk)("div",{class:(0,d.C4)(e.divCss)},[(0,i.Lk)("label",{for:(0,o.R1)(n)},[(0,i.Lk)("input",{id:(0,o.R1)(n),type:"checkbox",checked:(0,o.R1)(c),value:(0,o.R1)(s),name:(0,o.R1)(u),disabled:!e.editable,onChange:r[0]||(r[0]=function(){return(0,o.R1)(f)&&(0,o.R1)(f).apply(void 0,arguments)})},null,40,E),(0,i.Lk)("span",null,(0,d.v_)(e.label),1)],8,F)],2),e.description?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"help-block",innerHTML:e.description},null,8,W)):(0,i.Q3)("v-if",!0)])}}};var N={class:"form-group String"},I=["innerHTML"];const V={__name:"CheckboxList",props:{name:String,label:String,modelValue:{type:null},options:{type:Array},description:{type:String},idKey:{type:String,default:"id"},labelKey:{type:String,default:"label"},editable:{type:Boolean,default:!0},required:{type:Boolean,default:!1}},setup:function(e){var t=e,n=(0,r.NF)(t.name);return function(t,r){return(0,i.uX)(),(0,i.CE)("div",N,[(0,i.bF)(K.A,{label:e.label,required:e.required,"tag-id":(0,o.R1)(n)},null,8,["label","required","tag-id"]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.options,function(t,n){return(0,i.uX)(),(0,i.Wv)(X,{key:e.name+"-"+n,label:t[e.labelKey],name:e.name,value:t[e.idKey],editable:e.editable,"div-css":"checkbox"},null,8,["label","name","value","editable"])}),128)),e.description?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"help-block",innerHTML:e.description},null,8,I)):(0,i.Q3)("v-if",!0)])}}};var B={class:"deformFormFieldset"},T={class:"row form-row"},D={class:"col-md-12"},Q={class:"row form-row"},M={class:"col-md-12"},U={class:"row form-row"},q={class:"col-md-12"},H={class:"row form-row"},Y={class:"col-md-12"},$=["disabled"];const z={__name:"ProjectForm",props:{project:{type:Object},layout:{type:Object}},emits:["saved","cancel","error"],setup:function(e,t){var n=t.emit,r=e,a=n,u=_(),s=u.getOptions("project_types"),l=(0,o.KR)(u.getOptions("invoicing_modes")),c=(0,o.KR)(u.getOptions("business_types")),v=u.getSchema("default"),m=(0,f.cp)(v),b=(0,f.rV)(m),y=(0,p.mN)({validationSchema:m,initialValues:b}),h=y.values,k=y.handleSubmit,j=y.setFieldValue,w=y.isSubmitting,R=g(),x=k((0,f.FP)(a,R.saveProject),(0,f.WS)(a)),C=function(){return a("cancel")};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e&&(e=h.project_type_id),e){console.log("Changement du type de dossier");var t=s.find(function(t){return t.id==parseInt(e)});"default"!=t.name?(j("mode","ht"),l.value=[{name:"ht"}]):l.value=u.getOptions("invoicing_modes"),c.value=u.getOptions("business_types").filter(function(e){return t.other_business_type_ids.includes(e.id)}),j("business_types",[])}}S();var K=function(e){return(0,f.Nw)(m,e)};(0,i.wB)(function(){return h.project_type_id},S);var P=r.layout;return function(t,n){return(0,i.uX)(),(0,i.Wv)((0,o.R1)(P),{onSubmitForm:(0,o.R1)(x),onClose:C},{title:(0,i.k6)(function(){return[e.project.id?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)("Modifier un dossier")],64)):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.eW)("Ajouter un dossier")],64))]}),fields:(0,i.k6)(function(){return[(0,i.Lk)("fieldset",B,[(0,i.Lk)("div",T,[(0,i.Lk)("div",D,[(0,i.bF)(A.A,(0,d._B)((0,i.Ng)(K("name"))),null,16)])]),(0,i.Lk)("div",Q,[(0,i.Lk)("div",M,[(0,o.R1)(s).length>1?((0,i.uX)(),(0,i.Wv)(L.A,(0,i.v6)({key:0},K("project_type_id"),{options:(0,o.R1)(s)}),null,16,["options"])):(0,i.Q3)("v-if",!0),(0,i.bF)(A.A,(0,i.v6)({type:"hidden"},K("project_type_id")),null,16)])]),(0,i.Lk)("div",U,[(0,i.Lk)("div",q,[l.value.length>1?((0,i.uX)(),(0,i.Wv)(L.A,(0,i.v6)({key:0},K("mode"),{options:l.value,inline:"",idKey:"value"}),null,16,["options"])):(0,i.Q3)("v-if",!0),(0,i.bF)(A.A,(0,i.v6)(K("mode"),{type:"hidden"}),null,16)])]),(0,i.Lk)("div",H,[(0,i.Lk)("div",Y,[c.value.length>0?((0,i.uX)(),(0,i.Wv)(V,(0,i.v6)({key:0,options:c.value},K("business_types"),{name:"business_types"}),null,16,["options"])):((0,i.uX)(),(0,i.Wv)(A.A,(0,i.v6)({key:1},K("business_types"),{type:"hidden"}),null,16))])])])]}),buttons:(0,i.k6)(function(){return[(0,i.Lk)("button",{id:"deformsubmit",name:"submit",type:"submit",class:"btn btn-primary",value:"submit",disabled:(0,o.R1)(w)}," Valider ",8,$),(0,i.Lk)("button",{id:"deformcancel",name:"cancel",type:"button",class:"btn btn-default",onClick:C}," Annuler "),(0,o.R1)(!1)?((0,i.uX)(),(0,i.Wv)(O.A,{key:0,debug:(0,o.R1)(h)},null,8,["debug"])):(0,i.Q3)("v-if",!0)]}),_:1},8,["onSubmitForm"])}}};var G={key:0};const J={__name:"ProjectFormComponent",props:{edit:{type:Boolean,default:!1},projectId:{type:Number||null,default:null},url:{type:String,required:!0},formConfigUrl:{type:String,required:!0},layout:{type:Object,default:S.A}},emits:["saved","cancel"],setup:function(e,t){return(0,s.A)(c().mark(function n(){var r,a,l,d,p,f,v,b,y,h,k,j,w,A,R,x;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return x=function(){console.log("Cancel Project add/edit"),v("cancel")},R=function(e){v("saved",e)},l=t.emit,v=l,b=!!(f=e).projectId,y=(0,o.KR)(!0),(h=_()).setUrl(f.formConfigUrl),k=g(),j=function(){var e=(0,s.A)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[h.loadConfig()],b&&(k.setCurrentProjectId(f.projectId),t.push(k.loadProject())),Promise.all(t).then(function(){return y.value=!1});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=(0,m.bP)(k),A=w.item,r=(0,i.E)(function(){return j()}),a=(0,u.A)(r,2),d=a[0],p=a[1],n.next=1,d;case 1:return p(),n.abrupt("return",function(t,n){return y.value?((0,i.uX)(),(0,i.CE)("div",G,"Chargement des informations")):((0,i.uX)(),(0,i.Wv)(z,{key:1,project:(0,o.R1)(A),layout:e.layout,onSaved:R,onCancel:x},null,8,["project","layout"]))});case 2:case"end":return n.stop()}},n)}))()}};var Z={class:"deformFormFieldset"},ee={class:"layout flex end_button"},te={class:"col-content"},ne={class:"col-button"},re=["title","aria-label"],ie={class:"form-group layout flex end_button"},oe={class:"col-content"},ae={class:"col-button"},ue=["title","aria-label"],se={class:"btn-group"},le=["disabled"];const ce={__name:"TaskAddForm",props:{initialData:Object},emits:["saved","cancel","error"],setup:function(e,t){var n=t.emit,r=e,a=n,u=!!r.initialData.project_id,l=k(),m=l.getOptions("customers_url"),b=l.getOptions("customers_config_url"),y=l.getOptions("projects_url"),h=l.getOptions("projects_config_url"),_=(0,v.N)(),S=g(),O=j();function L(){return K.apply(this,arguments)}function K(){return(K=(0,s.A)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,S.loadProjects(r.initialData.company_id,{fields:["id","name"],related:["customer_ids","phases","business_types"]});case 1:return e.abrupt("return",e.sent);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(){return F.apply(this,arguments)}function F(){return(F=(0,s.A)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,_.loadCustomers(r.initialData.company_id,{fields:["id","label"],related:["project_ids"]});case 1:return e.abrupt("return",e.sent);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var E=(0,o.KR)([]),W=(0,o.KR)([]);(0,i.sV)((0,s.A)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,P();case 1:return E.value=e.sent,e.next=2,L();case 2:W.value=e.sent;case 3:case"end":return e.stop()}},e)})));var X=l.getSchema("default"),N=(0,f.cp)(X),I=(0,f.rV)(N),V=(0,p.mN)({validationSchema:N,initialValues:I}),B=V.values,T=V.handleSubmit,D=V.setFieldValue,Q=V.isSubmitting,M=function(){console.log("computing customers");var e,t=(0,o.ux)(E.value);if(u){var n=parseInt(B.project_id);if(n){var r=t.filter(function(e){return e.project_ids.includes(n)});if(0===r.length)e=t;else{var i=t.filter(function(e){return!e.project_ids.includes(n)});e=[{text:"Clients du projet",children:r}],i.length>0&&e.push({text:"Autres clients",children:i})}}else e=[]}else e=t;return e},U=(0,i.EW)(function(){return function(){console.log("computing phases");var e=[];if(B.project_id){var t=S.getByid(B.project_id);t&&(e=t.phases)}return e}()}),q=(0,i.EW)(function(){return function(){console.log("computing business types");var e=[];if(B.project_id){var t=S.getByid(B.project_id);t&&(e=t.business_types)}return e}()}),H=(0,i.EW)(function(){return M()}),Y=(0,i.EW)(function(){return function(){var e,t=(0,o.ux)(W.value);if(u)e=t;else{var n=parseInt(B.customer_id);if(n)if($===n)e=t;else{var r=t.filter(function(e){return e.customer_ids.includes(n)});if(0===r.length)e=t;else{var i=t.filter(function(e){return!e.customer_ids.includes(n)});e=[{text:"Dossiers du client",children:r}],i.length>0&&e.push({text:"Autres dossiers",children:i})}}else e=[]}return e}()}),$=null,z=(0,o.KR)(!0);function G(e,t){return ce.apply(this,arguments)}function ce(){return(ce=(0,s.A)(c().mark(function e(t,n){var r,i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return S.setCurrentProjectId(t.id),r=[n],t.customer_ids&&(r=r.concat(t.customer_ids)),i={id:t.id,customers:r},e.next=1,S.saveProject(i);case 1:return e.abrupt("return",e.sent);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}(0,i.wB)(function(){return B.project_id},function(e,t){if(console.log("project_id changed from ".concat(t," to ").concat(e)),e){var n=S.getByid(e);u&&n.customer_ids&&1==n.customer_ids.length&&D("customer_id",n.customer_ids[0]),n.phases&&1==n.phases.length&&D("phase_id",n.phases[0].id),n.default_business_type_id?D("business_type_id",n.default_business_type_id):n.business_types&&1==n.business_types.length&&D("business_type_id",n.business_types[0].id)}}),(0,i.wB)(function(){return B.customer_id},function(e,t){if(console.log("customer_id changed from ".concat(t," to ").concat(e)),e){var n=_.getByid(e);u||(n.project_ids&&1==n.project_ids.length?(z.value=!0,D("project_id",n.project_ids[0])):n.project_ids&&0===n.project_ids.length?(z.value=!1,B.project_id=null):(z.value=!0,B.project_id=null))}});var de,pe,fe=(0,o.KR)(!1),ve=(0,o.KR)(!1),me=function(){fe.value=!1},be=function(){ve.value=!1},ye=function(){var e=(0,s.A)(c().mark(function e(t){var n,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if($=t.id,!u){e.next=2;break}if(!(n=B.project_id)){e.next=1;break}return r=S.getByid(n),e.next=1,G(r,t.id);case 1:e.next=3;break;case 2:delete B.project_id;case 3:return fe.value=!1,e.next=4,P();case 4:E.value=e.sent,H.value=M(),N.fields.customer_id._whitelist.add(t.id),D("customer_id",t.id);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=(0,s.A)(c().mark(function e(t){var n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=3;break}if(!(n=B.customer_id)){e.next=2;break}return e.next=1,G(t,n);case 1:$=null;case 2:e.next=4;break;case 3:delete B.customer_id;case 4:return ve.value=!1,e.next=5,L();case 5:W.value=e.sent,N.fields.project_id._whitelist.add(t.id),D("project_id",t.id);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_e=(0,o.Kh)({fieldName:"customer_id",labelKey:"label",options:H,onAdd:function(){fe.value=!0},title:"Ajouter un client"}),ge=(0,o.Kh)({fieldName:"project_id",labelKey:"name",options:Y,onAdd:function(){ve.value=!0},title:"Ajouter un dossier"});u?(pe=_e,de=ge):(de=_e,pe=ge);var ke=T((0,f.FP)(a,O.createTask),(0,f.WS)(a)),je=function(e){return(0,f.Nw)(N,e)};return function(e,t){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("form",{onSubmit:t[3]||(t[3]=function(){return(0,o.R1)(ke)&&(0,o.R1)(ke).apply(void 0,arguments)})},[(0,i.Lk)("fieldset",Z,[(0,i.bF)(A.A,(0,d._B)((0,i.Ng)(je("name"))),null,16),(0,i.Lk)("div",ee,[(0,i.Lk)("div",te,[(0,i.bF)(w.A,(0,i.v6)(je((0,o.R1)(de).fieldName),{name:(0,o.R1)(de).fieldName,idKey:"id",labelKey:(0,o.R1)(de).labelKey,options:(0,o.R1)(de).options,modelValue:(0,o.R1)(B)[(0,o.R1)(de).fieldName]}),null,16,["name","labelKey","options","modelValue"])]),(0,i.Lk)("div",ne,[(0,i.Lk)("button",{type:"button",class:"btn icon only",onClick:t[0]||(t[0]=function(){var e;return(0,o.R1)(de).onAdd&&(e=(0,o.R1)(de)).onAdd.apply(e,arguments)}),title:(0,o.R1)(de).title,"aria-label":(0,o.R1)(de).title},[(0,i.bF)(R.A,{name:"plus"})],8,re)])]),(0,i.Lk)("div",ie,[(0,i.Lk)("div",oe,[(0,i.bF)(w.A,(0,i.v6)(je((0,o.R1)(pe).fieldName),{name:(0,o.R1)(pe).fieldName,idKey:"id",labelKey:(0,o.R1)(pe).labelKey,options:(0,o.R1)(pe).options,modelValue:(0,o.R1)(B)[(0,o.R1)(pe).fieldName],description:(0,o.R1)(z)?null:"Le client sera automatiquement associé à ce nouveau projet"}),null,16,["name","labelKey","options","modelValue","description"])]),(0,i.Lk)("div",ae,[(0,i.Lk)("button",{type:"button",class:"btn icon only",onClick:t[1]||(t[1]=function(){var e;return(0,o.R1)(pe).onAdd&&(e=(0,o.R1)(pe)).onAdd.apply(e,arguments)}),title:(0,o.R1)(pe).title,"aria-label":(0,o.R1)(pe).title},[(0,i.bF)(R.A,{name:"plus"})],8,ue)])]),1==(0,o.R1)(U).length?((0,i.uX)(),(0,i.Wv)(A.A,(0,i.v6)({key:0,type:"hidden"},je("business_type_id")),null,16)):(0,i.Q3)("v-if",!0),(0,o.R1)(U).length>1?((0,i.uX)(),(0,i.Wv)(w.A,(0,i.v6)({key:1},je("phase_id"),{name:"phase_id",idKey:"id",labelKey:"name",options:(0,o.R1)(U),modelValue:(0,o.R1)(B).phase_id}),null,16,["options","modelValue"])):(0,i.Q3)("v-if",!0),1==(0,o.R1)(q).length?((0,i.uX)(),(0,i.Wv)(A.A,(0,i.v6)({key:2,type:"hidden"},je("business_type_id")),null,16)):(0,i.Q3)("v-if",!0),(0,o.R1)(q).length>1?((0,i.uX)(),(0,i.Wv)(w.A,(0,i.v6)({key:3},je("business_type_id"),{name:"business_type_id",idKey:"id",labelKey:"label",options:(0,o.R1)(q),modelValue:(0,o.R1)(B).business_type_id}),null,16,["options","modelValue"])):(0,i.Q3)("v-if",!0)]),(0,i.Lk)("div",se,[(0,i.Lk)("button",{id:"deformsubmit",name:"submit",type:"submit",class:"btn btn-primary btn btn-primary",value:"submit",disabled:(0,o.R1)(Q)}," Valider ",8,le),(0,i.Lk)("button",{id:"deformcancel",name:"cancel",type:"button",class:"btn btn-default",onClick:t[2]||(t[2]=function(){return a("cancel")})}," Annuler ")])],32),fe.value?((0,i.uX)(),(0,i.Wv)(C.A,{key:0,edit:!1,url:(0,o.R1)(m),"form-config-url":(0,o.R1)(b),onCancel:me,onSaved:ye,layout:x.A},null,8,["url","form-config-url"])):(0,i.Q3)("v-if",!0),ve.value?((0,i.uX)(),(0,i.Wv)(J,{key:1,edit:!1,url:(0,o.R1)(y),"form-config-url":(0,o.R1)(h),onCancel:be,onSaved:he,layout:x.A},null,8,["url","form-config-url"])):(0,i.Q3)("v-if",!0)])}}},de=ce;var pe={key:0};const fe={__name:"TaskAddFormComponent",props:{initialData:Object,url:String,formConfigUrl:String},emits:["save","cancel"],setup:function(e,t){return(0,s.A)(c().mark(function n(){var r,a,l,d,p,f,v,m,b,y,h,_;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.emit,f=e,v=l,(m=k()).setUrl(f.formConfigUrl),b=(0,o.KR)(!0),y=function(){var e=(0,s.A)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.loadConfig().then(function(e){b.value=!1});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j().setAddUrl(f.url),h=function(e){return v("save",e)},_=function(){return v("cancel")},r=(0,i.E)(function(){return y()}),a=(0,u.A)(r,2),d=a[0],p=a[1],n.next=1,d;case 1:return p(),n.abrupt("return",function(t,n){return b.value?((0,i.uX)(),(0,i.CE)("div",pe,"Chargement des informations")):((0,i.uX)(),(0,i.Wv)(de,{key:1,"initial-data":e.initialData,onSave:h,onCancel:_},null,8,["initial-data"]))});case 2:case"end":return n.stop()}},n)}))()}};var ve={class:"limited_width width30"};const me={__name:"App",setup:function(e){var t=(0,a.Dn)(),n=function(e){var t=e.type_.replace("internal","");window.location.replace("/"+t+"s/"+e.id)},r=function(){history.length>1?history.back():window.location="/"};return function(e,a){return(0,i.uX)(),(0,i.Wv)(i.tY,null,{fallback:(0,i.k6)(function(){return a[0]||(a[0]=[(0,i.eW)(" Loading... ")])}),default:(0,i.k6)(function(){return[(0,i.Lk)("div",ve,[(0,i.bF)(fe,{initialData:(0,o.R1)(t).initial_data,url:(0,o.R1)(t).api_url,formConfigUrl:(0,o.R1)(t).form_config_url,onSaved:n,onCancel:r},null,8,["initialData","url","formConfigUrl"])])]}),_:1})}}};(0,r.Yk)(me)}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=r,e=[],o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,r,i]=e[c],u=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every(e=>o.O[e](n[s]))?n.splice(s--,1):(u=!1,i<a&&(a=i));if(u){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);o.r(i);var a={};t=t||[null,n({}),n([]),n(n)];for(var u=2&r&&e;"object"==typeof u&&!~t.indexOf(u);u=n(u))Object.getOwnPropertyNames(u).forEach(t=>a[t]=()=>e[t]);return a.default=()=>e,o.d(i,a),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.e=()=>Promise.resolve(),o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.j=240,(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={240:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,u,s]=n,l=0;if(a.some(t=>0!==e[t])){for(r in u)o.o(u,r)&&(o.m[r]=u[r]);if(s)var c=s(o)}for(t&&t(n);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},n=self.webpackChunkenDI=self.webpackChunkenDI||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.nc=void 0;var a=o.O(void 0,[534],()=>o(9440));a=o.O(a)})();