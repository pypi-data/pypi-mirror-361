[tox]
envlist = py{38,39,310,312}


[testenv]
description = run unit tests
extras = 
    tests
    ai
commands =
    pytest -vvv {posargs:tests}


[testenv:format]
description = check formatting
skip_install = true
deps=
    black
    isort
commands =
    black --check --diff kelvin tests
    isort --check --diff kelvin tests


[testenv:lint]
description = check lint
skip_install = true
deps=
    mypy
    pydantic==2.*
    flake8
    flake8-pyproject
    lxml
    types-PyYAML
commands =
    mypy {posargs:kelvin}
    flake8 {posargs:kelvin}


[testenv:wheel]
description = build wheel
skip_install = true
deps=
    build
commands =
    python -m build --wheel
