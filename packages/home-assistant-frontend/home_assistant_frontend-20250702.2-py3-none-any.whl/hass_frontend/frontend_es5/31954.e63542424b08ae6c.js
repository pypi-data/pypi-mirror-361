"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["31954"],{42236:function(t,i,e){e.d(i,{U:function(){return n}});e(12212);var n=function(t){return"/api/image_proxy/".concat(t.entity_id,"?token=").concat(t.attributes.access_token,"&state=").concat(t.state)}},95257:function(t,i,e){e.r(i),e.d(i,{HuiPictureCard:function(){return x}});var n,a,s,o=e(29694),c=e(75778),h=e(54982),r=e(54521),_=e(4490),u=e(20129),f=e(53389),g=e(85297),d=(e(40777),e(26847),e(87799),e(54480),e(1455),e(48694),e(27530),e(73742)),l=e(59048),m=e(7616),p=e(31733),y=e(25191),v=e(4427),b=e(44272),k=(e(31138),e(42236)),w=e(76815),Z=e(88887),C=e(37807),S=e(93647),U=e(99389),x=function(t){function i(){return(0,r.Z)(this,i),(0,u.Z)(this,i,arguments)}return(0,g.Z)(i,t),(0,_.Z)(i,[{key:"getCardSize",value:function(){return 5}},{key:"setConfig",value:function(t){if(!t||!t.image&&!t.image_entity)throw new Error("Image required");this._config=Object.assign({tap_action:{action:"more-info"}},t)}},{key:"shouldUpdate",value:function(t){if(!this._config||(0,S.SN)(this,t))return!0;if(this._config.image_entity&&t.has("hass")){var i=t.get("hass");if(!i||i.states[this._config.image_entity]!==this.hass.states[this._config.image_entity])return!0}return!1}},{key:"updated",value:function(t){if((0,f.Z)(i,"updated",this,3)([t]),this._config&&this.hass){var e=t.get("hass"),n=t.get("_config");e&&n&&e.themes===this.hass.themes&&n.theme===this._config.theme||(0,v.R)(this,this.hass.themes,this._config.theme)}}},{key:"render",value:function(){var t,i;if(!this._config||!this.hass)return l.Ld;if(this._config.image_entity&&!(i=this.hass.states[this._config.image_entity]))return(0,l.dy)(n||(n=(0,h.Z)(['<hui-warning .hass="','"> '," </hui-warning>"])),this.hass,(0,U.i)(this.hass,this._config.image_entity));var e=this._config.image;if(this._config.image_entity)switch((0,b.M)(this._config.image_entity)){case"image":e=(0,k.U)(i);break;case"person":i.attributes.entity_picture&&(e=i.attributes.entity_picture)}return(0,l.dy)(a||(a=(0,h.Z)([' <ha-card @action="','" .actionHandler="','" tabindex="','" class="','"> <img alt="','" src="','"> </ha-card> '])),this._handleAction,(0,w.K)({hasHold:(0,C._)(this._config.hold_action),hasDoubleClick:(0,C._)(this._config.double_tap_action)}),(0,y.o)((0,C._)(this._config.tap_action)||this._config.image_entity?"0":void 0),(0,p.$)({clickable:Boolean(this._config.image_entity&&!this._config.tap_action||this._config.tap_action&&"none"!==this._config.tap_action.action||this._config.hold_action&&"none"!==this._config.hold_action.action||this._config.double_tap_action&&"none"!==this._config.double_tap_action.action)}),(0,y.o)(this._config.alt_text||(null===(t=i)||void 0===t?void 0:t.attributes.friendly_name)),this.hass.hassUrl(e))}},{key:"_handleAction",value:function(t){(0,Z.G)(this,this.hass,this._config,t.detail.action)}}],[{key:"getConfigElement",value:(s=(0,c.Z)((0,o.Z)().m(function t(){return(0,o.Z)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Promise.all([e.e("73614"),e.e("86689"),e.e("15601"),e.e("15634"),e.e("22092"),e.e("39991"),e.e("16376"),e.e("2769"),e.e("96859"),e.e("87146"),e.e("91523"),e.e("37541")]).then(e.bind(e,30479));case 1:return t.a(2,document.createElement("hui-picture-card-editor"))}},t)})),function(){return s.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{type:"picture",image:"https://demo.home-assistant.io/stub_config/t-shirt-promo.png"}}}]);var s}(l.oi);x.styles=(0,l.iv)(s||(s=(0,h.Z)(["ha-card{overflow:hidden;height:100%}ha-card.clickable{cursor:pointer}img{display:block;width:100%}"]))),(0,d.__decorate)([(0,m.Cb)({attribute:!1})],x.prototype,"hass",void 0),(0,d.__decorate)([(0,m.SB)()],x.prototype,"_config",void 0),x=(0,d.__decorate)([(0,m.Mo)("hui-picture-card")],x)}}]);
//# sourceMappingURL=31954.e63542424b08ae6c.js.map