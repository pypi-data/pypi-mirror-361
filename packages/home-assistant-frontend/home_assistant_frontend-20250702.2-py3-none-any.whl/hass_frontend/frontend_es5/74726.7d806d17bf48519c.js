"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["74726"],{55107:function(e,t,n){n.d(t,{N:function(){return r}});n(12212),n(87622),n(69643),n(44261);var i=[" ",": "," - "],r=function(e,t){for(var n=e.toLowerCase(),r=t.toLowerCase(),o=0,s=i;o<s.length;o++){var u=s[o],l="".concat(r).concat(u);if(n.startsWith(l)){var c=e.substring(l.length);if(c.length)return a(c.substr(0,c.indexOf(" ")))?c:c[0].toUpperCase()+c.slice(1)}}},a=function(e){return e.toLowerCase()!==e}},73804:function(e,t,n){n.d(t,{oU:function(){return b},lY:function(){return _},VG:function(){return m},AP:function(){return w}});var i=n(75706),r=n(10354),a=n(42385),o=(n(12212),n(25518),n(70021),n(39710),n(26847),n(24819),n(2394),n(18574),n(73042),n(81738),n(94814),n(29981),n(22960),n(6989),n(87799),n(48454),n(24533),n(54480),n(69920),n(11353),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(56389),n(48694),n(20655),n(67398),n(27530),n(40141)),s=n(44272),u=n(6219),l=n(15459),c=n(55107),d=n(36221),p=n(85993),f=n(96222),y=n(99918),h=n(19331),v=new Set(["ai_task","automation","configurator","device_tracker","event","geo_location","notify","persistent_notification","script","sun","tag","todo","zone"].concat((0,a.Z)(o.a5))),g=new Set(["backup","mobile_app"]),_=function(e,t){return Object.assign({type:"grid",cards:e.map(function(e){return{type:"tile",entity:e,show_entity_picture:["camera","image","person"].includes((0,s.M)(e))||void 0}})},t)},m=function(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=[],p=[],f=n.title?n.title.toLowerCase():void 0,y=[],h=(0,i.Z)(t);try{for(h.s();!(r=h.n()).done;){var v=r.value,g=e[v],_=(0,s.M)(v);if("alarm_control_panel"===_){var b={type:"alarm-panel",entity:v};u.push(b)}else if("camera"===_){var w={type:"picture-entity",entity:v};u.push(w)}else if("image"===_){var C={type:"picture",image_entity:v};u.push(C)}else if("climate"===_){var E,k,Z,O={type:"thermostat",entity:v,features:(null!==(E=null===(k=e[v])||void 0===k||null===(k=k.attributes)||void 0===k||null===(k=k.hvac_modes)||void 0===k?void 0:k.length)&&void 0!==E?E:0)>1?[{type:"climate-hvac-modes",hvac_modes:null===(Z=e[v])||void 0===Z||null===(Z=Z.attributes)||void 0===Z?void 0:Z.hvac_modes}]:void 0};u.push(O)}else if("humidifier"===_){var j={type:"humidifier",entity:v,features:[{type:"humidifier-toggle"}]};u.push(j)}else if("media_player"===_){var x={type:"media-control",entity:v};u.push(x)}else if("plant"===_){var W={type:"plant-status",entity:v};u.push(W)}else if("weather"===_){var L={type:"weather-forecast",entity:v,show_forecast:!1};u.push(L)}else if(!a||"scene"!==_&&"script"!==_){var M=void 0,N=f&&g&&(M=(0,c.N)((0,l.C)(g),f))?{entity:v,name:M}:v;p.push(N)}else{var z={entity:v,show_icon:!0,show_name:!0},K=void 0;f&&g&&(K=(0,c.N)((0,l.C)(g),f))&&(z.name=K),y.push(z)}}}catch(S){h.e(S)}finally{h.f()}if(p.sort(function(t,n){var i="string"==typeof t?t:t.entity,r="string"==typeof n?n:n.entity,a=o.zF.includes((0,s.M)(i))?"sensor":"control";return a!==(o.zF.includes((0,s.M)(r))?"sensor":"control")?"sensor"===a?1:-1:(0,d.$K)("string"==typeof t?e[t]?(0,l.C)(e[t]):"":t.name||"","string"==typeof n?e[n]?(0,l.C)(e[n]):"":n.name||"")}),0===p.length&&y.length>0)return m(e,t,n,!1);if(p.length>0||y.length>0){var P=Object.assign({type:"entities",entities:p},n);y.length>0&&(P.footer={type:"buttons",entities:y}),u.unshift(P)}return u.length<2?u:[{type:"grid",square:!1,columns:1,cards:u}]},b=function(e,t){var n,r=[],a=(0,i.Z)(t);try{for(a.s();!(n=a.n()).done;){var o={type:"entity",entity:n.value};r.push(o)}}catch(s){a.e(s)}finally{a.f()}return r},w=function(e,t,n,o,c,_,b,w,C){for(var E,k,Z=function(e,t){for(var n={},i=new Set(Object.values(t).filter(function(e){return e.entity_category||e.platform&&g.has(e.platform)||e.hidden}).map(function(e){return e.entity_id})),r=0,a=Object.keys(e);r<a.length;r++){var o=a[r],s=e[o];v.has((0,u.N)(s))||i.has(s.entity_id)||(n[o]=e[o])}return n}(o,n),O={},j=0,x=Object.keys(Z);j<x.length;j++){var W=x[j],L=Z[W];L.attributes.order&&(O[W]=L.attributes.order)}var M=function(e,t,n,i){for(var a=Object.assign({},i),o={},s={},u=0,l=Object.values(n);u<l.length;u++){var c,d=l[u],p=d.area_id||d.device_id&&(null===(c=t[d.device_id])||void 0===c?void 0:c.area_id);p&&p in e&&d.entity_id in a?(p in o||(o[p]=[]),o[p].push(a[d.entity_id]),delete a[d.entity_id]):d.device_id&&d.device_id in t&&d.entity_id in a&&(d.device_id in s||(s[d.device_id]=[]),s[d.device_id].push(a[d.entity_id]),delete a[d.entity_id])}for(var f=0,y=Object.entries(s);f<y.length;f++){var h=(0,r.Z)(y[f],2),v=h[0],g=h[1];1===g.length&&(a[g[0].entity_id]=g[0],delete s[v])}return{areasWithEntities:o,devicesWithEntities:s,otherEntities:a}}(e,t,n,Z);if(null!=b&&b.hidden){var N,z=(0,i.Z)(b.hidden);try{for(z.s();!(N=z.n()).done;){var K=N.value;delete M.areasWithEntities[K]}}catch(re){z.e(re)}finally{z.f()}}w&&(M.devicesWithEntities={},M.otherEntities={});var P=function(e){var t=[],n={};return Object.keys(e).forEach(function(i){var r=e[i];"group"===(0,s.M)(i)?t.push(r):n[i]=r}),t.forEach(function(e){return e.attributes.entity_id.forEach(function(e){delete n[e]})}),{groups:t,ungrouped:n}}(M.otherEntities);P.groups.sort(function(e,t){return O[e.entity_id]-O[t.entity_id]});var S,U=[],V=(0,i.Z)(P.groups);try{for(V.s();!(S=V.n()).done;){var $=S.value;U.push.apply(U,(0,a.Z)(m(o,$.attributes.entity_id,{title:(0,l.C)($),show_header_toggle:"hidden"!==$.attributes.control})))}}catch(re){V.e(re)}finally{V.f()}var q,F=function(e,t,n,r,o){for(var s={},c=0,p=Object.keys(o);c<p.length;c++){var v=p[c],g=o[v],_=(0,u.N)(g);_ in s||(s[_]=[]),s[_].push(g.entity_id)}var b=[];if("person"in s){var w=[];if(1===s.person.length)b.push({type:"entities",entities:s.person});else{var C,E,k="",Z=(0,i.Z)(s.person);try{for(Z.s();!(E=Z.n()).done;){var O=E.value,j=o[O],x=j.attributes.entity_picture;if(!x){if(void 0===C){var W=getComputedStyle(document.body);C=encodeURIComponent(W.getPropertyValue("--light-primary-color").trim()),k=encodeURIComponent((W.getPropertyValue("--text-light-primary-color")||W.getPropertyValue("--primary-text-color")).trim())}var L=(0,y.fm)(j.attributes.friendly_name||"");x="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' width='50' height='50' style='background-color:".concat(C,"'%3E%3Cg%3E%3Ctext font-family='roboto' x='50%25' y='50%25' text-anchor='middle' stroke='").concat(k,"' font-size='1.3em' dy='.3em'%3E").concat(L,"%3C/text%3E%3C/g%3E%3C/svg%3E")}w.push({type:"picture-entity",entity:O,aspect_ratio:"1",show_name:!1,image:x})}}catch(re){Z.e(re)}finally{Z.f()}b.push({type:"grid",square:!0,columns:3,cards:w})}delete s.person}var M,N=[],z=(0,i.Z)(h.y);try{for(z.s();!(M=z.n()).done;){var K=M.value;K in s&&(N.push.apply(N,(0,a.Z)(s[K])),delete s[K])}}catch(re){z.e(re)}finally{z.f()}for(var P={},S=0,U=Object.keys(s);S<U.length;S++){var V=U[S];P[V]=(0,f.Lh)(e,V)}N.length&&(s._helpers=N,P._helpers=e("ui.panel.lovelace.strategy.original-states.helpers")),Object.keys(s).sort(function(e,t){return(0,d.$K)(P[e],P[t])}).forEach(function(e){b.push.apply(b,(0,a.Z)(m(o,s[e].sort(function(e,t){return(0,d.$K)((0,l.C)(o[e]),(0,l.C)(o[t]))}),{title:P[e]})))});var $={path:t,title:n,cards:b};return r&&($.icon=r),$}(c,"default_view","Home",undefined,P.ungrouped),I=[],R=Object.keys(M.areasWithEntities).sort((0,p.a)(e,null==b?void 0:b.order)),A=(0,i.Z)(R);try{for(A.s();!(q=A.n()).done;){var B=q.value,G=M.areasWithEntities[B],H=e[B];I.push.apply(I,(0,a.Z)(m(o,G.map(function(e){return e.entity_id}),{title:H.name})))}}catch(re){A.e(re)}finally{A.f()}var Y,D,J=[],Q=Object.entries(M.devicesWithEntities).sort(function(e,n){var i=t[e[0]],r=t[n[0]];return(0,d.$K)(i.name_by_user||i.name||"",r.name_by_user||r.name||"")}),T=(0,i.Z)(Q);try{for(T.s();!(Y=T.n()).done;){var X=(0,r.Z)(Y.value,2),ee=X[0],te=X[1],ne=t[ee];J.push.apply(J,(0,a.Z)(m(o,te.map(function(e){return e.entity_id}),{title:ne.name_by_user||ne.name||c("ui.panel.config.devices.unnamed_device",{type:c("ui.panel.config.devices.type.".concat(ne.entry_type||"device"))})})))}}catch(re){T.e(re)}finally{T.f()}if(_&&!C){var ie=_.energy_sources.find(function(e){return"grid"===e.type});ie&&ie.flow_from.length>0&&(D={title:c("ui.panel.lovelace.cards.energy.energy_distribution.title_today"),type:"energy-distribution",link_dashboard:!0})}return(E=F.cards).unshift.apply(E,I.concat(U,(0,a.Z)(D?[D]:[]))),(k=F.cards).push.apply(k,J),F}}}]);
//# sourceMappingURL=74726.7d806d17bf48519c.js.map