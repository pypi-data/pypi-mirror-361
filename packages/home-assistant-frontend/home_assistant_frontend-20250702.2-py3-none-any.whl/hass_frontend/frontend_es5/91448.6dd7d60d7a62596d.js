"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["91448"],{22321:function(t,i,e){e.a(t,async function(t,s){try{e.r(i);var n,a,o,c,r,h,d,l=e(54982),u=e(29694),_=e(75778),f=e(54521),v=e(4490),b=e(20129),p=e(53389),y=e(85297),g=(e(40777),e(73742)),m=e(59048),k=e(7616),x=e(31733),w=e(25191),Z=e(15459),C=e(16230),E=e(30796),A=e(76815),F=e(88887),H=e(37807),z=e(93647),S=e(75948),$=e(99389),B=t([S]);S=(B.then?(await B)():B)[0];var D=function(t){function i(){return(0,f.Z)(this,i),(0,b.Z)(this,i,arguments)}return(0,y.Z)(i,t),(0,v.Z)(i,[{key:"_unsubscribeForecastEvents",value:function(){this._subscribed&&(this._subscribed.then(function(t){return t()}),this._subscribed=void 0)}},{key:"_subscribeForecastEvents",value:(e=(0,_.Z)((0,u.Z)().m(function t(){var i,e,s=this;return(0,u.Z)().w(function(t){for(;;)switch(t.n){case 0:if(this._unsubscribeForecastEvents(),this.hass&&this._config&&this.isConnected){t.n=1;break}return t.a(2);case 1:i=this.hass.states[this._config.entity],(e=(0,E.k5)(i))&&(this._subscribed=(0,E.MC)(this.hass,i.entity_id,e,function(t){s._forecastEvent=t}));case 2:return t.a(2)}},t,this)})),function(){return e.apply(this,arguments)})},{key:"connectedCallback",value:function(){(0,p.Z)(i,"connectedCallback",this,3)([]),this.hasUpdated&&this._subscribeForecastEvents()}},{key:"disconnectedCallback",value:function(){(0,p.Z)(i,"disconnectedCallback",this,3)([]),this._unsubscribeForecastEvents()}},{key:"setConfig",value:function(t){if(null==t||!t.entity)throw new Error("Entity must be specified");this._config=t}},{key:"shouldUpdate",value:function(t){return(0,z.G2)(this,t)||t.size>1||!t.has("hass")}},{key:"updated",value:function(t){(0,p.Z)(i,"updated",this,3)([t]),!t.has("_config")&&this._subscribed||this._subscribeForecastEvents()}},{key:"render",value:function(){if(!this.hass||!this._config)return m.Ld;var t=this.hass.states[this._config.entity];if(!t)return(0,m.dy)(n||(n=(0,l.Z)([' <hui-warning .hass="','"> '," </hui-warning> "])),this.hass,(0,$.i)(this.hass,this._config.entity));var i=(0,H.q)(this._config),e=this._config.secondary_info,s=(0,E.Cq)(t.state,this),d=(0,E.Rt)(t.attributes,this._forecastEvent),u=null==d?void 0:d.forecast;return(0,m.dy)(a||(a=(0,l.Z)([' <div class="icon-image ','" @action="','" .actionHandler="','" tabindex="','"> ',' </div> <div class="info ','" @action="','" .actionHandler="','"> '," ",' </div> <div class="attributes ','" @action="','" .actionHandler="','"> <div> ',' </div> <div class="secondary"> '," </div> </div> "])),(0,x.$)({pointer:i}),this._handleAction,(0,A.K)({hasHold:(0,H._)(this._config.hold_action),hasDoubleClick:(0,H._)(this._config.double_tap_action)}),(0,w.o)(!this._config.tap_action||(0,H._)(this._config.tap_action)?"0":void 0),s||(0,m.dy)(o||(o=(0,l.Z)([' <ha-state-icon class="weather-icon" .stateObj="','" .hass="','"></ha-state-icon> '])),t,this.hass),(0,x.$)({pointer:i,"text-content":!e}),this._handleAction,(0,A.K)({hasHold:(0,H._)(this._config.hold_action),hasDoubleClick:(0,H._)(this._config.double_tap_action)}),this._config.name||(0,Z.C)(t),e?(0,m.dy)(c||(c=(0,l.Z)([' <div class="secondary"> '," </div> "])),"entity-id"===this._config.secondary_info?t.entity_id:"last-changed"===this._config.secondary_info?(0,m.dy)(r||(r=(0,l.Z)([' <ha-relative-time .hass="','" .datetime="','" capitalize></ha-relative-time> '])),this.hass,t.last_changed):"last-updated"===this._config.secondary_info?(0,m.dy)(h||(h=(0,l.Z)([' <ha-relative-time .hass="','" .datetime="','" capitalize></ha-relative-time> '])),this.hass,t.last_updated):""):"",(0,x.$)({pointer:i}),this._handleAction,(0,A.K)({hasHold:(0,H._)(this._config.hold_action),hasDoubleClick:(0,H._)(this._config.double_tap_action)}),(0,C.rk)(t.state)||void 0===t.attributes.temperature||null===t.attributes.temperature?this.hass.formatEntityState(t):this.hass.formatEntityAttributeValue(t,"temperature"),(0,E.k2)(this.hass,t,u))}},{key:"_handleAction",value:function(t){(0,F.G)(this,this.hass,this._config,t.detail.action)}}],[{key:"styles",get:function(){return[E.A$,(0,m.iv)(d||(d=(0,l.Z)([":host{display:flex;align-items:center;flex-direction:row}.info{margin-left:16px;margin-inline-start:16px;margin-inline-end:initial;flex:1 0 60px}.info,.info>*{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.icon-image{display:flex;align-items:center;min-width:40px}.icon-image>*{flex:0 0 40px;height:40px}.icon-image:focus{outline:0;background-color:var(--divider-color);border-radius:50%}.weather-icon{--mdc-icon-size:40px}.pointer{cursor:pointer}.attributes{display:flex;flex-direction:column;justify-content:center;text-align:right;margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.secondary{color:var(--secondary-text-color)}"])))]}}]);var e}(m.oi);(0,g.__decorate)([(0,k.Cb)({attribute:!1})],D.prototype,"hass",void 0),(0,g.__decorate)([(0,k.SB)()],D.prototype,"_config",void 0),(0,g.__decorate)([(0,k.SB)()],D.prototype,"_forecastEvent",void 0),(0,g.__decorate)([(0,k.SB)()],D.prototype,"_subscribed",void 0),D=(0,g.__decorate)([(0,k.Mo)("hui-weather-entity-row")],D),s()}catch(K){s(K)}})}}]);
//# sourceMappingURL=91448.6dd7d60d7a62596d.js.map