(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["94717"],{54731:function(t,e,o){"use strict";o.d(e,{z:function(){return a}});o(39710),o(56389);var a=function(t){return function(e,o){return t.includes(e,o)}}},6219:function(t,e,o){"use strict";o.d(e,{N:function(){return n}});var a=o(44272),n=function(t){return(0,a.M)(t.entity_id)}},36590:function(t,e,o){"use strict";o.d(e,{e:function(){return a}});var a=function(t,e){return n(t.attributes,e)},n=function(t,e){return 0!==(t.supported_features&e)}},83378:function(t,e,o){"use strict";o.d(e,{i:function(){return p}});o(26847),o(27530),o(44776);var a=o(73742),n=o(24004),i=o(75907),r=o(59048),s=o(7616);o(12066),o(48017);let l,c,d,h=t=>t;const u=["button","ha-list-item"],p=(t,e)=>{var o;return(0,r.dy)(l||(l=h` <div class="header_title"> <ha-icon-button .label="${0}" .path="${0}" dialogAction="close" class="header_button"></ha-icon-button> <span>${0}</span> </div> `),null!==(o=null==t?void 0:t.localize("ui.common.close"))&&void 0!==o?o:"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",e)};class _ extends n.M{scrollToPos(t,e){var o;null===(o=this.contentElement)||void 0===o||o.scrollTo(t,e)}renderHeading(){return(0,r.dy)(c||(c=h`<slot name="heading"> ${0} </slot>`),super.renderHeading())}firstUpdated(){var t;super.firstUpdated(),this.suppressDefaultPressSelector=[this.suppressDefaultPressSelector,u].join(", "),this._updateScrolledAttribute(),null===(t=this.contentElement)||void 0===t||t.addEventListener("scroll",this._onScroll,{passive:!0})}disconnectedCallback(){super.disconnectedCallback(),this.contentElement.removeEventListener("scroll",this._onScroll)}_updateScrolledAttribute(){this.contentElement&&this.toggleAttribute("scrolled",0!==this.contentElement.scrollTop)}constructor(...t){super(...t),this._onScroll=()=>{this._updateScrolledAttribute()}}}_.styles=[i.W,(0,r.iv)(d||(d=h`:host([scrolled]) ::slotted(ha-dialog-header){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.mdc-dialog{--mdc-dialog-scroll-divider-color:var(
          --dialog-scroll-divider-color,
          var(--divider-color)
        );z-index:var(--dialog-z-index,8);-webkit-backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));--mdc-dialog-box-shadow:var(--dialog-box-shadow, none);--mdc-typography-headline6-font-weight:var(--ha-font-weight-normal);--mdc-typography-headline6-font-size:1.574rem}.mdc-dialog__actions{justify-content:var(--justify-action-buttons,flex-end);padding:12px 24px max(var(--safe-area-inset-bottom),12px) 24px}.mdc-dialog__actions span:first-child{flex:var(--secondary-action-button-flex,unset)}.mdc-dialog__actions span:nth-child(2){flex:var(--primary-action-button-flex,unset)}.mdc-dialog__container{align-items:var(--vertical-align-dialog,center)}.mdc-dialog__title{padding:24px 24px 0 24px}.mdc-dialog__title:has(span){padding:12px 12px 0}.mdc-dialog__title::before{content:unset}.mdc-dialog .mdc-dialog__content{position:var(--dialog-content-position,relative);padding:var(--dialog-content-padding,24px)}:host([hideactions]) .mdc-dialog .mdc-dialog__content{padding-bottom:max(var(--dialog-content-padding,24px),var(--safe-area-inset-bottom))}.mdc-dialog .mdc-dialog__surface{position:var(--dialog-surface-position,relative);top:var(--dialog-surface-top);margin-top:var(--dialog-surface-margin-top);min-height:var(--mdc-dialog-min-height,auto);border-radius:var(--ha-dialog-border-radius,28px);-webkit-backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);background:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff))}:host([flexContent]) .mdc-dialog .mdc-dialog__content{display:flex;flex-direction:column}.header_title{display:flex;align-items:center;direction:var(--direction)}.header_title span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;padding-left:4px}.header_button{text-decoration:none;color:inherit;inset-inline-start:initial;inset-inline-end:-12px;direction:var(--direction)}.dialog-actions{inset-inline-start:initial!important;inset-inline-end:0px!important;direction:var(--direction)}`))],_=(0,a.__decorate)([(0,s.Mo)("ha-dialog")],_)},5778:function(t,e,o){"use strict";var a,n=o(77528),i=o(29694),r=o(42385),s=o(75778),l=o(54521),c=o(4490),d=o(67063),h=o(20129),u=o(85297),p=o(53389),_=(o(12212),o(25518),o(55204),o(39710),o(26847),o(24819),o(44438),o(69643),o(81738),o(94814),o(6989),o(93190),o(54480),o(1455),o(65640),o(28660),o(64455),o(56303),o(56389),o(48694),o(27530),o(73742)),m=o(59048),v=o(7616),f=o(82040),g=o.n(f),b=o(39884),y=(o(41465),o(34845),o(95729),o(36330),o(38221),o(75863),o(86190)),k=function(){var t=(0,s.Z)((0,i.Z)().m(function t(e,n,r){return(0,i.Z)().w(function(t){for(;;)if(0===t.n)return a||(a=(0,y.Ud)(new Worker(new URL(o.p+o.u("45845"),o.b)))),t.a(2,a.renderMarkdown(e,n,r))},t)}));return function(e,o,a){return t.apply(this,arguments)}}(),w=new(o(28773).L)(1e3),x={reType:RegExp("(?<input>(\\[!(?<type>caution|important|note|tip|warning)\\])(?:\\s|\\\\n)?)","i"),typeToHaAlert:{caution:"error",important:"info",note:"info",tip:"success",warning:"warning"}},C=function(t){function e(){var t;(0,l.Z)(this,e);for(var o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];return(t=(0,h.Z)(this,e,[].concat(a))).allowSvg=!1,t.allowDataUrl=!1,t.breaks=!1,t.lazyImages=!1,t.cache=!1,t._resize=function(){return(0,b.B)((0,d.Z)(t),"content-resize")},t}return(0,u.Z)(e,t),(0,c.Z)(e,[{key:"disconnectedCallback",value:function(){if((0,p.Z)(e,"disconnectedCallback",this,3)([]),this.cache){var t=this._computeCacheKey();w.set(t,this.innerHTML)}}},{key:"createRenderRoot",value:function(){return this}},{key:"update",value:function(t){(0,p.Z)(e,"update",this,3)([t]),void 0!==this.content&&this._render()}},{key:"willUpdate",value:function(t){if(!this.innerHTML&&this.cache){var e=this._computeCacheKey();w.has(e)&&(this.innerHTML=w.get(e),this._resize())}}},{key:"_computeCacheKey",value:function(){return g()({content:this.content,allowSvg:this.allowSvg,allowDataUrl:this.allowDataUrl,breaks:this.breaks})}},{key:"_render",value:(a=(0,s.Z)((0,i.Z)().m(function t(){var e,a,s=this;return(0,i.Z)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,k(String(this.content),{breaks:this.breaks,gfm:!0},{allowSvg:this.allowSvg,allowDataUrl:this.allowDataUrl});case 1:this.innerHTML=t.v,this._resize(),e=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,null),a=(0,i.Z)().m(function t(){var a,n,l,c,d;return(0,i.Z)().w(function(t){for(;;)switch(t.n){case 0:(a=e.currentNode)instanceof HTMLAnchorElement&&a.host!==document.location.host?(a.target="_blank",a.rel="noreferrer noopener"):a instanceof HTMLImageElement?(s.lazyImages&&(a.loading="lazy"),a.addEventListener("load",s._resize)):a instanceof HTMLQuoteElement?(l=(null===(n=a.firstElementChild)||void 0===n||null===(n=n.firstChild)||void 0===n?void 0:n.textContent)&&x.reType.exec(a.firstElementChild.firstChild.textContent))&&(c=l.groups.type,(d=document.createElement("ha-alert")).alertType=x.typeToHaAlert[c.toLowerCase()],d.append.apply(d,(0,r.Z)(Array.from(a.childNodes).map(function(t){var e=Array.from(t.childNodes);if(!s.breaks&&e.length){var o,a=e[0];a.nodeType===Node.TEXT_NODE&&a.textContent===l.input&&null!==(o=a.textContent)&&void 0!==o&&o.includes("\n")&&(a.textContent=a.textContent.split("\n").slice(1).join("\n"))}return e}).reduce(function(t,e){return t.concat(e)},[]).filter(function(t){return t.textContent&&t.textContent!==l.input}))),e.parentNode().replaceChild(d,a)):a instanceof HTMLElement&&["ha-alert","ha-qr-code","ha-icon","ha-svg-icon"].includes(a.localName)&&o(23265)("./".concat(a.localName));case 1:return t.a(2)}},t)});case 2:if(!e.nextNode()){t.n=4;break}return t.d((0,n.Z)(a()),3);case 3:t.n=2;break;case 4:return t.a(2)}},t,this)})),function(){return a.apply(this,arguments)})}]);var a}(m.fl);(0,_.__decorate)([(0,v.Cb)()],C.prototype,"content",void 0),(0,_.__decorate)([(0,v.Cb)({attribute:"allow-svg",type:Boolean})],C.prototype,"allowSvg",void 0),(0,_.__decorate)([(0,v.Cb)({attribute:"allow-data-url",type:Boolean})],C.prototype,"allowDataUrl",void 0),(0,_.__decorate)([(0,v.Cb)({type:Boolean})],C.prototype,"breaks",void 0),(0,_.__decorate)([(0,v.Cb)({type:Boolean,attribute:"lazy-images"})],C.prototype,"lazyImages",void 0),(0,_.__decorate)([(0,v.Cb)({type:Boolean})],C.prototype,"cache",void 0),C=(0,_.__decorate)([(0,v.Mo)("ha-markdown-element")],C)},45861:function(t,e,o){"use strict";var a,n,i=o(54982),r=o(54521),s=o(4490),l=o(20129),c=o(85297),d=(o(12212),o(73742)),h=o(59048),u=o(7616),p=(o(5778),function(t){function e(){var t;(0,r.Z)(this,e);for(var o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];return(t=(0,l.Z)(this,e,[].concat(a))).allowSvg=!1,t.allowDataUrl=!1,t.breaks=!1,t.lazyImages=!1,t.cache=!1,t}return(0,c.Z)(e,t),(0,s.Z)(e,[{key:"render",value:function(){return this.content?(0,h.dy)(a||(a=(0,i.Z)(['<ha-markdown-element .content="','" .allowSvg="','" .allowDataUrl="','" .breaks="','" .lazyImages="','" .cache="','"></ha-markdown-element>'])),this.content,this.allowSvg,this.allowDataUrl,this.breaks,this.lazyImages,this.cache):h.Ld}}])}(h.oi));p.styles=(0,h.iv)(n||(n=(0,i.Z)([":host{display:block}ha-markdown-element{-ms-user-select:text;-webkit-user-select:text;-moz-user-select:text}ha-markdown-element>:first-child{margin-top:0}ha-markdown-element>:last-child{margin-bottom:0}ha-alert{display:block;margin:4px 0}a{color:var(--primary-color)}img{max-width:100%}code,pre{background-color:var(--markdown-code-background-color,none);border-radius:3px}svg{background-color:var(--markdown-svg-background-color,none);color:var(--markdown-svg-color,none)}code{font-size:var(--ha-font-size-s);padding:.2em .4em}pre code{padding:0}pre{padding:16px;overflow:auto;line-height:var(--ha-line-height-condensed);font-family:var(--ha-font-family-code)}h1,h2,h3,h4,h5,h6{line-height:initial}h2{font-size:var(--ha-font-size-xl);font-weight:var(--ha-font-weight-bold)}hr{border-color:var(--divider-color);border-bottom:none;margin:16px 0}"]))),(0,d.__decorate)([(0,u.Cb)()],p.prototype,"content",void 0),(0,d.__decorate)([(0,u.Cb)({attribute:"allow-svg",type:Boolean})],p.prototype,"allowSvg",void 0),(0,d.__decorate)([(0,u.Cb)({attribute:"allow-data-url",type:Boolean})],p.prototype,"allowDataUrl",void 0),(0,d.__decorate)([(0,u.Cb)({type:Boolean})],p.prototype,"breaks",void 0),(0,d.__decorate)([(0,u.Cb)({type:Boolean,attribute:"lazy-images"})],p.prototype,"lazyImages",void 0),(0,d.__decorate)([(0,u.Cb)({type:Boolean})],p.prototype,"cache",void 0),p=(0,d.__decorate)([(0,u.Mo)("ha-markdown")],p)},19331:function(t,e,o){"use strict";o.d(e,{X:function(){return i},y:function(){return n}});var a=o(54731),n=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],i=(0,a.z)(n)},10023:function(t,e,o){"use strict";o.a(t,async function(t,a){try{o.r(e);var n,i,r,s,l,c,d,h,u,p,_=o(54982),m=o(54521),v=o(4490),f=o(20129),g=o(85297),b=o(53389),y=(o(12212),o(39710),o(24533),o(73742)),k=(o(98334),o(59048)),w=o(7616),x=o(6514),C=(o(83378),o(87979),o(45861),o(60673)),Z=o(95814),S=t([x]);x=(S.then?(await S)():S)[0];var z=0,L=function(t){function e(){var t;(0,m.Z)(this,e);for(var o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];return(t=(0,f.Z)(this,e,[].concat(a)))._loading=!1,t._opened=!1,t._stepData={},t._computeLabel=function(e){return t.hass.localize("component.auth.mfa_setup.".concat(t._step.handler,".step.").concat(t._step.step_id,".data.").concat(e.name))||e.name},t._computeError=function(e){return t.hass.localize("component.auth.mfa_setup.".concat(t._step.handler,".error.").concat(e))||e},t}return(0,g.Z)(e,t),(0,v.Z)(e,[{key:"showDialog",value:function(t){var e=this,o=t.continueFlowId,a=t.mfaModuleId,n=t.dialogClosedCallback;this._instance=z++,this._dialogClosedCallback=n,this._opened=!0;var i=o?this.hass.callWS({type:"auth/setup_mfa",flow_id:o}):this.hass.callWS({type:"auth/setup_mfa",mfa_module_id:a}),r=this._instance;i.then(function(t){r===e._instance&&e._processStep(t)})}},{key:"closeDialog",value:function(){this._step&&this._flowDone(),this._opened=!1}},{key:"render",value:function(){var t,e;return this._opened?(0,k.dy)(n||(n=(0,_.Z)([' <ha-dialog open .heading="','" @closed="','"> <div> '," "," </div> "," "," </ha-dialog> "])),this._computeStepTitle(),this.closeDialog,this._errorMessage?(0,k.dy)(i||(i=(0,_.Z)(['<div class="error">',"</div>"])),this._errorMessage):"",this._step?(0,k.dy)(s||(s=(0,_.Z)(["",""])),"abort"===this._step.type?(0,k.dy)(l||(l=(0,_.Z)([' <ha-markdown allow-svg breaks .content="','"></ha-markdown>'])),this.hass.localize("component.auth.mfa_setup.".concat(this._step.handler,".abort.").concat(this._step.reason))):"create_entry"===this._step.type?(0,k.dy)(c||(c=(0,_.Z)(["<p> "," </p>"])),this.hass.localize("ui.panel.profile.mfa_setup.step_done",{step:this._step.title||this._step.handler})):"form"===this._step.type?(0,k.dy)(d||(d=(0,_.Z)(['<ha-markdown allow-svg breaks .content="','"></ha-markdown> <ha-form .hass="','" .data="','" .schema="','" .error="','" .computeLabel="','" .computeError="','" @value-changed="','"></ha-form>'])),this.hass.localize("component.auth.mfa_setup.".concat(this._step.handler,".step.").concat(this._step.step_id,".description"),this._step.description_placeholders),this.hass,this._stepData,(0,C.oT)(this._step.data_schema),this._step.errors,this._computeLabel,this._computeError,this._stepDataChanged):""):(0,k.dy)(r||(r=(0,_.Z)(['<div class="init-spinner"> <ha-spinner></ha-spinner> </div>']))),["abort","create_entry"].includes((null===(t=this._step)||void 0===t?void 0:t.type)||"")?(0,k.dy)(h||(h=(0,_.Z)(['<mwc-button slot="primaryAction" @click="','">',"</mwc-button>"])),this.closeDialog,this.hass.localize("ui.panel.profile.mfa_setup.close")):"","form"===(null===(e=this._step)||void 0===e?void 0:e.type)?(0,k.dy)(u||(u=(0,_.Z)(['<mwc-button slot="primaryAction" .disabled="','" @click="','">',"</mwc-button>"])),this._loading,this._submitStep,this.hass.localize("ui.panel.profile.mfa_setup.submit")):""):k.Ld}},{key:"firstUpdated",value:function(t){var o=this;(0,b.Z)(e,"firstUpdated",this,3)([t]),this.hass.loadBackendTranslation("mfa_setup","auth"),this.addEventListener("keypress",function(t){"Enter"===t.key&&o._submitStep()})}},{key:"_stepDataChanged",value:function(t){this._stepData=t.detail.value}},{key:"_submitStep",value:function(){var t=this;this._loading=!0,this._errorMessage=void 0;var e=this._instance;this.hass.callWS({type:"auth/setup_mfa",flow_id:this._step.flow_id,user_input:this._stepData}).then(function(o){e===t._instance&&(t._processStep(o),t._loading=!1)},function(e){t._errorMessage=e&&e.body&&e.body.message||"Unknown error occurred",t._loading=!1})}},{key:"_processStep",value:function(t){t.errors||(t.errors={}),this._step=t,0===Object.keys(t.errors).length&&(this._stepData={})}},{key:"_flowDone",value:function(){var t=Boolean(this._step&&["create_entry","abort"].includes(this._step.type));this._dialogClosedCallback({flowFinished:t}),this._errorMessage=void 0,this._step=void 0,this._stepData={},this._dialogClosedCallback=void 0,this.closeDialog()}},{key:"_computeStepTitle",value:function(){var t,e,o;return"abort"===(null===(t=this._step)||void 0===t?void 0:t.type)?this.hass.localize("ui.panel.profile.mfa_setup.title_aborted"):"create_entry"===(null===(e=this._step)||void 0===e?void 0:e.type)?this.hass.localize("ui.panel.profile.mfa_setup.title_success"):"form"===(null===(o=this._step)||void 0===o?void 0:o.type)?this.hass.localize("component.auth.mfa_setup.".concat(this._step.handler,".step.").concat(this._step.step_id,".title")):""}}],[{key:"styles",get:function(){return[Z.yu,(0,k.iv)(p||(p=(0,_.Z)([".error{color:red}ha-dialog{max-width:500px}ha-markdown{--markdown-svg-background-color:white;--markdown-svg-color:black;display:block;margin:0 auto}ha-markdown a{color:var(--primary-color)}ha-markdown-element p{text-align:center}ha-markdown-element code{background-color:transparent}ha-markdown-element>:last-child{margin-bottom:revert}.init-spinner{padding:10px 100px 34px;text-align:center}.submit-spinner{margin-right:16px;margin-inline-end:16px;margin-inline-start:initial}"])))]}}])}(k.oi);(0,y.__decorate)([(0,w.Cb)({attribute:!1})],L.prototype,"hass",void 0),(0,y.__decorate)([(0,w.SB)()],L.prototype,"_dialogClosedCallback",void 0),(0,y.__decorate)([(0,w.SB)()],L.prototype,"_instance",void 0),(0,y.__decorate)([(0,w.SB)()],L.prototype,"_loading",void 0),(0,y.__decorate)([(0,w.SB)()],L.prototype,"_opened",void 0),(0,y.__decorate)([(0,w.SB)()],L.prototype,"_stepData",void 0),(0,y.__decorate)([(0,w.SB)()],L.prototype,"_step",void 0),(0,y.__decorate)([(0,w.SB)()],L.prototype,"_errorMessage",void 0),L=(0,y.__decorate)([(0,w.Mo)("ha-mfa-module-setup-flow")],L),a()}catch(D){a(D)}})},28773:function(t,e,o){"use strict";o.d(e,{L:function(){return i}});var a=o(54521),n=o(4490),i=(o(26847),o(7175),o(54480),o(48694),o(27530),function(){return(0,n.Z)(function t(e){(0,a.Z)(this,t),this._cache=new Map,this._expiration=e},[{key:"get",value:function(t){return this._cache.get(t)}},{key:"set",value:function(t,e){var o=this;this._cache.set(t,e),this._expiration&&window.setTimeout(function(){return o._cache.delete(t)},this._expiration)}},{key:"has",value:function(t){return this._cache.has(t)}}])}())},23265:function(t,e,o){var a={"./ha-icon":["46358","82343","25817"],"./ha-icon-button-toggle":["68695","54472"],"./ha-svg-icon":["993"],"./ha-icon-button-group":["15053","59877"],"./ha-svg-icon.ts":["993"],"./ha-icon.ts":["46358","82343","25817"],"./ha-icon-overflow-menu":["65014","97103","91789","22092","79576","37165"],"./ha-icon-next":["5786","41374"],"./ha-icon-picker":["65981","73614","2243","97103","15601","16376","82343","38778"],"./ha-qr-code.ts":["2183","16892","22954"],"./ha-icon-button-arrow-prev.ts":["45109","86454"],"./ha-icon-button-arrow-prev":["45109","86454"],"./ha-icon-overflow-menu.ts":["65014","97103","91789","22092","79576","37165"],"./ha-alert":["12942","43404"],"./ha-icon-button-next":["22852","8145"],"./ha-icon-button":["48017"],"./ha-icon-button-next.ts":["22852","8145"],"./ha-icon-picker.ts":["65981","73614","2243","97103","15601","16376","82343","38778"],"./ha-icon-button-group.ts":["15053","59877"],"./ha-icon-button-toggle.ts":["68695","54472"],"./ha-icon-button-arrow-next.ts":["51383","30113"],"./ha-icon-button-prev.ts":["29813","54260"],"./ha-icon-prev":["21940","55974"],"./ha-icon-prev.ts":["21940","55974"],"./ha-icon-button.ts":["48017"],"./ha-alert.ts":["12942","43404"],"./ha-icon-button-prev":["29813","54260"],"./ha-qr-code":["2183","16892","22954"],"./ha-icon-next.ts":["5786","41374"],"./ha-icon-button-arrow-next":["51383","30113"]};function n(t){if(!o.o(a,t))return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=a[t],n=e[0];return Promise.all(e.slice(1).map(o.e)).then(function(){return o(n)})}n.keys=function(){return Object.keys(a)},n.id=23265,t.exports=n}}]);
//# sourceMappingURL=94717.b4df954e7436dc14.js.map