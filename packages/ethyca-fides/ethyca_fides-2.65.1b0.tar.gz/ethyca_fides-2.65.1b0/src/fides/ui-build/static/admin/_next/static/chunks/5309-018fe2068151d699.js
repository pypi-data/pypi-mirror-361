(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5309],{74833:function(e,t,i){var r=i(56127),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},56127:function(e){var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},11611:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},55193:function(e,t,i){var r=i(99736),a=i(92360);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},91936:function(e,t,i){var r=i(74833),a=i(11611),s=i(55193),l=0/0,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return l;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var i=o.test(e);return i||c.test(e)?d(e.slice(2),i?2:8):n.test(e)?l:+e}},7617:function(e,t,i){"use strict";i.d(t,{q:function(){return s}});var r=i(24246),a=i(86920);let s=e=>{let{label:t,isDisabled:i,...s}=e;return(0,r.jsx)(a.OK9,{"data-testid":"tab-".concat(t),_selected:{fontWeight:"600",color:"complimentary.500",borderColor:"complimentary.500"},fontSize:s.fontSize,fontWeight:"500",color:"gray.500",isDisabled:i||!1,children:t})};t.Z=e=>{let{data:t,border:i="partial",...l}=e;return(0,r.jsxs)(a.mQc,{colorScheme:"complimentary",...l,children:[(0,r.jsx)(a.tdY,{width:"partial"===i?"max-content":void 0,children:t.map(e=>(0,r.jsx)(s,{label:e.label,isDisabled:e.isDisabled,fontSize:l.fontSize},e.label))}),(0,r.jsx)(a.nPR,{children:t.map(e=>(0,r.jsx)(a.x45,{px:0,"data-testid":"tab-panel-".concat(e.label),children:e.content},e.label))})]})}},66379:function(e,t,i){"use strict";var r=i(24246),a=i(86920),s=i(7617);t.Z=e=>{let{data:t,border:i="partial",borderWidth:l=2,...n}=e;return(0,r.jsx)(a.mQc,{colorScheme:"complimentary",...n,children:(0,r.jsx)(a.tdY,{width:"partial"===i?"max-content":void 0,borderBottomWidth:l,children:t.map(e=>(0,r.jsx)(s.q,{label:e.label,"data-testid":e.label,isDisabled:e.isDisabled,fontSize:n.fontSize},e.label))})})}},58754:function(e,t,i){"use strict";var r=i(24246),a=i(86920),s=i(70788);t.Z=e=>{let{heading:t,breadcrumbItems:i,isSticky:l=!0,children:n,rightContent:o,style:c,...d}=e;return(0,r.jsxs)("div",{...d,style:l?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...c}:{paddingBottom:"24px",...c},children:[(0,r.jsxs)(a.jqI,{justify:"space-between",children:["string"==typeof t?(0,r.jsx)(a.lQT,{className:i||n?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,o&&(0,r.jsx)("div",{"data-testid":"page-header-right-content",children:o})]}),!!i&&(0,r.jsx)(s.m,{className:n?"pb-4":void 0,items:i,"data-testid":"page-breadcrumb"}),n]})}},70788:function(e,t,i){"use strict";i.d(t,{m:function(){return c}});var r=i(24246),a=i(86920),s=i(79894),l=i.n(s),n=i(27378);let{Text:o}=a.AntTypography,c=e=>{let{items:t,...i}=e,s=(0,n.useMemo)(()=>null==t?void 0:t.map((e,i)=>{let s=i===t.length-1,n={...e},c=n.onClick&&!n.href;return("string"==typeof n.title&&(n.title=(0,r.jsx)(o,{style:{color:"inherit",maxWidth:s?void 0:400},ellipsis:!s,children:n.title})),c)?n.title=(0,r.jsx)(a.wpx,{type:"text",size:"small",icon:n.icon,onClick:n.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:n.title}):(n.icon&&(n.title=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"anticon align-text-bottom",children:n.icon}),n.title]})),n.href&&n.title&&(n.title=(0,r.jsx)(l(),{href:n.href,className:"ant-breadcrumb-link",children:n.title}),delete n.href)),n}),[t]);return(0,r.jsx)(a.zrq,{items:s,...i})}},45896:function(e,t,i){"use strict";var r=i(24246),a=i(66379);t.Z=e=>{let{filterTabs:t,onChange:i,filterTabIndex:s}=e;return(0,r.jsx)(a.Z,{border:"full-width",mb:5,size:"sm",data:t,borderWidth:1,index:s,onChange:i})}},69828:function(e,t,i){"use strict";i.d(t,{Y:function(){return l}});var r=i(24246),a=i(86920),s=i(70788);let l=[(0,r.jsx)(a.PJP.S9g,{},"layers"),(0,r.jsx)(a.PJP.ehp,{},"dataset"),(0,r.jsx)(a.PJP.iA_,{},"table"),(0,r.jsx)(a.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")];t.Z=e=>{let{resourceUrn:t,parentLink:i,onPathClick:a=()=>{}}=e,n=[];if(t||n.push({title:"All activity"}),t){n.push({title:"All activity",href:i});let e=t.split(".");e.forEach((t,i)=>{0!==i&&n.push({title:t,icon:l[i-1],onClick:t=>{t.preventDefault(),a(e.slice(0,i+1).join("."))}})})}return(0,r.jsx)(s.m,{"data-testid":"results-breadcrumb",items:n})}},1039:function(e,t,i){"use strict";i.d(t,{Z:function(){return H}});var r=i(24246),a=i(59003),s=i(92222),l=i(86920),n=i(86677),o=i(27378),c=i(47935),d=i(45896),u=i(70675),h=i(72625),x=i(54409),m=i(79947),p=i(87667),g=i(50169),f=i(28278),j=i(68309),v=i(74241),L=e=>{let{resourceType:t,changeTypeOverride:i}=e,a=(0,s.Cl)(),l=[];return t?t===j.D$.SCHEMA?{columns:[a.accessor(e=>e.name,{id:"name",cell:e=>(0,r.jsx)(p.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Name",...e}),size:300}),a.accessor(e=>e.urn,{id:"project",cell:e=>(0,r.jsx)(c.G3,{value:(0,v.Z)(e.getValue())}),header:e=>(0,r.jsx)(c.Rr,{value:"Project",...e})}),a.display({id:"status",cell:e=>(0,r.jsx)(g.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Status",...e})}),a.accessor(e=>e.system,{id:"system",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"System",...e})}),a.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"Detected by",...e})}),a.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,r.jsx)(h.Cy,{time:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"When",...e})}),a.display({id:"actions",cell:e=>(0,r.jsx)(x.Z,{ignoreChildActions:i===f.E.MONITORED||i===f.E.MUTED,resource:e.row.original}),header:"Actions",size:200,meta:{disableRowClick:!0}})]}:t===j.D$.TABLE?{columns:[a.accessor(e=>e.name,{id:"name",cell:e=>(0,r.jsx)(p.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Table name",...e}),size:300}),a.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,r.jsx)(c.Rr,{value:"Description",...e}),meta:{showHeaderMenu:!0}}),a.display({id:"status",cell:e=>(0,r.jsx)(g.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Status",...e})}),a.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"Detected by",...e})}),a.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,r.jsx)(h.Cy,{time:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"When",...e})}),a.display({id:"actions",cell:e=>(0,r.jsx)(x.Z,{resource:e.row.original}),header:"Actions",size:200,meta:{disableRowClick:!0}})]}:t===j.D$.FIELD?{columns:[a.accessor(e=>e.name,{id:"name",cell:e=>(0,r.jsx)(p.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Field name",...e}),size:300}),a.accessor(e=>e.source_data_type,{id:"data-type",cell:e=>(0,r.jsx)(m.Z,{type:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"Data type",...e})}),a.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,r.jsx)(c.Rr,{value:"Description",...e}),meta:{showHeaderMenu:!0}}),a.display({id:"status",cell:e=>(0,r.jsx)(g.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Status",...e})}),a.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"Detected by",...e})}),a.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,r.jsx)(h.Cy,{time:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"When",...e})}),a.display({id:"actions",cell:e=>(0,r.jsx)(x.Z,{resource:e.row.original}),header:"Actions",size:200,meta:{disableRowClick:!0}})]}:t===j.D$.ENDPOINT?{columns:[a.accessor(e=>e.name,{id:"name",cell:e=>(0,r.jsx)(p.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Object",...e}),size:300}),a.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,r.jsx)(c.Rr,{value:"Description",...e}),meta:{showHeaderMenu:!0}}),a.display({id:"status",cell:e=>(0,r.jsx)(g.Z,{changeTypeOverride:i,result:e.row.original}),header:e=>(0,r.jsx)(c.Rr,{value:"Status",...e})}),a.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"Detected by",...e})}),a.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,r.jsx)(h.Cy,{time:e.getValue()}),header:e=>(0,r.jsx)(c.Rr,{value:"When",...e})}),a.display({id:"actions",cell:e=>(0,r.jsx)(x.Z,{resource:e.row.original}),header:"Actions",size:200,meta:{disableRowClick:!0}})]}:{columns:l}:{columns:l}},b=e=>{let{initialFilterTabIndex:t=0}=e,[i,r]=(0,o.useState)(t),a=(0,o.useMemo)(()=>[{label:"Action Required",filters:[j.LL.ADDITION,j.LL.REMOVAL],childFilters:[j.LL.ADDITION,j.LL.REMOVAL]},{label:"Monitored",filters:[j.LL.MONITORED],childFilters:[],changeTypeOverride:f.E.MONITORED},{label:"Unmonitored",filters:[j.LL.MUTED],childFilters:[],changeTypeOverride:f.E.MUTED}],[]);return{filterTabs:a,filterTabIndex:i,setFilterTabIndex:r,activeDiffFilters:a[i].filters,activeChildDiffFilters:a[i].childFilters,activeChangeTypeOverride:a[i].changeTypeOverride}},y=i(47182),D=i(38347),R=i(7940),w=i(80285),T=i(36168),_=i(30952);let C={items:[],total:0,page:1,size:50,pages:1},I=()=>(0,r.jsx)(l.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,r.jsxs)(l.gCW,{children:[(0,r.jsx)(l.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,r.jsx)(l.xvT,{fontSize:"sm",children:"You're up to date!"})]})});var H=e=>{var t,i;let{resourceUrn:h}=e,x=(0,n.useRouter)(),[m,p]=(0,o.useState)(""),{filterTabs:g,setFilterTabIndex:f,filterTabIndex:v,activeDiffFilters:H,activeChildDiffFilters:Z,activeChangeTypeOverride:M}=b({initialFilterTabIndex:(null===(t=x.query)||void 0===t?void 0:t.filterTabIndex)?Number(null===(i=x.query)||void 0===i?void 0:i.filterTabIndex):void 0}),{PAGE_SIZES:O,pageSize:E,setPageSize:k,onPreviousPageClick:S,isPreviousPageDisabled:N,onNextPageClick:A,isNextPageDisabled:z,startRange:P,endRange:V,pageIndex:F,setTotalPages:$,resetPageIndexToDefault:U}=(0,c.oi)();(0,o.useEffect)(()=>{U()},[h,m,U,H,Z]);let{isFetching:W,isLoading:G,data:q}=(0,u.z8)({staged_resource_urn:h,page:F,size:E,child_diff_status:Z,diff_status:H,search:m}),B=(0,R.G)(null==q?void 0:q.items[0]),{columns:J}=L({resourceType:B,changeTypeOverride:M}),{items:Q,total:Y,pages:K}=(0,o.useMemo)(()=>null!=q?q:C,[q]);(0,o.useEffect)(()=>{$(K)},[K,$]);let X=(0,o.useMemo)(()=>J,[J]),{navigateToDetectionResults:ee}=(0,y.Z)(),et=(0,a.b7)({getCoreRowModel:(0,s.sC)(),getGroupedRowModel:(0,s.qe)(),getExpandedRowModel:(0,s.rV)(),getRowId:w.Z,columns:X,manualPagination:!0,data:Q,columnResizeMode:"onChange"});return G?(0,r.jsx)(c.I4,{rowHeight:36,numRows:36}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{filterTabs:g,filterTabIndex:v,onChange:f}),(0,r.jsx)(c.Q$,{children:(0,r.jsx)(l.kCb,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"full",children:(0,r.jsxs)(l.kCb,{gap:6,align:"center",children:[(0,r.jsx)(l.xuv,{flexShrink:0,children:(0,r.jsx)(_.f,{value:m,onChange:p})}),(0,r.jsx)(D.Z,{})]})})}),(0,r.jsx)(c.ZK,{tableInstance:et,onRowClick:e=>ee({resourceUrn:e.urn,filterTabIndex:v}),getRowIsClickable:e=>B!==j.D$.FIELD||(0,T.Z)(e),emptyTableNotice:(0,r.jsx)(I,{})}),(0,r.jsx)(c.s8,{totalRows:Y||0,pageSizes:O,setPageSize:k,onPreviousPageClick:S,isPreviousPageDisabled:N||W,onNextPageClick:A,isNextPageDisabled:z||W,startRange:P,endRange:V})]})}},54409:function(e,t,i){"use strict";i.d(t,{Z:function(){return m}});var r=i(24246),a=i(86920),s=i(812),l=i(14047),n=i(68309),o=i(31883);let c=(0,a.IUT)({displayName:"MonitorOffIcon",viewBox:"0 0 12 12",path:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.47125 1H5.85H6.15H6.51188L6.58875 1.36914L7.52062 5.83268L6.42408 4.98635L6.03375 3.11719L5.8038 4.50761L4.99323 3.882L5.40562 1.38867L5.47125 1ZM4.80795 5.0022L4.67675 5.79545L5.48735 6.42109L5.61854 5.62783L4.80795 5.0022ZM6.73856 6.49227L6.96125 7.55866L8.42407 8.6877L8.69498 8.00228L7.94864 7.42624L7.88625 7.58398L7.83501 7.33853L6.73856 6.49227ZM8.33138 6.45844L9.07755 7.03434L9.30188 6.4668H11.55H12V5.5293H11.55H9H8.69812L8.58375 5.82031L8.33138 6.45844ZM7.27551 9.06443L7.35399 9.125H7.28813L7.27551 9.06443ZM4.49147 6.91566L5.30209 7.54131L4.79437 10.6113L4.72875 11H4.35H4.05H3.69563L3.61313 10.6406L2.64563 6.46875H0.45H0V5.53125H0.45H2.69777L3.49646 6.1477L4.15125 8.97266L4.49147 6.91566Z",fill:"currentColor"}),(0,r.jsx)("g",{clipPath:"url(#clip0_341_3102)",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6755 10.4168L0.164222 2.304L0.775218 1.51237L11.2865 9.62517L10.6755 10.4168Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_341_3102",children:(0,r.jsx)("rect",{width:"11.5",height:"9",fill:"white",transform:"translate(0 1.5)"})})})]})}),d=(0,a.IUT)({displayName:"MonitorOnIcon",viewBox:"0 0 12 10",path:(0,r.jsx)("path",{d:"M5.47125 0H5.85H6.15H6.51188L6.58875 0.369141L7.88625 6.58398L8.58375 4.82031L8.69812 4.5293H9H11.55H12V5.4668H11.55H9.30188L8.36625 7.83398L8.25188 8.125H7.95H7.65H7.28813L7.21125 7.75586L6.03375 2.11719L4.79437 9.61133L4.72875 10H4.35H4.05H3.69563L3.61313 9.64062L2.64563 5.46875H0.45H0V4.53125H0.45H3H3.35438L3.43688 4.89062L4.15125 7.97266L5.40562 0.388672L5.47125 0Z",fill:"currentColor"})});var u=i(79494),h=i(70675),x=i(7940),m=e=>{let{resource:t,ignoreChildActions:i=!1}=e,m=(0,x.G)(t),[p,{isLoading:g}]=(0,h.v8)(),[f,{isLoading:j}]=(0,h.vi)(),[v,{isLoading:L}]=(0,h.Tl)(),{successAlert:b,errorAlert:y}=(0,l.V)(),D=async()=>{let e=await p({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id});(0,o.D4)(e)?y((0,s.e$)(e.error,"Failed to confirm resource")):b("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored."))},R=async()=>{let e=await v({staged_resource_urn:t.urn});(0,o.D4)(e)?y((0,s.e$)(e.error),"Failed to un-mute resource"):b("".concat(t.name||"The resource"," has been un-muted and is now being monitored."))},w=async()=>{let e=await p({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0});(0,o.D4)(e)?y((0,s.e$)(e.error),"Failed to un-mute resource"):b("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored."))},T=async()=>{let e=await f({staged_resource_urn:t.urn});(0,o.D4)(e)?y((0,s.e$)(e.error),"Failed to mute resource"):b("Ignored data will not be monitored for changes or added to Fides datasets.","".concat(t.name||"Resource"," ignored"))},_=g||j||L,{diff_status:C,child_diff_statuses:I}=t,H=m===n.D$.SCHEMA,Z=m===n.D$.FIELD,M=I&&(I[n.LL.CLASSIFICATION_ADDITION]||I[n.LL.CLASSIFICATION_UPDATE]),O=H&&void 0===C||!Z&&C===n.LL.ADDITION||M,E=C!==n.LL.MUTED,k=C===n.LL.MUTED&&!Z,S=C===n.LL.MUTED&&Z,N=I&&(I[n.LL.ADDITION]||I[n.LL.REMOVAL]),A=C===n.LL.MONITORED&&!i&&N&&!M;return(0,r.jsxs)(a.Ugi,{children:[(O||A)&&(0,r.jsx)(u.Z,{title:"Monitor",icon:(0,r.jsx)(d,{}),onClick:D,disabled:_,loading:g}),S&&(0,r.jsx)(u.Z,{title:"Un-Mute",icon:(0,r.jsx)(d,{}),onClick:R,disabled:_,loading:g}),k&&(0,r.jsx)(u.Z,{title:"Monitor",icon:(0,r.jsx)(d,{}),onClick:w,disabled:_,loading:g}),E&&(0,r.jsx)(u.Z,{title:"Ignore",icon:(0,r.jsx)(c,{}),onClick:T,disabled:_,loading:j})]})}},79947:function(e,t,i){"use strict";var r=i(24246),a=i(86920);t.Z=e=>{let{type:t}=e;return(0,r.jsx)(a.kCb,{align:"center",h:"full",children:!!t&&(0,r.jsx)(a.j8w,{children:t})})}},31883:function(e,t,i){"use strict";i.d(t,{Bw:function(){return r.Bw},D4:function(){return r.D4}});var r=i(19043)}}]);