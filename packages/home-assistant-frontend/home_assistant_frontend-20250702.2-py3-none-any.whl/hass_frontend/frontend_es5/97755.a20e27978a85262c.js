"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["97755"],{7214:function(t,e,n){n.d(e,{Cj:function(){return f},F7:function(){return a},Hs:function(){return Z},Kd:function(){return k},Kj:function(){return v},Nw:function(){return g},PA:function(){return s},Py:function(){return c},Qm:function(){return C},Z0:function(){return b},_Y:function(){return d},_m:function(){return o},dL:function(){return l},dO:function(){return x},hN:function(){return h},h_:function(){return _},j2:function(){return S},q6:function(){return p},uR:function(){return u}});var i=n(75706),r=(n(39710),n(81738),n(72489),n(54480),n(56389),n(15459)),a=function(t){return t[t.NONE=0]="NONE",t[t.ARITHMETIC=1]="ARITHMETIC",t[t.CIRCULAR=2]="CIRCULAR",t}({}),s=99387==n.j?["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"]:null,o=function(t){return t.sendMessagePromise({type:"recorder/info"})},u=function(t,e){return t.callWS({type:"recorder/list_statistic_ids",statistic_type:e})},c=function(t,e){return t.callWS({type:"recorder/get_statistics_metadata",statistic_ids:e})},l=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"hour",a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;return t.callWS({type:"recorder/statistics_during_period",start_time:e.toISOString(),end_time:null==n?void 0:n.toISOString(),statistic_ids:i,period:r,units:a,types:s})},d=function(t,e,n,i){return t.callWS({type:"recorder/statistic_during_period",statistic_id:e,units:i,fixed_period:n.fixed_period?{start_time:n.fixed_period.start instanceof Date?n.fixed_period.start.toISOString():n.fixed_period.start,end_time:n.fixed_period.end instanceof Date?n.fixed_period.end.toISOString():n.fixed_period.end}:void 0,calendar:n.calendar,rolling_window:n.rolling_window})},_=function(t){return t.callWS({type:"recorder/validate_statistics"})},f=function(t,e,n){return t.callWS({type:"recorder/update_statistics_metadata",statistic_id:e,unit_of_measurement:n})},h=function(t,e){return t.callWS({type:"recorder/clear_statistics",statistic_ids:e})},v=function(t){var e=null;if(!t)return null;var n,r=(0,i.Z)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;null!==a.change&&void 0!==a.change&&(null===e?e=a.change:e+=a.change)}}catch(s){r.e(s)}finally{r.f()}return e},p=function(t,e){var n,r=null,a=(0,i.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s in t){var o=v(t[s]);null!==o&&(null===r?r=o:r+=o)}}}catch(u){a.e(u)}finally{a.f()}return r},g=function(t,e){return t.some(function(t){return void 0!==t[e]&&null!==t[e]})},y=["mean","min","max"],m=["sum","state","change"],b=function(t,e){return!(!y.includes(e)||0===t.mean_type)||!(!m.includes(e)||!t.has_sum)},S=function(t,e,n,i,r){var a=new Date(n).toISOString();return t.callWS({type:"recorder/adjust_sum_statistics",statistic_id:e,start_time:a,adjustment:i,adjustment_unit_of_measurement:r})},k=function(t,e,n){var i=t.states[e];return i?(0,r.C)(i):(null==n?void 0:n.name)||e},x=function(t,e,n){var i,r;e&&(i=null===(r=t.states[e])||void 0===r?void 0:r.attributes.unit_of_measurement);return void 0===i?null==n?void 0:n.statistics_unit_of_measurement:i},Z=function(t){return t.includes(":")},C=function(t){return t.callWS({type:"recorder/update_statistics_issues"})}},6291:function(t,e,n){n.d(e,{f:function(){return d}});var i=n(75706),r=n(54521),a=n(4490),s=n(20129),o=n(53389),u=n(85297),c=(n(39710),n(26847),n(81738),n(72489),n(54480),n(1455),n(56389),n(27530),n(73742)),l=n(7616),d=function(t){var e=function(t){function e(){return(0,r.Z)(this,e),(0,s.Z)(this,e,arguments)}return(0,u.Z)(e,t),(0,a.Z)(e,[{key:"connectedCallback",value:function(){(0,o.Z)(e,"connectedCallback",this,3)([]),this._checkSubscribed()}},{key:"disconnectedCallback",value:function(){if((0,o.Z)(e,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){var t=this.__unsubs.pop();t instanceof Promise?t.then(function(t){return t()}):t()}this.__unsubs=void 0}}},{key:"updated",value:function(t){if((0,o.Z)(e,"updated",this,3)([t]),t.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var n,r=(0,i.Z)(t.keys());try{for(r.s();!(n=r.n()).done;){var a=n.value;if(this.hassSubscribeRequiredHostProps.includes(a))return void this._checkSubscribed()}}catch(s){r.e(s)}finally{r.f()}}}},{key:"hassSubscribe",value:function(){return[]}},{key:"_checkSubscribed",value:function(){var t,e=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(t=this.hassSubscribeRequiredHostProps)&&void 0!==t&&t.some(function(t){return void 0===e[t]})||(this.__unsubs=this.hassSubscribe())}}])}(t);return(0,c.__decorate)([(0,l.Cb)({attribute:!1})],e.prototype,"hass",void 0),e}},56849:function(t,e,n){n.a(t,async function(t,i){try{n.r(e);var r,a,s,o,u=n(54982),c=n(54521),l=n(4490),d=n(20129),_=n(85297),f=(n(12212),n(73742)),h=n(59048),v=n(7616),p=n(20480),g=(n(31138),n(97297)),y=(n(993),n(6640)),m=n(6291),b=n(43309),S=n(93647),k=t([g,y,b]);[g,y,b]=k.then?(await k)():k;var x={maximumFractionDigits:0},Z=function(t){function e(){var t;(0,c.Z)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=(0,d.Z)(this,e,[].concat(i))).hassSubscribeRequiredHostProps=["_config"],t}return(0,_.Z)(e,t),(0,l.Z)(e,[{key:"hassSubscribe",value:function(){var t,e=this;return[(0,y.UB)(this.hass,{key:null===(t=this._config)||void 0===t?void 0:t.collection_key}).subscribe(function(t){e._data=t})]}},{key:"getCardSize",value:function(){return 4}},{key:"setConfig",value:function(t){this._config=t}},{key:"shouldUpdate",value:function(t){return(0,S.SN)(this,t)||t.size>1||!t.has("hass")}},{key:"render",value:function(){var t;if(!this._config||!this.hass)return h.Ld;if(!this._data)return(0,h.dy)(r||(r=(0,u.Z)(["",""])),this.hass.localize("ui.panel.lovelace.cards.energy.loading"));var e=(0,y.EH)(this._data),n=e.summedData;e.compareSummedData;if(!("solar"in n.total))return h.Ld;var i,o=null!==(t=n.total.to_grid)&&void 0!==t?t:null;if(null!==o){var c=!!n.to_battery||!!n.from_battery;i=(0,y.mt)(c,n)}return(0,h.dy)(a||(a=(0,u.Z)([" <ha-card> "," </ha-card> "])),void 0!==i?(0,h.dy)(s||(s=(0,u.Z)([' <ha-gauge min="0" max="100" .value="','" label="%" .formatOptions="','" .locale="','" style="','"></ha-gauge> <ha-tooltip placement="left" hoist> <span slot="content"> '," <br><br> ",' </span> <ha-svg-icon .path="','"></ha-svg-icon> </ha-tooltip> <div class="name"> '," </div> "])),i,x,this.hass.locale,(0,p.V)({"--gauge-color":this._computeSeverity(i)}),this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.card_indicates_solar_energy_used"),this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.card_indicates_solar_energy_used_charge_home_bat"),"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.self_consumed_solar_energy")):null!==o?this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.not_produced_solar_energy"):this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.self_consumed_solar_could_not_calc"))}},{key:"_computeSeverity",value:function(t){return t>75?b.severityMap.green:t<50?b.severityMap.yellow:b.severityMap.normal}}])}((0,m.f)(h.oi));Z.styles=(0,h.iv)(o||(o=(0,u.Z)(["ha-card{height:100%;overflow:hidden;padding:16px;display:flex;align-items:center;justify-content:center;flex-direction:column;box-sizing:border-box}ha-gauge{width:100%;max-width:250px;direction:ltr}.name{text-align:center;line-height:initial;color:var(--primary-text-color);width:100%;font-size:var(--ha-font-size-m);margin-top:8px}ha-svg-icon{position:absolute;right:4px;inset-inline-end:4px;inset-inline-start:initial;top:4px;color:var(--secondary-text-color)}ha-tooltip::part(base__popup){margin-top:4px}"]))),(0,f.__decorate)([(0,v.Cb)({attribute:!1})],Z.prototype,"hass",void 0),(0,f.__decorate)([(0,v.SB)()],Z.prototype,"_config",void 0),(0,f.__decorate)([(0,v.SB)()],Z.prototype,"_data",void 0),Z=(0,f.__decorate)([(0,v.Mo)("hui-energy-solar-consumed-gauge-card")],Z),i()}catch(C){i(C)}})}}]);
//# sourceMappingURL=97755.a20e27978a85262c.js.map