"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["59905"],{96005:function(e,t,a){var i,n=a(54982),r=a(4490),o=a(54521),l=a(20129),c=a(85297),s=a(73742),u=a(57714),d=a(52732),p=a(98939),h=a(23533),_=a(40621),v=a(59048),b=a(7616),f=function(e){function t(){return(0,o.Z)(this,t),(0,l.Z)(this,t,arguments)}return(0,c.Z)(t,e),(0,r.Z)(t)}(u.W);f.styles=[h.W,_.W,p.W,d.W,(0,v.iv)(i||(i=(0,n.Z)([":host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--primary-text-color);--md-sys-color-on-secondary-container:var(--primary-text-color);--md-input-chip-container-shape:16px;--md-input-chip-outline-color:var(--outline-color);--md-input-chip-selected-container-color:rgba(\n          var(--rgb-primary-text-color),\n          0.15\n        );--ha-input-chip-selected-container-opacity:1;--md-input-chip-label-text-font:Roboto,sans-serif}::slotted([slot=icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px)}.selected::before{opacity:var(--ha-input-chip-selected-container-opacity)}"])))],f=(0,s.__decorate)([(0,b.Mo)("ha-input-chip")],f)},11992:function(e,t,a){a.a(e,async function(e,t){try{var i,n,r,o,l,c=a(29694),s=a(75778),u=a(42385),d=a(54982),p=a(54521),h=a(4490),_=a(20129),v=a(85297),b=(a(73249),a(84730),a(12212),a(25518),a(39710),a(26847),a(24819),a(81738),a(33480),a(94814),a(22960),a(6989),a(72489),a(7175),a(54480),a(69920),a(11353),a(67886),a(65451),a(46015),a(38334),a(94880),a(75643),a(29761),a(56389),a(48694),a(44261),a(67398),a(27530),a(73742)),f=a(59048),y=a(7616),m=a(28105),g=a(39884),Z=a(44272),C=a(28905),k=a(27831),w=a(72242),x=a(6291),A=a(54614),L=a(64879),V=(a(993),e([L]));L=(V.then?(await V)():V)[0];var B="M17.63,5.84C17.27,5.33 16.67,5 16,5H5A2,2 0 0,0 3,7V17A2,2 0 0,0 5,19H16C16.67,19 17.27,18.66 17.63,18.15L22,12L17.63,5.84Z",D="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",M="___ADD_NEW___",E="___NO_LABELS___",I=function(e){function t(){var e;(0,p.Z)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(e=(0,_.Z)(this,t,[].concat(l))).noAdd=!1,e.disabled=!1,e.required=!1,e._labelMap=(0,m.Z)(function(e){return e?new Map(e.map(function(e){return[e.label_id,e]})):new Map}),e._computeValueRenderer=(0,m.Z)(function(t){return function(a){var l=e._labelMap(t).get(a);return l?(0,f.dy)(n||(n=(0,d.Z)([" ",' <span slot="headline">',"</span> "])),l.icon?(0,f.dy)(r||(r=(0,d.Z)(['<ha-icon slot="start" .icon="','"></ha-icon>'])),l.icon):(0,f.dy)(o||(o=(0,d.Z)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),B),l.name):(0,f.dy)(i||(i=(0,d.Z)([' <ha-svg-icon slot="start" .path="','"></ha-svg-icon> <span slot="headline">',"</span> "])),B,a)}}),e._getLabels=(0,m.Z)(function(t,a,i,n,r,o,l,c,s,u){if(!t||0===t.length)return[{id:E,primary:e.hass.localize("ui.components.label-picker.no_labels"),icon_path:B}];var d,p,h=Object.values(i),_=Object.values(n),v={};(r||o||l||c||s)&&(v=(0,C.R6)(_),d=h,p=_.filter(function(e){return e.labels.length>0}),r&&(d=d.filter(function(e){var t=v[e.id];return!(!t||!t.length)&&v[e.id].some(function(e){return r.includes((0,Z.M)(e.entity_id))})}),p=p.filter(function(e){return r.includes((0,Z.M)(e.entity_id))})),o&&(d=d.filter(function(e){var t=v[e.id];return!t||!t.length||_.every(function(e){return!o.includes((0,Z.M)(e.entity_id))})}),p=p.filter(function(e){return!o.includes((0,Z.M)(e.entity_id))})),l&&(d=d.filter(function(t){var a=v[t.id];return!(!a||!a.length)&&v[t.id].some(function(t){var a=e.hass.states[t.entity_id];return!!a&&(a.attributes.device_class&&l.includes(a.attributes.device_class))})}),p=p.filter(function(t){var a=e.hass.states[t.entity_id];return a.attributes.device_class&&l.includes(a.attributes.device_class)})),c&&(d=d.filter(function(e){return c(e)})),s&&(d=d.filter(function(t){var a=v[t.id];return!(!a||!a.length)&&v[t.id].some(function(t){var a=e.hass.states[t.entity_id];return!!a&&s(a)})}),p=p.filter(function(t){var a=e.hass.states[t.entity_id];return!!a&&s(a)})));var b,f=t,y=new Set;return d&&(b=d.filter(function(e){return e.area_id}).map(function(e){return e.area_id}),d.forEach(function(e){e.labels.forEach(function(e){return y.add(e)})})),p&&(b=(null!=b?b:[]).concat(p.filter(function(e){return e.area_id}).map(function(e){return e.area_id})),p.forEach(function(e){e.labels.forEach(function(e){return y.add(e)})})),b&&b.forEach(function(e){a[e].labels.forEach(function(e){return y.add(e)})}),u&&(f=f.filter(function(e){return!u.includes(e.label_id)})),(d||p)&&(f=f.filter(function(e){return y.has(e.label_id)})),f.map(function(e){return{id:e.label_id,primary:e.name,icon:e.icon||void 0,icon_path:e.icon?void 0:B,sorting_label:e.name,search_labels:[e.name,e.label_id,e.description].filter(function(e){return Boolean(e)})}})}),e._getItems=function(){return e._getLabels(e._labels,e.hass.areas,e.hass.devices,e.hass.entities,e.includeDomains,e.excludeDomains,e.includeDeviceClasses,e.deviceFilter,e.entityFilter,e.excludeLabels)},e._allLabelNames=(0,m.Z)(function(e){return e?(0,u.Z)(new Set(e.map(function(e){return e.name.toLowerCase()}).filter(Boolean))):[]}),e._getAdditionalItems=function(t){if(e.noAdd)return[];var a=e._allLabelNames(e._labels);return t&&!a.includes(t.toLowerCase())?[{id:M+t,primary:e.hass.localize("ui.components.label-picker.add_new_sugestion",{name:t}),icon_path:D}]:[{id:M,primary:e.hass.localize("ui.components.label-picker.add_new"),icon_path:D}]},e}return(0,v.Z)(t,e),(0,h.Z)(t,[{key:"open",value:(a=(0,s.Z)((0,c.Z)().m(function e(){var t;return(0,c.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this._picker)||void 0===t?void 0:t.open();case 2:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"hassSubscribe",value:function(){var e=this;return[(0,k.f4)(this.hass.connection,function(t){e._labels=t})]}},{key:"render",value:function(){var e,t=null!==(e=this.placeholder)&&void 0!==e?e:this.hass.localize("ui.components.label-picker.label"),a=this._computeValueRenderer(this._labels);return(0,f.dy)(l||(l=(0,d.Z)([' <ha-generic-picker .hass="','" .autofocus="','" .label="','" .notFoundLabel="','" .placeholder="','" .value="','" .getItems="','" .getAdditionalItems="','" .valueRenderer="','" @value-changed="','"> </ha-generic-picker> '])),this.hass,this.autofocus,this.label,this.hass.localize("ui.components.label-picker.no_match"),t,this.value,this._getItems,this._getAdditionalItems,a,this._valueChanged)}},{key:"_valueChanged",value:function(e){var t=this;e.stopPropagation();var a=e.detail.value;if(a!==E)if(a)if(a.startsWith(M)){this.hass.loadFragmentTranslation("config");var i=a.substring(13);(0,A.T)(this,{suggestedName:i,createEntry:(n=(0,s.Z)((0,c.Z)().m(function e(a){var i,n;return(0,c.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,(0,k.jo)(t.hass,a);case 1:i=e.v,t._setValue(i.label_id),e.n=3;break;case 2:e.p=2,n=e.v,(0,w.showAlertDialog)(t,{title:t.hass.localize("ui.components.label-picker.failed_create_label"),text:n.message});case 3:return e.a(2)}},e,null,[[0,2]])})),function(e){return n.apply(this,arguments)})})}else{var n;this._setValue(a)}else this._setValue(void 0)}},{key:"_setValue",value:function(e){var t=this;this.value=e,setTimeout(function(){(0,g.B)(t,"value-changed",{value:e}),(0,g.B)(t,"change")},0)}}]);var a}((0,x.f)(f.oi));(0,b.__decorate)([(0,y.Cb)({attribute:!1})],I.prototype,"hass",void 0),(0,b.__decorate)([(0,y.Cb)()],I.prototype,"label",void 0),(0,b.__decorate)([(0,y.Cb)()],I.prototype,"value",void 0),(0,b.__decorate)([(0,y.Cb)()],I.prototype,"helper",void 0),(0,b.__decorate)([(0,y.Cb)()],I.prototype,"placeholder",void 0),(0,b.__decorate)([(0,y.Cb)({type:Boolean,attribute:"no-add"})],I.prototype,"noAdd",void 0),(0,b.__decorate)([(0,y.Cb)({type:Array,attribute:"include-domains"})],I.prototype,"includeDomains",void 0),(0,b.__decorate)([(0,y.Cb)({type:Array,attribute:"exclude-domains"})],I.prototype,"excludeDomains",void 0),(0,b.__decorate)([(0,y.Cb)({type:Array,attribute:"include-device-classes"})],I.prototype,"includeDeviceClasses",void 0),(0,b.__decorate)([(0,y.Cb)({type:Array,attribute:"exclude-label"})],I.prototype,"excludeLabels",void 0),(0,b.__decorate)([(0,y.Cb)({attribute:!1})],I.prototype,"deviceFilter",void 0),(0,b.__decorate)([(0,y.Cb)({attribute:!1})],I.prototype,"entityFilter",void 0),(0,b.__decorate)([(0,y.Cb)({type:Boolean})],I.prototype,"disabled",void 0),(0,b.__decorate)([(0,y.Cb)({type:Boolean})],I.prototype,"required",void 0),(0,b.__decorate)([(0,y.SB)()],I.prototype,"_labels",void 0),(0,b.__decorate)([(0,y.IO)("ha-generic-picker")],I.prototype,"_picker",void 0),I=(0,b.__decorate)([(0,y.Mo)("ha-label-picker")],I),t()}catch(z){t(z)}})},80032:function(e,t,a){a.a(e,async function(e,t){try{var i,n,r,o,l,c,s=a(42385),u=a(54982),d=a(29694),p=a(75778),h=a(54521),_=a(4490),v=a(20129),b=a(85297),f=(a(12212),a(25518),a(39710),a(24819),a(18574),a(81738),a(94814),a(22960),a(6989),a(54480),a(56389),a(67398),a(73742)),y=a(59048),m=a(7616),g=a(88245),Z=a(28105),C=a(34394),k=a(39884),w=a(36221),x=a(27831),A=a(6291),L=a(54614),V=(a(67801),a(96005),a(11992)),B=e([V]);V=(B.then?(await B)():B)[0];var D=function(e){function t(){var e;(0,h.Z)(this,t);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=(0,v.Z)(this,t,[].concat(i))).noAdd=!1,e.disabled=!1,e.required=!1,e._sortedLabels=(0,Z.Z)(function(e,t,a){return null==e?void 0:e.map(function(e){return null==t?void 0:t[e]}).sort(function(e,t){return(0,w.$K)((null==e?void 0:e.name)||"",(null==t?void 0:t.name)||"",a)})}),e}return(0,b.Z)(t,e),(0,_.Z)(t,[{key:"open",value:(c=(0,p.Z)((0,d.Z)().m(function e(){var t;return(0,d.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this.labelPicker)||void 0===t?void 0:t.open();case 2:return e.a(2)}},e,this)})),function(){return c.apply(this,arguments)})},{key:"focus",value:(a=(0,p.Z)((0,d.Z)().m(function e(){var t;return(0,d.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this.labelPicker)||void 0===t?void 0:t.focus();case 2:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"hassSubscribe",value:function(){var e=this;return[(0,x.f4)(this.hass.connection,function(t){var a={};t.forEach(function(e){a[e.label_id]=e}),e._labels=a})]}},{key:"render",value:function(){var e=this,t=this._sortedLabels(this.value,this._labels,this.hass.locale.language);return(0,y.dy)(i||(i=(0,u.Z)([" "," ",' <ha-label-picker .hass="','" .helper="','" .disabled="','" .required="','" .placeholder="','" .excludeLabels="','" @value-changed="','"> </ha-label-picker> '])),this.label?(0,y.dy)(n||(n=(0,u.Z)(["<label>","</label>"])),this.label):y.Ld,null!=t&&t.length?(0,y.dy)(r||(r=(0,u.Z)(["<ha-chip-set> "," </ha-chip-set>"])),(0,g.r)(t,function(e){return null==e?void 0:e.label_id},function(t){var a=null!=t&&t.color?(0,C.I)(t.color):void 0;return(0,y.dy)(o||(o=(0,u.Z)([' <ha-input-chip .item="','" @remove="','" @click="','" .label="','" selected="selected" style="','"> '," </ha-input-chip> "])),t,e._removeItem,e._openDetail,null==t?void 0:t.name,a?"--color: ".concat(a):"",null!=t&&t.icon?(0,y.dy)(l||(l=(0,u.Z)(['<ha-icon slot="icon" .icon="','"></ha-icon>'])),t.icon):y.Ld)})):y.Ld,this.hass,this.helper,this.disabled,this.required,this.placeholder,this.value,this._labelChanged)}},{key:"_value",get:function(){return this.value||[]}},{key:"_removeItem",value:function(e){var t=e.currentTarget.item;this._setValue(this._value.filter(function(e){return e!==t.label_id}))}},{key:"_openDetail",value:function(e){var t,a=this,i=e.currentTarget.item;(0,L.T)(this,{entry:i,updateEntry:(t=(0,p.Z)((0,d.Z)().m(function e(t){return(0,d.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,x.$0)(a.hass,i.label_id,t);case 1:return e.a(2)}},e)})),function(e){return t.apply(this,arguments)})})}},{key:"_labelChanged",value:function(e){e.stopPropagation();var t=e.detail.value;t&&!this._value.includes(t)&&(this._setValue([].concat((0,s.Z)(this._value),[t])),this.labelPicker.value="")}},{key:"_setValue",value:function(e){var t=this;this.value=e,setTimeout(function(){(0,k.B)(t,"value-changed",{value:e}),(0,k.B)(t,"change")},0)}}]);var a,c}((0,A.f)(y.oi));D.styles=(0,y.iv)(c||(c=(0,u.Z)(["ha-chip-set{margin-bottom:8px}ha-input-chip{--md-input-chip-selected-container-color:var(--color, var(--grey-color));--ha-input-chip-selected-container-opacity:0.5;--md-input-chip-selected-outline-width:1px}label{display:block;margin:0 0 8px}"]))),(0,f.__decorate)([(0,m.Cb)({attribute:!1})],D.prototype,"hass",void 0),(0,f.__decorate)([(0,m.Cb)()],D.prototype,"label",void 0),(0,f.__decorate)([(0,m.Cb)({attribute:!1})],D.prototype,"value",void 0),(0,f.__decorate)([(0,m.Cb)()],D.prototype,"helper",void 0),(0,f.__decorate)([(0,m.Cb)()],D.prototype,"placeholder",void 0),(0,f.__decorate)([(0,m.Cb)({type:Boolean,attribute:"no-add"})],D.prototype,"noAdd",void 0),(0,f.__decorate)([(0,m.Cb)({type:Array,attribute:"include-domains"})],D.prototype,"includeDomains",void 0),(0,f.__decorate)([(0,m.Cb)({type:Array,attribute:"exclude-domains"})],D.prototype,"excludeDomains",void 0),(0,f.__decorate)([(0,m.Cb)({type:Array,attribute:"include-device-classes"})],D.prototype,"includeDeviceClasses",void 0),(0,f.__decorate)([(0,m.Cb)({type:Array,attribute:"exclude-label"})],D.prototype,"excludeLabels",void 0),(0,f.__decorate)([(0,m.Cb)({attribute:!1})],D.prototype,"deviceFilter",void 0),(0,f.__decorate)([(0,m.Cb)({attribute:!1})],D.prototype,"entityFilter",void 0),(0,f.__decorate)([(0,m.Cb)({type:Boolean})],D.prototype,"disabled",void 0),(0,f.__decorate)([(0,m.Cb)({type:Boolean})],D.prototype,"required",void 0),(0,f.__decorate)([(0,m.SB)()],D.prototype,"_labels",void 0),(0,f.__decorate)([(0,m.IO)("ha-label-picker",!0)],D.prototype,"labelPicker",void 0),D=(0,f.__decorate)([(0,m.Mo)("ha-labels-picker")],D),t()}catch(M){t(M)}})}}]);
//# sourceMappingURL=59905.dd6be5e1d1508f50.js.map