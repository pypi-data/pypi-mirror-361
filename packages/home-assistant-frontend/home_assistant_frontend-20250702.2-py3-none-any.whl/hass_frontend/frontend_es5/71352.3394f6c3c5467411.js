"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["71352"],{91320:function(t,n,e){e.d(n,{Ec:function(){return d},Mo:function(){return _},Oj:function(){return y},UK:function(){return f},av:function(){return p},s_:function(){return v}});var i=e(75706),r=e(42385),o=(e(12212),e(25518),e(39710),e(26847),e(24819),e(2394),e(44438),e(81738),e(33480),e(94814),e(6989),e(93190),e(72489),e(96821),e(87799),e(54480),e(11353),e(67886),e(65451),e(46015),e(38334),e(94880),e(75643),e(29761),e(56389),e(48694),e(27530),e(45332)),s=e(86339),a=e(7334),u=e(16230);function c(t,n){var e;if((0,a.T)(n)&&t.states[n])return null===(e=t.states[n])||void 0===e?void 0:e.state}function l(t,n){var e,i=t.entity&&n.states[t.entity]?n.states[t.entity].state:u.lz,s=null!==(e=t.state)&&void 0!==e?e:t.state_not;if(Array.isArray(s)){var a=s.map(function(t){return c(n,t)}).filter(function(t){return void 0!==t});s=[].concat((0,r.Z)(s),(0,r.Z)(a))}else if("string"==typeof s){var l=c(n,s);s=[s],l&&s.push(l)}return null!=t.state?(0,o.r)(s).includes(i):!(0,o.r)(s).includes(i)}function d(t,n){return t.every(function(t){if("condition"in t)switch(t.condition){case"screen":return!!(e=t).media_query&&matchMedia(e.media_query).matches;case"user":return function(t,n){var e;return!(!t.users||null===(e=n.user)||void 0===e||!e.id)&&t.users.includes(n.user.id)}(t,n);case"numeric_state":return function(t,n){var e,i,r,o=null===(e=t.entity?n.states[t.entity]:void 0)||void 0===e?void 0:e.state,s=t.above,a=t.below;"string"==typeof s&&(s=null!==(i=c(n,s))&&void 0!==i?i:s),"string"==typeof a&&(a=null!==(r=c(n,a))&&void 0!==r?r:a);var u=Number(o),l=Number(s),d=Number(a);return!isNaN(u)&&(null==t.above||isNaN(l)||l<u)&&(null==t.below||isNaN(d)||d>u)}(t,n);case"and":return function(t,n){return!t.conditions||d(t.conditions,n)}(t,n);case"or":return function(t,n){return!t.conditions||t.conditions.some(function(t){return d([t],n)})}(t,n);default:return l(t,n)}var e;return l(t,n)})}function f(t){var n,e=new Set,s=(0,i.Z)(t);try{for(s.s();!(n=s.n()).done;){var u=n.value;if("numeric_state"===u.condition)u.entity&&e.add(u.entity),"string"==typeof u.above&&(0,a.T)(u.above)&&e.add(u.above),"string"==typeof u.below&&(0,a.T)(u.below)&&e.add(u.below);else if("state"===u.condition){var c,l;u.entity&&e.add(u.entity),[].concat((0,r.Z)(null!==(c=(0,o.r)(u.state))&&void 0!==c?c:[]),(0,r.Z)(null!==(l=(0,o.r)(u.state_not))&&void 0!==l?l:[])).forEach(function(t){t&&(0,a.T)(t)&&e.add(t)})}else if("conditions"in u&&u.conditions)return new Set([].concat((0,r.Z)(e),(0,r.Z)(f(u.conditions))))}}catch(d){s.e(d)}finally{s.f()}return e}function h(t){return null!=t.entity&&(null!=t.state||null!=t.state_not)}function v(t){return t.every(function(t){if("condition"in t)switch(t.condition){case"screen":return null!=t.media_query;case"user":return function(t){return null!=t.users}(t);case"numeric_state":return function(t){return null!=t.entity&&(null!=t.above||null!=t.below)}(t);case"and":case"or":return function(t){return null!=t.conditions}(t);default:return h(t)}return h(t)})}function _(t,n){return"conditions"in t&&t.conditions?Object.assign(Object.assign({},t),{},{conditions:t.conditions.map(function(t){return _(t,n)})}):"state"===t.condition||"numeric_state"===t.condition?Object.assign({entity:n},t):t}function y(t){return t.reduce(function(t,n){return"conditions"in n&&n.conditions&&t.push.apply(t,(0,r.Z)(y(n.conditions))),"screen"===n.condition&&n.media_query&&t.push(n.media_query),t},[])}function p(t,n){return y(t).map(function(t){return(0,s.K)(t,function(t){n(t)})})}},20546:function(t,n,e){e.d(n,{g:function(){return h}});var i=e(54521),r=e(4490),o=e(20129),s=e(85297),a=e(53389),u=(e(44776),e(40777),e(12212),e(25518),e(81738),e(94814),e(22960),e(54480),e(67398),e(73742)),c=e(59048),l=e(7616),d=e(65829),f=e(91320),h=function(t){function n(){var t;(0,i.Z)(this,n);for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(t=(0,o.Z)(this,n,[].concat(r))).preview=!1,t._listeners=[],t._mediaQueries=[],t}return(0,s.Z)(n,t),(0,r.Z)(n,[{key:"createRenderRoot",value:function(){return this}},{key:"validateConfig",value:function(t){if(!t.conditions)throw new Error("No conditions configured");if(!Array.isArray(t.conditions))throw new Error("Conditions need to be an array");if(!(0,f.s_)(t.conditions))throw new Error("Conditions are invalid");this.lastChild&&this.removeChild(this.lastChild),this._config=t}},{key:"disconnectedCallback",value:function(){(0,a.Z)(n,"disconnectedCallback",this,3)([]),this._clearMediaQueries()}},{key:"connectedCallback",value:function(){(0,a.Z)(n,"connectedCallback",this,3)([]),this._listenMediaQueries(),this._updateVisibility()}},{key:"_clearMediaQueries",value:function(){this._listeners.forEach(function(t){return t()}),this._listeners=[]}},{key:"_listenMediaQueries",value:function(){var t=this;if(this._config&&this.hass){var n=this._config.conditions.filter(function(t){return"condition"in t}),e=(0,f.Oj)(n);if(!(0,d.v)(e,this._mediaQueries)){this._clearMediaQueries();var i=this._config.conditions,r=1===i.length&&"condition"in i[0]&&"screen"===i[0].condition&&!!i[0].media_query;this._listeners=(0,f.av)(n,function(n){r?t.setVisibility(n):t._updateVisibility()})}}}},{key:"update",value:function(t){(0,a.Z)(n,"update",this,3)([t]),(t.has("_element")||t.has("_config")||t.has("hass")||t.has("preview"))&&(this._listenMediaQueries(),this._updateVisibility())}},{key:"_updateVisibility",value:function(){if(this._element&&this.hass&&this._config){this._element.preview=this.preview;var t=(0,f.Ec)(this._config.conditions,this.hass);this.setVisibility(t)}}},{key:"setVisibility",value:function(t){if(this._element&&this.hass){var n=this.preview||t;this.hidden!==!n&&(this.toggleAttribute("hidden",!n),this.style.setProperty("display",n?"":"none")),n?(this._element.hass=this.hass,this._element.parentElement||this.appendChild(this._element)):this._element.parentElement&&this.removeChild(this._element)}}}])}(c.fl);(0,u.__decorate)([(0,l.Cb)({attribute:!1})],h.prototype,"hass",void 0),(0,u.__decorate)([(0,l.Cb)({type:Boolean})],h.prototype,"preview",void 0),(0,u.__decorate)([(0,l.SB)()],h.prototype,"_config",void 0),h=(0,u.__decorate)([(0,l.Mo)("hui-conditional-base")],h)},13299:function(t,n,e){e.a(t,async function(t,i){try{e.r(n);var r=e(54521),o=e(4490),s=e(20129),a=e(85297),u=(e(40777),e(87799),e(73742)),c=e(7616),l=e(20546),d=e(9874),f=t([d]);d=(f.then?(await f)():f)[0];var h=function(t){function n(){return(0,r.Z)(this,n),(0,s.Z)(this,n,arguments)}return(0,a.Z)(n,t),(0,o.Z)(n,[{key:"setConfig",value:function(t){if(this.validateConfig(t),!t.row)throw new Error("No row configured");this._element=(0,d.m)(t.state_color?Object.assign({state_color:!0},t.row):t.row)}}])}(l.g);h=(0,u.__decorate)([(0,c.Mo)("hui-conditional-row")],h),i()}catch(v){i(v)}})}}]);
//# sourceMappingURL=71352.3394f6c3c5467411.js.map