Metadata-Version: 2.3
Name: tgo-memory
Version: 1.0.0
Summary: TGO-Memory Python SDK - æ™ºèƒ½ç”¨æˆ·è®°å¿†ç®¡ç†ç³»ç»Ÿçš„ Python å®¢æˆ·ç«¯
Keywords: memory,ai,llm,sdk,client
Author: TGO-Memory Team
Author-email: team@tgo.ai
Requires-Python: >=3.8.1,<4.0.0
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Programming Language :: Python :: 3.8
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Dist: httpx (>=0.25.0,<0.26.0)
Requires-Dist: pydantic (>=2.4.0,<3.0.0)
Requires-Dist: typing-extensions (>=4.8.0,<5.0.0)
Project-URL: Documentation, https://docs.tgo.ai
Project-URL: Homepage, https://github.com/tgoai/tgo-memory
Project-URL: Repository, https://github.com/tgoai/tgo-memory
Description-Content-Type: text/markdown

# TGO-Memory Python SDK

TGO-Memory çš„å®˜æ–¹ Python SDKï¼Œæä¾›ç®€æ´è€Œå¼ºå¤§çš„ API æŽ¥å£ï¼Œè®©æ‚¨è½»æ¾é›†æˆæ™ºèƒ½ç”¨æˆ·è®°å¿†ç®¡ç†åŠŸèƒ½ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- **ç”¨æˆ·æ¡£æ¡ˆè®°å¿†ç®¡ç†** - åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ç”¨æˆ·æ¡£æ¡ˆä¿¡æ¯
- **ç”¨æˆ·äº‹ä»¶è®°å¿†ç®¡ç†** - ç®¡ç†ç”¨æˆ·çš„é‡è¦ç»åŽ†å’Œé‡Œç¨‹ç¢‘äº‹ä»¶
- **ä¼šè¯ç®¡ç†** - æ”¯æŒä¸ªäººèŠå¤©å’Œç¾¤ç»„èŠå¤©
- **æ¶ˆæ¯å¤„ç†** - æ™ºèƒ½åˆ†æžå¯¹è¯å†…å®¹ï¼Œè‡ªåŠ¨æå–è®°å¿†
- **é…ç½®ç®¡ç†** - çµæ´»é…ç½®è®°å¿†æå–è§„åˆ™
- **æ™ºèƒ½ä¸Šä¸‹æ–‡ç”Ÿæˆ** - ä¸º AI å¯¹è¯æä¾›ä¸ªæ€§åŒ–ä¸Šä¸‹æ–‡
- **åŒæ­¥/å¼‚æ­¥æ”¯æŒ** - æä¾›åŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§å®¢æˆ·ç«¯

## ðŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
pip install tgo-memory
```

æˆ–ä½¿ç”¨ Poetryï¼š

```bash
poetry add tgo-memory
```

### 5åˆ†é’Ÿå¿«é€Ÿä½“éªŒ

```python
import asyncio
from tgo_memory import TgoMemory

async def main():
    # 1. åˆå§‹åŒ–å®¢æˆ·ç«¯
    client = TgoMemory(
        project_url="https://memory.tgo.ai",
        api_key="your-api-key-here"
    )

    # 2. æµ‹è¯•è¿žæŽ¥
    if await client.ping():
        print("âœ… è¿žæŽ¥æˆåŠŸï¼")

    # 3. åˆ›å»ºæˆ–æ›´æ–°ç”¨æˆ·
    user_id = "user_lixiaoming_001"
    user = await client.set_user(
        user_id=user_id,
        profiles={
            "basic_info": {
                "name": "æŽå°æ˜Ž",
                "age": "28",
                "location": "åŒ—äº¬",
                "occupation": "è½¯ä»¶å·¥ç¨‹å¸ˆ"
            },
            "contact": {
                "email": "lixiaoming@example.com",
                "timezone": "Asia/Shanghai",
                "language": "zh-CN"
            }
        }
    )
    print(f"âœ… ç”¨æˆ·åˆ›å»ºæˆåŠŸ: {user.user_id}")

    # 4. èŽ·å–ä¸ªäººèŠå¤©ä¼šè¯
    session = client.get_session(
        session_id=user_id,  # ä¸ªäººèŠå¤©ä½¿ç”¨ç”¨æˆ· ID
        session_type="personal"
    )
    print("âœ… ä¼šè¯åˆ›å»ºæˆåŠŸ")

    # 5. æ·»åŠ å¯¹è¯æ¶ˆæ¯
    await session.add([
        {"role": "user", "content": "ä½ å¥½ï¼Œæˆ‘æ˜¯æŽå°æ˜Žï¼Œä»Šå¹´28å²ï¼Œåœ¨åŒ—äº¬åšè½¯ä»¶å·¥ç¨‹å¸ˆ"},
        {"role": "assistant", "content": "ä½ å¥½æŽå°æ˜Žï¼å¾ˆé«˜å…´è®¤è¯†ä½ ã€‚ä½œä¸ºè½¯ä»¶å·¥ç¨‹å¸ˆï¼Œä½ ä¸»è¦ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆå‘¢ï¼Ÿ"},
        {"role": "user", "content": "æˆ‘ä¸»è¦åšPythonå¼€å‘ï¼Œæœ€è¿‘åœ¨å­¦ä¹ æœºå™¨å­¦ä¹ ã€‚æˆ‘ä½åœ¨æœé˜³åŒºï¼Œå¹³æ—¶å–œæ¬¢æ‰“ç¯®çƒ"},
        {"role": "assistant", "content": "å¾ˆæ£’ï¼Pythonåœ¨æœºå™¨å­¦ä¹ é¢†åŸŸç¡®å®žå¾ˆå—æ¬¢è¿Žã€‚æœé˜³åŒºæœ‰å¾ˆå¤šä¸é”™çš„ç¯®çƒåœºï¼Œä½ ç»å¸¸åŽ»å“ªé‡Œæ‰“çƒï¼Ÿ"}
    ])
    print("âœ… å¯¹è¯æ•°æ®æ·»åŠ æˆåŠŸ")

    # 6. å¤„ç†è®°å¿†ï¼ˆè®© TGO-Memory åˆ†æžå¯¹è¯å¹¶æå–è®°å¿†ï¼‰
    await session.flush()
    print("âœ… è®°å¿†å¤„ç†å®Œæˆ")

    # 7. èŽ·å–ç”¨æˆ·ä¸Šä¸‹æ–‡ï¼ˆç”¨äºŽ AI å¯¹è¯ï¼‰
    context = await client.get_context(user_id=user_id)
    print("âœ… ä¸Šä¸‹æ–‡èŽ·å–æˆåŠŸ")
    print(f"ä¸Šä¸‹æ–‡å†…å®¹: {context}")

    # 8. å…³é—­å®¢æˆ·ç«¯
    await client.close()

# è¿è¡Œç¤ºä¾‹
asyncio.run(main())
```

### åŒæ­¥å®¢æˆ·ç«¯ä½¿ç”¨

å¦‚æžœæ‚¨æ›´å–œæ¬¢åŒæ­¥ APIï¼Œå¯ä»¥ä½¿ç”¨ `SyncTgoMemory`ï¼š

```python
from tgo_memory import SyncTgoMemory

# åˆå§‹åŒ–åŒæ­¥å®¢æˆ·ç«¯
client = SyncTgoMemory(
    project_url="https://memory.tgo.ai",
    api_key="your-api-key-here"
)

# æµ‹è¯•è¿žæŽ¥
if client.ping():
    print("âœ… è¿žæŽ¥æˆåŠŸï¼")

# åˆ›å»ºç”¨æˆ·
user = client.set_user(
    user_id="user_12345",
    profiles={
        "basic_info": {
            "name": "å¼ ä¸‰",
            "age": "25",
            "location": "ä¸Šæµ·"
        }
    }
)

# èŽ·å–ä¼šè¯å¹¶æ·»åŠ æ¶ˆæ¯
session = client.get_session(session_id="user_12345", session_type="personal")
session.add([
    {"role": "user", "content": "ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ ä¸‰"},
    {"role": "assistant", "content": "ä½ å¥½å¼ ä¸‰ï¼å¾ˆé«˜å…´è®¤è¯†ä½ ã€‚"}
])

# å¤„ç†è®°å¿†
session.flush()

# èŽ·å–ä¸Šä¸‹æ–‡
context = client.get_context(user_id="user_12345")
print("ç”¨æˆ·ä¸Šä¸‹æ–‡:", context)

# å…³é—­å®¢æˆ·ç«¯
client.close()
```

## ðŸ“– è¯¦ç»†æ–‡æ¡£

### å®¢æˆ·ç«¯åˆå§‹åŒ–

```python
from tgo_memory import TgoMemory

client = TgoMemory(
    project_url="https://memory.tgo.ai",      # å¿…éœ€ï¼šTGO-Memory æœåŠ¡åœ°å€
    api_key="your-api-key",                   # å¿…éœ€ï¼šAPI å¯†é’¥
    timeout=30.0,                             # å¯é€‰ï¼šè¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
    max_retries=3,                            # å¯é€‰ï¼šæœ€å¤§é‡è¯•æ¬¡æ•°
    retry_delay=1.0,                          # å¯é€‰ï¼šé‡è¯•å»¶è¿Ÿï¼ˆç§’ï¼‰
    debug=False                               # å¯é€‰ï¼šå¯ç”¨è°ƒè¯•æ¨¡å¼
)
```

### ç”¨æˆ·æ¡£æ¡ˆè®°å¿†ç®¡ç†

#### åˆ›å»ºæˆ–æ›´æ–°ç”¨æˆ·

```python
# åˆ›å»ºæˆ–æ›´æ–°ç”¨æˆ·ï¼ˆUpsert æ¨¡å¼ï¼‰
user = await client.set_user(
    user_id="user_lixiaoming_001",
    profiles={
        "basic_info": {
            "name": "æŽå°æ˜Ž",
            "age": "28",
            "location": "åŒ—äº¬",
            "occupation": "è½¯ä»¶å·¥ç¨‹å¸ˆ"
        },
        "contact": {
            "email": "lixiaoming@example.com",
            "timezone": "Asia/Shanghai",
            "language": "zh-CN"
        },
        "interests": {
            "hobbies": "ç¼–ç¨‹ã€é˜…è¯»ã€ç¯®çƒ",
            "technology": "Pythonã€æœºå™¨å­¦ä¹ ",
            "sports": "ç¯®çƒ"
        }
    }
)
```

#### èŽ·å–ç”¨æˆ·æ¡£æ¡ˆ

```python
# èŽ·å–å®Œæ•´æ¡£æ¡ˆ
profile = await client.get_profile(user_id="user_12345")

# èŽ·å–ç‰¹å®šç±»åˆ«
basic_info = await client.get_profile(
    user_id="user_12345",
    categories=["basic_info", "contact"]
)

# èŽ·å–ç‰¹å®šå­—æ®µ
name_and_age = await client.get_profile(
    user_id="user_12345",
    fields=["basic_info.name", "basic_info.age"]
)
```

#### åˆ é™¤æ¡£æ¡ˆæ•°æ®

```python
# åˆ é™¤ç‰¹å®šç±»åˆ«
await client.delete_profile_data(
    user_id="user_12345",
    categories=["interests"]
)

# åˆ é™¤ç‰¹å®šå­—æ®µ
await client.delete_profile_data(
    user_id="user_12345",
    fields=["basic_info.age", "contact.email"]
)
```

### ç”¨æˆ·äº‹ä»¶è®°å¿†ç®¡ç†

#### åˆ›å»ºäº‹ä»¶è®°å½•

```python
# åˆ›å»ºäº‹ä»¶è®°å½•
event = await client.create_event_record(
    user_id="user_12345",
    category="professional",
    event_data={
        "title": "å‡èŒä¸ºé«˜çº§äº§å“ç»ç†",
        "description": "ç»è¿‡ä¸¤å¹´åŠªåŠ›ï¼Œå‡èŒä¸ºé«˜çº§äº§å“ç»ç†",
        "date": "2024-01-15",
        "importance": "high",
        "emotions": ["excited", "proud"],
        "impact": "èŒä¸šå‘å±•çš„é‡è¦é‡Œç¨‹ç¢‘"
    },
    confidence=1.0,
    source="user_sharing",
    metadata={
        "department": "äº§å“éƒ¨",
        "previous_role": "äº§å“ç»ç†"
    }
)
```

#### èŽ·å–äº‹ä»¶è®°å½•

```python
# èŽ·å–æ‰€æœ‰äº‹ä»¶
events = await client.get_events(user_id="user_12345")

# æŒ‰æ—¶é—´èŒƒå›´èŽ·å–
recent_events = await client.get_events(
    user_id="user_12345",
    start_date="2024-01-01",
    end_date="2024-12-31"
)

# æŒ‰ç±»åˆ«èŽ·å–
work_events = await client.get_events(
    user_id="user_12345",
    categories=["professional", "education"]
)

# æŒ‰é‡è¦æ€§èŽ·å–
important_events = await client.get_events(
    user_id="user_12345",
    importance="high"
)
```

#### æ›´æ–°å’Œåˆ é™¤äº‹ä»¶

```python
# æ›´æ–°äº‹ä»¶è®°å½•
updated_event = await client.update_event_record(
    event_id="event_123",
    event_data={
        "title": "å‡èŒä¸ºèµ„æ·±äº§å“ç»ç†",  # æ›´æ–°æ ‡é¢˜
        "importance": "very_high"      # æ›´æ–°é‡è¦æ€§
    },
    metadata={
        "updated_reason": "èŒä½åç§°è°ƒæ•´"
    }
)

# åˆ é™¤äº‹ä»¶è®°å½•
success = await client.delete_event_record(event_id="event_123")
```

### ä¼šè¯ç®¡ç†

#### ä¸ªäººä¼šè¯

```python
# ä¸ªäººä¼šè¯ï¼šsession_id é€šå¸¸ä½¿ç”¨ç”¨æˆ· ID
session = client.get_session(
    session_id="user_12345",
    session_type="personal"
)
```

#### ç¾¤ç»„ä¼šè¯

```python
# ç¾¤ç»„ä¼šè¯ï¼šsession_id ä½¿ç”¨ç¾¤ç»„ ID
session = client.get_session(
    session_id="project_team_001",
    session_type="group"
)

# ç¾¤ç»„æ¶ˆæ¯éœ€è¦åŒ…å«å‘é€è€…ä¿¡æ¯
await session.add([
    {
        "role": "user",
        "content": "å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é¡¹ç›®ç»ç†å¼ ä¸‰",
        "user_id": "user_zhangsan"  # ç¾¤ç»„æ¶ˆæ¯å¿…é¡»æŒ‡å®šå‘é€è€…
    },
    {
        "role": "user",
        "content": "æˆ‘æ˜¯å¼€å‘å·¥ç¨‹å¸ˆæŽå››",
        "user_id": "user_lisi"
    }
])
```

### æ¶ˆæ¯å¤„ç†

#### æ·»åŠ æ¶ˆæ¯

```python
# ä¸ªäººèŠå¤©æ·»åŠ æ¶ˆæ¯
await session.add([
    {"role": "user", "content": "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œæˆ‘åŽ»å…¬å›­è·‘æ­¥äº†"},
    {"role": "assistant", "content": "è·‘æ­¥æ˜¯å¾ˆå¥½çš„è¿åŠ¨ï¼ä½ ç»å¸¸åŽ»å“ªä¸ªå…¬å›­ï¼Ÿ"},
    {"role": "user", "content": "æˆ‘ç»å¸¸åŽ»å¥¥æ£®å…¬å›­ï¼Œé‚£é‡Œç©ºæ°”å¾ˆå¥½"}
])

# ç¾¤ç»„èŠå¤©æ·»åŠ æ¶ˆæ¯ï¼ˆéœ€è¦æŒ‡å®š user_idï¼‰
await session.add([
    {
        "role": "user",
        "content": "é¡¹ç›®è¿›åº¦å¦‚ä½•ï¼Ÿ",
        "user_id": "user_manager"
    },
    {
        "role": "user",
        "content": "åŽç«¯å¼€å‘å·²å®Œæˆ80%",
        "user_id": "user_developer"
    }
])
```

#### å¤„ç†æ¶ˆæ¯ç¼“å†²åŒº

```python
# è§¦å‘è®°å¿†æå–å’Œå¤„ç†
result = await session.flush()

print(f"å¤„ç†æ¶ˆæ¯æ•°: {result.processed_messages}")
print(f"æ¡£æ¡ˆè®°å¿†æ•°: {result.profile_memories_count}")
print(f"äº‹ä»¶è®°å¿†æ•°: {result.event_memories_count}")
print(f"å¤„ç†çŠ¶æ€: {result.status}")
```

#### èŽ·å–ç¼“å†²åŒºçŠ¶æ€

```python
# æŸ¥çœ‹å¾…å¤„ç†æ¶ˆæ¯æ•°é‡
status = await session.get_buffer_status()
print(f"å¾…å¤„ç†æ¶ˆæ¯æ•°: {status.pending_messages}")
print(f"ä¸Šæ¬¡å¤„ç†æ—¶é—´: {status.last_flush_at}")
```

### é…ç½®ç®¡ç†

#### æ›´æ–°æ¡£æ¡ˆè®°å¿†é…ç½®

```python
# é…ç½®å“ªäº›å­—æ®µéœ€è¦æå–ï¼Œä»¥åŠä¼˜å…ˆçº§
config = {
    "profiles": {
        "basic_info": {
            "name": {"enabled": True, "priority": "high"},
            "age": {"enabled": True, "priority": "medium"},
            "location": {"enabled": True, "priority": "medium"},
            "occupation": {"enabled": True, "priority": "high"}
        },
        "interests": {
            "hobbies": {"enabled": True, "priority": "medium"},
            "technology": {"enabled": True, "priority": "high"},
            "sports": {"enabled": True, "priority": "medium"}
        }
    }
}

result = await client.update_profile_config(config=config)
print(f"é…ç½®æ›´æ–°çŠ¶æ€: {result.status}")
```

#### èŽ·å–å½“å‰é…ç½®

```python
config = await client.get_profile_config()
print("å½“å‰é…ç½®:", config.profiles)
print("é…ç½®ç‰ˆæœ¬:", config.version)
```

### æ™ºèƒ½ä¸Šä¸‹æ–‡ç”Ÿæˆ

```python
# åŸºç¡€ç”¨æ³•
context = await client.get_context(user_id="user_12345")

# é«˜çº§é…ç½®
context = await client.get_context(
    user_id="user_12345",
    config={
        "max_length": 2000,                    # æœ€å¤§é•¿åº¦
        "categories": ["basic_info", "interests"],  # æŒ‡å®šç±»åˆ«
        "priority": "recent",                  # ä¼˜å…ˆçº§ç­–ç•¥: recent, important, balanced
        "include_profile": True,               # åŒ…å«æ¡£æ¡ˆè®°å¿†
        "include_events": True,                # åŒ…å«äº‹ä»¶è®°å¿†
        "time_range": {"days": 30}            # æ—¶é—´èŒƒå›´ï¼ˆæœ€è¿‘30å¤©ï¼‰
    }
)

print(f"ç”Ÿæˆçš„ä¸Šä¸‹æ–‡: {context}")
```

## ðŸ”§ é«˜çº§ç”¨æ³•

### å¼‚æ­¥ä¸Šä¸‹æ–‡ç®¡ç†å™¨

```python
# æŽ¨èä½¿ç”¨å¼‚æ­¥ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œè‡ªåŠ¨å¤„ç†èµ„æºæ¸…ç†
async with TgoMemory(
    project_url="https://memory.tgo.ai",
    api_key="your-api-key"
) as client:
    # ä½¿ç”¨å®¢æˆ·ç«¯
    user = await client.set_user(...)
    session = client.get_session(...)
    await session.add([...])
    await session.flush()
    # è‡ªåŠ¨å…³é—­è¿žæŽ¥
```

### é”™è¯¯å¤„ç†

```python
from tgo_memory import (
    TGOMemoryError,
    AuthenticationError,
    ValidationError,
    NetworkError,
    ServerError,
    SessionError,
    MemoryError
)

try:
    # å¯èƒ½å‡ºé”™çš„æ“ä½œ
    await client.set_user(user_id="", profiles={})

except ValidationError as e:
    print(f"å‚æ•°éªŒè¯å¤±è´¥: {e}")
    # æ£€æŸ¥è¾“å…¥å‚æ•°æ ¼å¼

except AuthenticationError as e:
    print(f"è®¤è¯å¤±è´¥: {e}")
    # æ£€æŸ¥ API å¯†é’¥æ˜¯å¦æ­£ç¡®

except NetworkError as e:
    print(f"ç½‘ç»œé”™è¯¯: {e}")
    # æ£€æŸ¥ç½‘ç»œè¿žæŽ¥å’ŒæœåŠ¡åœ°å€

except ServerError as e:
    print(f"æœåŠ¡å™¨é”™è¯¯: {e}")
    # æœåŠ¡ç«¯é—®é¢˜ï¼Œç¨åŽé‡è¯•

except SessionError as e:
    print(f"ä¼šè¯é”™è¯¯: {e}")
    # ä¼šè¯ç›¸å…³æ“ä½œå¤±è´¥

except MemoryError as e:
    print(f"è®°å¿†æ“ä½œé”™è¯¯: {e}")
    # è®°å¿†å¤„ç†å¤±è´¥

except TGOMemoryError as e:
    print(f"å…¶ä»–é”™è¯¯: {e}")
    # å…¶ä»– TGO-Memory ç›¸å…³é”™è¯¯
```

### æ‰¹é‡æ“ä½œ

```python
import asyncio

# æ‰¹é‡å¤„ç†å¤šä¸ªç”¨æˆ·çš„æ¶ˆæ¯
async def process_users_batch(client, user_data_list):
    """æ‰¹é‡å¤„ç†å¤šä¸ªç”¨æˆ·çš„å¯¹è¯æ•°æ®"""

    tasks = []
    for user_data in user_data_list:
        task = process_single_user(client, user_data)
        tasks.append(task)

    # å¹¶å‘æ‰§è¡Œ
    results = await asyncio.gather(*tasks, return_exceptions=True)

    # å¤„ç†ç»“æžœ
    for i, result in enumerate(results):
        if isinstance(result, Exception):
            print(f"ç”¨æˆ· {user_data_list[i]['user_id']} å¤„ç†å¤±è´¥: {result}")
        else:
            print(f"ç”¨æˆ· {user_data_list[i]['user_id']} å¤„ç†æˆåŠŸ")

async def process_single_user(client, user_data):
    """å¤„ç†å•ä¸ªç”¨æˆ·çš„æ•°æ®"""
    user_id = user_data["user_id"]

    # åˆ›å»ºæˆ–æ›´æ–°ç”¨æˆ·
    await client.set_user(
        user_id=user_id,
        profiles=user_data["profiles"]
    )

    # èŽ·å–ä¼šè¯å¹¶æ·»åŠ æ¶ˆæ¯
    session = client.get_session(user_id, "personal")
    await session.add(user_data["messages"])

    # å¤„ç†è®°å¿†
    result = await session.flush()
    return result

# ä½¿ç”¨ç¤ºä¾‹
user_data_list = [
    {
        "user_id": "user_001",
        "profiles": {"basic_info": {"name": "å¼ ä¸‰"}},
        "messages": [{"role": "user", "content": "ä½ å¥½"}]
    },
    {
        "user_id": "user_002",
        "profiles": {"basic_info": {"name": "æŽå››"}},
        "messages": [{"role": "user", "content": "æ—©ä¸Šå¥½"}]
    }
]

async with TgoMemory(project_url="...", api_key="...") as client:
    await process_users_batch(client, user_data_list)
```

## ðŸ“ API å‚è€ƒ

### TgoMemory ç±»

#### è¿žæŽ¥ç®¡ç†
| æ–¹æ³• | æè¿° | å‚æ•° | è¿”å›žå€¼ |
|------|------|------|--------|
| `ping()` | æµ‹è¯•è¿žæŽ¥ | - | `bool` |
| `close()` | å…³é—­å®¢æˆ·ç«¯ | - | `None` |

#### ç”¨æˆ·æ¡£æ¡ˆè®°å¿†
| æ–¹æ³• | æè¿° | å‚æ•° | è¿”å›žå€¼ |
|------|------|------|--------|
| `set_user()` | åˆ›å»ºæˆ–æ›´æ–°ç”¨æˆ· | `user_id`, `profiles` | `User` |
| `get_profile()` | èŽ·å–ç”¨æˆ·æ¡£æ¡ˆ | `user_id`, `categories?`, `fields?` | `Dict` |
| `delete_profile_data()` | åˆ é™¤æ¡£æ¡ˆæ•°æ® | `user_id`, `categories?`, `fields?` | `bool` |

#### ç”¨æˆ·äº‹ä»¶è®°å¿†
| æ–¹æ³• | æè¿° | å‚æ•° | è¿”å›žå€¼ |
|------|------|------|--------|
| `create_event_record()` | åˆ›å»ºäº‹ä»¶è®°å½• | `user_id`, `category`, `event_data`, `confidence?`, `source?`, `metadata?` | `Event` |
| `get_events()` | èŽ·å–äº‹ä»¶åˆ—è¡¨ | `user_id`, `start_date?`, `end_date?`, `categories?`, `importance?` | `List[Event]` |
| `get_event()` | èŽ·å–ç‰¹å®šäº‹ä»¶ | `event_id` | `Event` |
| `update_event_record()` | æ›´æ–°äº‹ä»¶è®°å½• | `event_id`, `event_data?`, `metadata?` | `Event` |
| `delete_event_record()` | åˆ é™¤äº‹ä»¶è®°å½• | `event_id` | `bool` |

#### ä¼šè¯ç®¡ç†
| æ–¹æ³• | æè¿° | å‚æ•° | è¿”å›žå€¼ |
|------|------|------|--------|
| `get_session()` | èŽ·å–ä¼šè¯å¯¹è±¡ | `session_id`, `session_type` | `Session` |

#### é…ç½®ç®¡ç†
| æ–¹æ³• | æè¿° | å‚æ•° | è¿”å›žå€¼ |
|------|------|------|--------|
| `update_profile_config()` | æ›´æ–°æ¡£æ¡ˆé…ç½® | `config` | `ConfigResult` |
| `get_profile_config()` | èŽ·å–æ¡£æ¡ˆé…ç½® | - | `ProfileConfig` |

#### ä¸Šä¸‹æ–‡ç”Ÿæˆ
| æ–¹æ³• | æè¿° | å‚æ•° | è¿”å›žå€¼ |
|------|------|------|--------|
| `get_context()` | èŽ·å–ç”¨æˆ·ä¸Šä¸‹æ–‡ | `user_id`, `config?` | `str` |

### Session ç±»

| æ–¹æ³• | æè¿° | å‚æ•° | è¿”å›žå€¼ |
|------|------|------|--------|
| `add()` | æ·»åŠ æ¶ˆæ¯ | `messages` | `AddResult` |
| `flush()` | å¤„ç†ç¼“å†²åŒº | - | `FlushResult` |
| `get_buffer_status()` | èŽ·å–ç¼“å†²åŒºçŠ¶æ€ | - | `BufferStatus` |

### æ•°æ®æ¨¡åž‹

#### User
- `user_id`: ç”¨æˆ· ID
- `profiles`: æ¡£æ¡ˆæ•°æ®å­—å…¸
- `created_at`: åˆ›å»ºæ—¶é—´
- `updated_at`: æ›´æ–°æ—¶é—´

#### Event
- `event_id`: äº‹ä»¶ ID
- `user_id`: ç”¨æˆ· ID
- `category`: äº‹ä»¶ç±»åˆ«
- `event_data`: äº‹ä»¶æ•°æ®
- `confidence`: ç½®ä¿¡åº¦
- `source`: æ•°æ®æº
- `metadata`: å…ƒæ•°æ®

#### AddResult
- `session_id`: ä¼šè¯ ID
- `session_type`: ä¼šè¯ç±»åž‹
- `added_messages`: æ·»åŠ çš„æ¶ˆæ¯æ•°
- `message_ids`: æ¶ˆæ¯ ID åˆ—è¡¨

#### FlushResult
- `session_id`: ä¼šè¯ ID
- `session_type`: ä¼šè¯ç±»åž‹
- `processed_messages`: å¤„ç†çš„æ¶ˆæ¯æ•°
- `profile_memories_count`: æ¡£æ¡ˆè®°å¿†æ•°
- `event_memories_count`: äº‹ä»¶è®°å¿†æ•°
- `status`: å¤„ç†çŠ¶æ€

## ðŸŽ¯ æœ€ä½³å®žè·µ

1. **ä½¿ç”¨å¼‚æ­¥ä¸Šä¸‹æ–‡ç®¡ç†å™¨**ï¼šç¡®ä¿èµ„æºæ­£ç¡®é‡Šæ”¾
2. **åˆç†é…ç½®è¶…æ—¶å’Œé‡è¯•**ï¼šæé«˜ç³»ç»Ÿç¨³å®šæ€§
3. **æ‰¹é‡å¤„ç†**ï¼šå¯¹äºŽå¤§é‡æ•°æ®ï¼Œä½¿ç”¨å¹¶å‘å¤„ç†æé«˜æ•ˆçŽ‡
4. **é”™è¯¯å¤„ç†**ï¼šæ•èŽ·å¹¶å¤„ç†å„ç§å¼‚å¸¸æƒ…å†µ
5. **é…ç½®ç®¡ç†**ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚è°ƒæ•´è®°å¿†æå–é…ç½®

## ðŸ”— ç›¸å…³é“¾æŽ¥

- [TGO-Memory å®˜æ–¹æ–‡æ¡£](https://docs.tgo.ai/memory)
- [API å‚è€ƒæ–‡æ¡£](https://docs.tgo.ai/memory/api)
- [GitHub ä»“åº“](https://github.com/tgo-ai/tgo-memory)
- [é—®é¢˜åé¦ˆ](https://github.com/tgo-ai/tgo-memory/issues)

## ðŸ¤ è´¡çŒ®

æ¬¢è¿Žè´¡çŒ®ä»£ç ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](../../CONTRIBUTING.md) äº†è§£è¯¦æƒ…ã€‚

## ðŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](../../LICENSE) æ–‡ä»¶ã€‚

