"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["22600"],{51574:function(t,e,i){i.d(e,{U:function(){return a},W:function(){return o}});const a=(t,e)=>{const i=e.entities[t.entity_id];return i?o(i,e):{entity:null,device:null,area:null,floor:null}},o=(t,e)=>{const i=e.entities[t.entity_id],a=null==t?void 0:t.device_id,o=a?e.devices[a]:void 0,n=(null==t?void 0:t.area_id)||(null==o?void 0:o.area_id),r=n?e.areas[n]:void 0,s=null==r?void 0:r.floor_id;return{entity:i,device:o||null,area:r||null,floor:(s?e.floors[s]:void 0)||null}}},42515:function(t,e,i){i.d(e,{v:function(){return n}});var a=i(29694),o=i(75778),n=function(){var t=(0,o.Z)((0,a.Z)().m(function t(e,i){var o,n;return(0,a.Z)().w(function(t){for(;;)switch(t.n){case 0:if(!navigator.clipboard){t.n=4;break}return t.p=1,t.n=2,navigator.clipboard.writeText(e);case 2:return t.a(2);case 3:t.p=3,t.v;case 4:o=null!=i?i:document.body,(n=document.createElement("textarea")).value=e,o.appendChild(n),n.select(),document.execCommand("copy"),o.removeChild(n);case 5:return t.a(2)}},t,null,[[1,3]])}));return function(e,i){return t.apply(this,arguments)}}()},41037:function(t,e,i){i(26847),i(81738),i(22960),i(27530);var a=i(73742),o=i(59048),n=i(7616),r=i(83054);i(12066),i(39765);let s,c,l=t=>t;class d extends o.oi{get items(){var t;return null===(t=this._menu)||void 0===t?void 0:t.items}get selected(){var t;return null===(t=this._menu)||void 0===t?void 0:t.selected}focus(){var t,e;null!==(t=this._menu)&&void 0!==t&&t.open?this._menu.focusItemAtIndex(0):null===(e=this._triggerButton)||void 0===e||e.focus()}render(){return(0,o.dy)(s||(s=l` <div @click="${0}"> <slot name="trigger" @slotchange="${0}"></slot> </div> <ha-menu .corner="${0}" .menuCorner="${0}" .fixed="${0}" .multi="${0}" .activatable="${0}" .y="${0}" .x="${0}"> <slot></slot> </ha-menu> `),this._handleClick,this._setTriggerAria,this.corner,this.menuCorner,this.fixed,this.multi,this.activatable,this.y,this.x)}firstUpdated(t){super.firstUpdated(t),"rtl"===r.E.document.dir&&this.updateComplete.then(()=>{this.querySelectorAll("ha-list-item").forEach(t=>{const e=document.createElement("style");e.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",t.shadowRoot.appendChild(e)})})}_handleClick(){this.disabled||(this._menu.anchor=this.noAnchor?null:this,this._menu.show())}get _triggerButton(){return this.querySelector('ha-icon-button[slot="trigger"], ha-button[slot="trigger"], mwc-button[slot="trigger"]')}_setTriggerAria(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}constructor(...t){super(...t),this.corner="BOTTOM_START",this.menuCorner="START",this.x=null,this.y=null,this.multi=!1,this.activatable=!1,this.disabled=!1,this.fixed=!1,this.noAnchor=!1}}d.styles=(0,o.iv)(c||(c=l`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`)),(0,a.__decorate)([(0,n.Cb)()],d.prototype,"corner",void 0),(0,a.__decorate)([(0,n.Cb)({attribute:"menu-corner"})],d.prototype,"menuCorner",void 0),(0,a.__decorate)([(0,n.Cb)({type:Number})],d.prototype,"x",void 0),(0,a.__decorate)([(0,n.Cb)({type:Number})],d.prototype,"y",void 0),(0,a.__decorate)([(0,n.Cb)({type:Boolean})],d.prototype,"multi",void 0),(0,a.__decorate)([(0,n.Cb)({type:Boolean})],d.prototype,"activatable",void 0),(0,a.__decorate)([(0,n.Cb)({type:Boolean})],d.prototype,"disabled",void 0),(0,a.__decorate)([(0,n.Cb)({type:Boolean})],d.prototype,"fixed",void 0),(0,a.__decorate)([(0,n.Cb)({type:Boolean,attribute:"no-anchor"})],d.prototype,"noAnchor",void 0),(0,a.__decorate)([(0,n.IO)("ha-menu",!0)],d.prototype,"_menu",void 0),d=(0,a.__decorate)([(0,n.Mo)("ha-button-menu")],d)},80471:function(t,e,i){var a,o,n,r=i(54982),s=i(54521),c=i(4490),l=i(20129),d=i(53389),h=i(85297),u=i(73742),p=i(33856),m=i(24584),v=i(7616),g=i(59048),f=i(83054),_=function(t){function e(){return(0,s.Z)(this,e),(0,l.Z)(this,e,arguments)}return(0,h.Z)(e,t),(0,c.Z)(e,[{key:"firstUpdated",value:function(t){(0,d.Z)(e,"firstUpdated",this,3)([t]),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}])}(p._);_.styles=[m.W,(0,g.iv)(a||(a=(0,r.Z)([":host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}"]))),"rtl"===f.E.document.dir?(0,g.iv)(o||(o=(0,r.Z)([":host .mdc-fab--extended .mdc-fab__icon{direction:rtl}"]))):(0,g.iv)(n||(n=(0,r.Z)([""])))],_=(0,u.__decorate)([(0,v.Mo)("ha-fab")],_)},69760:function(t,e,i){var a,o,n,r=i(54982),s=i(54521),c=i(4490),l=i(20129),d=i(53389),h=i(85297),u=i(73742),p=i(84859),m=i(7686),v=i(59048),g=i(7616),f=function(t){function e(){return(0,s.Z)(this,e),(0,l.Z)(this,e,arguments)}return(0,h.Z)(e,t),(0,c.Z)(e,[{key:"renderRipple",value:function(){return this.noninteractive?"":(0,d.Z)(e,"renderRipple",this,3)([])}}],[{key:"styles",get:function(){return[m.W,(0,v.iv)(a||(a=(0,r.Z)([":host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-inline-start:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px));padding-inline-end:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)!important}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)!important}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center;flex-shrink:0}:host([graphic=icon]:not([twoline])) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,20px)!important}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}"]))),"rtl"===document.dir?(0,v.iv)(o||(o=(0,r.Z)(["span.material-icons:first-of-type,span.material-icons:last-of-type{direction:rtl!important;--direction:rtl}"]))):(0,v.iv)(n||(n=(0,r.Z)([""])))]}}])}(p.K);f=(0,u.__decorate)([(0,g.Mo)("ha-list-item")],f)},3333:function(t,e,i){var a,o=i(54982),n=i(54521),r=i(4490),s=i(20129),c=i(85297),l=i(53389),d=(i(12212),i(73742)),h=i(36723),u=i(16880),p=i(31254),m=i(59048),v=i(7616),g=function(t){function e(){var t;(0,n.Z)(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=(0,s.Z)(this,e,[].concat(a))).autogrow=!1,t}return(0,c.Z)(e,t),(0,r.Z)(e,[{key:"updated",value:function(t){(0,l.Z)(e,"updated",this,3)([t]),this.autogrow&&t.has("value")&&(this.mdcRoot.dataset.value=this.value+'=â€‹"')}}])}(h.O);g.styles=[u.W,p.W,(0,m.iv)(a||(a=(0,o.Z)([":host([autogrow]) .mdc-text-field{position:relative;min-height:74px;min-width:178px;max-height:200px}:host([autogrow]) .mdc-text-field:after{content:attr(data-value);margin-top:23px;margin-bottom:9px;line-height:var(--ha-line-height-normal);min-height:42px;padding:0px 32px 0 16px;letter-spacing:var(\n          --mdc-typography-subtitle1-letter-spacing,\n          .009375em\n        );visibility:hidden;white-space:pre-wrap}:host([autogrow]) .mdc-text-field__input{position:absolute;height:calc(100% - 32px)}:host([autogrow]) .mdc-text-field.mdc-text-field--no-label:after{margin-top:16px;margin-bottom:16px}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start) top}@media only screen and (min-width:459px){:host([mobile-multiline]) .mdc-text-field__input{white-space:nowrap;max-height:16px}}"])))],(0,d.__decorate)([(0,v.Cb)({type:Boolean,reflect:!0})],g.prototype,"autogrow",void 0),g=(0,d.__decorate)([(0,v.Mo)("ha-textarea")],g)},80298:function(t,e,i){i.a(t,async function(t,e){try{var a=i(73742),o=i(52634),n=i(62685),r=i(59048),s=i(7616),c=i(75535),l=t([o]);o=(l.then?(await l)():l)[0];let d,h=t=>t;(0,c.jx)("tooltip.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:150,easing:"ease"}}),(0,c.jx)("tooltip.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:400,easing:"ease"}});class u extends o.Z{}u.styles=[n.Z,(0,r.iv)(d||(d=h`:host{--sl-tooltip-background-color:var(--secondary-background-color);--sl-tooltip-color:var(--primary-text-color);--sl-tooltip-font-family:var(
          --ha-tooltip-font-family,
          var(--ha-font-family-body)
        );--sl-tooltip-font-size:var(
          --ha-tooltip-font-size,
          var(--ha-font-size-s)
        );--sl-tooltip-font-weight:var(
          --ha-tooltip-font-weight,
          var(--ha-font-weight-normal)
        );--sl-tooltip-line-height:var(
          --ha-tooltip-line-height,
          var(--ha-line-height-condensed)
        );--sl-tooltip-padding:8px;--sl-tooltip-border-radius:var(--ha-tooltip-border-radius, 4px);--sl-tooltip-arrow-size:var(--ha-tooltip-arrow-size, 8px);--sl-z-index-tooltip:var(--ha-tooltip-z-index, 1000)}`))],u=(0,a.__decorate)([(0,s.Mo)("ha-tooltip")],u),e()}catch(d){e(d)}})},31507:function(t,e,i){var a,o,n,r,s=i(29694),c=i(75778),l=i(54982),d=i(54521),h=i(4490),u=i(20129),p=i(85297),m=i(53389),v=(i(12212),i(70021),i(24819),i(81738),i(29981),i(6989),i(54480),i(73742)),g=i(59048),f=i(7616),_=i(39884),b=i(98921),y=i(87639),w=i(83018),x=(i(69760),i(86633),"__NONE_OPTION__"),k=function(t){function e(){var t;(0,d.Z)(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=(0,u.Z)(this,e,[].concat(a))).disabled=!1,t.required=!1,t._debouncedUpdateVoices=(0,y.D)(function(){return t._updateVoices()},500),t}return(0,p.Z)(e,t),(0,h.Z)(e,[{key:"render",value:function(){var t,e;if(!this._voices)return g.Ld;var i=null!==(t=this.value)&&void 0!==t?t:this.required?null===(e=this._voices[0])||void 0===e?void 0:e.voice_id:x;return(0,g.dy)(a||(a=(0,l.Z)([' <ha-select .label="','" .value="','" .required="','" .disabled="','" @selected="','" @closed="','" fixedMenuPosition naturalMenuWidth> '," "," </ha-select> "])),this.label||this.hass.localize("ui.components.tts-voice-picker.voice"),i,this.required,this.disabled,this._changed,b.U,this.required?g.Ld:(0,g.dy)(o||(o=(0,l.Z)(['<ha-list-item .value="','"> '," </ha-list-item>"])),x,this.hass.localize("ui.components.tts-voice-picker.none")),this._voices.map(function(t){return(0,g.dy)(n||(n=(0,l.Z)(['<ha-list-item .value="','"> '," </ha-list-item>"])),t.voice_id,t.name)}))}},{key:"willUpdate",value:function(t){(0,m.Z)(e,"willUpdate",this,3)([t]),this.hasUpdated?(t.has("language")||t.has("engineId"))&&this._debouncedUpdateVoices():this._updateVoices()}},{key:"_updateVoices",value:(i=(0,c.Z)((0,s.Z)().m(function t(){var e=this;return(0,s.Z)().w(function(t){for(;;)switch(t.n){case 0:if(this.engineId&&this.language){t.n=1;break}return this._voices=void 0,t.a(2);case 1:return t.n=2,(0,w.MV)(this.hass,this.engineId,this.language);case 2:if(this._voices=t.v.voices,this.value){t.n=3;break}return t.a(2);case 3:this._voices&&this._voices.find(function(t){return t.voice_id===e.value})||(this.value=void 0,(0,_.B)(this,"value-changed",{value:this.value}));case 4:return t.a(2)}},t,this)})),function(){return i.apply(this,arguments)})},{key:"updated",value:function(t){var i,a,o;((0,m.Z)(e,"updated",this,3)([t]),t.has("_voices")&&(null===(i=this._select)||void 0===i?void 0:i.value)!==this.value)&&(null===(a=this._select)||void 0===a||a.layoutOptions(),(0,_.B)(this,"value-changed",{value:null===(o=this._select)||void 0===o?void 0:o.value}))}},{key:"_changed",value:function(t){var e=t.target;!this.hass||""===e.value||e.value===this.value||void 0===this.value&&e.value===x||(this.value=e.value===x?void 0:e.value,(0,_.B)(this,"value-changed",{value:this.value}))}}]);var i}(g.oi);k.styles=(0,g.iv)(r||(r=(0,l.Z)(["ha-select{width:100%}"]))),(0,v.__decorate)([(0,f.Cb)()],k.prototype,"value",void 0),(0,v.__decorate)([(0,f.Cb)()],k.prototype,"label",void 0),(0,v.__decorate)([(0,f.Cb)({attribute:!1})],k.prototype,"engineId",void 0),(0,v.__decorate)([(0,f.Cb)()],k.prototype,"language",void 0),(0,v.__decorate)([(0,f.Cb)({attribute:!1})],k.prototype,"hass",void 0),(0,v.__decorate)([(0,f.Cb)({type:Boolean,reflect:!0})],k.prototype,"disabled",void 0),(0,v.__decorate)([(0,f.Cb)({type:Boolean})],k.prototype,"required",void 0),(0,v.__decorate)([(0,f.SB)()],k.prototype,"_voices",void 0),(0,v.__decorate)([(0,f.IO)("ha-select")],k.prototype,"_select",void 0),k=(0,v.__decorate)([(0,f.Mo)("ha-tts-voice-picker")],k)},65336:function(t,e,i){i.a(t,async function(t,e){try{var a,o,n,r,s=i(29694),c=i(75778),l=i(54982),d=i(54521),h=i(4490),u=i(20129),p=i(53389),m=i(85297),v=(i(12212),i(70021),i(26847),i(81738),i(29981),i(87799),i(54480),i(56303),i(48694),i(27530),i(95729),i(36330),i(38221),i(75863),i(73742)),g=(i(98334),i(59048)),f=i(7616),_=i(9924),b=i(39884),y=i(83018),w=i(95814),x=(i(3333),i(10277)),k=(i(31507),i(31138),i(31307)),Z=i(42515),z=i(35982),C=t([x]);x=(C.then?(await C)():C)[0];var I=function(t){function e(){return(0,d.Z)(this,e),(0,u.Z)(this,e,arguments)}return(0,m.Z)(e,t),(0,h.Z)(e,[{key:"render",value:function(){var t,e;return(0,g.dy)(a||(a=(0,l.Z)([' <ha-card> <div class="card-content"> <ha-textarea autogrow .label="','" .value="','"> </ha-textarea> ',' </div> <div class="card-actions"> <mwc-button @click="','"> '," </mwc-button> </div> </ha-card> "," "])),this.hass.localize("ui.components.media-browser.tts.message"),this._message||this.hass.localize("ui.components.media-browser.tts.example_message",{name:(null===(t=this.hass.user)||void 0===t?void 0:t.name)||"Alice"}),null!==(e=this._provider)&&void 0!==e&&null!==(e=e.supported_languages)&&void 0!==e&&e.length?(0,g.dy)(o||(o=(0,l.Z)([' <div class="options"> <ha-language-picker .hass="','" .languages="','" .value="','" required @value-changed="','"></ha-language-picker> <ha-tts-voice-picker .hass="','" .value="','" .engineId="','" .language="','" required @value-changed="','"></ha-tts-voice-picker> </div>'])),this.hass,this._provider.supported_languages,this._language,this._languageChanged,this.hass,this._voice,this._provider.engine_id,this._language,this._voiceChanged):g.Ld,this._ttsClicked,this.hass.localize("ui.components.media-browser.tts.action_".concat(this.action)),this._voice?(0,g.dy)(n||(n=(0,l.Z)([' <div class="footer"> '," <code>",'</code> <ha-icon-button .path="','" @click="','" title="','"></ha-icon-button> </div> '])),this.hass.localize("ui.components.media-browser.tts.selected_voice_id"),this._voice||"-","M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",this._copyVoiceId,this.hass.localize("ui.components.media-browser.tts.copy_voice_id")):g.Ld)}},{key:"willUpdate",value:function(t){var i,a=this;if((0,p.Z)(e,"willUpdate",this,3)([t]),t.has("item")&&this.item.media_content_id){var o,n=new URLSearchParams(this.item.media_content_id.split("?")[1]),r=n.get("message"),s=n.get("language"),c=n.get("voice");r&&(this._message=r),s&&(this._language=s),c&&(this._voice=c);var l=(0,y.Xk)(this.item.media_content_id);l!==(null===(o=this._provider)||void 0===o?void 0:o.engine_id)&&(this._provider=void 0,(0,y.yP)(this.hass,l).then(function(t){var e;if(a._provider=t.provider,!a._language&&null!==(e=t.provider.supported_languages)&&void 0!==e&&e.length){var i,o="".concat(a.hass.config.language,"-").concat(a.hass.config.country).toLowerCase(),n=t.provider.supported_languages.find(function(t){return t.toLowerCase()===o});if(n)return void(a._language=n);a._language=null===(i=t.provider.supported_languages)||void 0===i?void 0:i.find(function(t){return t.substring(0,2)===a.hass.config.language.substring(0,2)})}}),"cloud"===l&&(0,k.LI)(this.hass).then(function(t){t.logged_in&&(a._language=t.prefs.tts_default_voice[0])}))}if(!t.has("_message")){var d=null===(i=this.shadowRoot.querySelector("ha-textarea"))||void 0===i?void 0:i.value;void 0!==d&&d!==this._message&&(this._message=d)}}},{key:"_languageChanged",value:function(t){this._language=t.detail.value}},{key:"_voiceChanged",value:function(t){this._voice=t.detail.value}},{key:"_ttsClicked",value:(r=(0,c.Z)((0,s.Z)().m(function t(){var e,i,a;return(0,s.Z)().w(function(t){for(;;)switch(t.n){case 0:e=this.shadowRoot.querySelector("ha-textarea").value,this._message=e,i=Object.assign({},this.item),(a=new URLSearchParams).append("message",e),this._language&&a.append("language",this._language),this._voice&&a.append("voice",this._voice),i.media_content_id="".concat(i.media_content_id.split("?")[0],"?").concat(a.toString()),i.media_content_type="audio/mp3",i.can_play=!0,i.title=e,(0,b.B)(this,"tts-picked",{item:i});case 1:return t.a(2)}},t,this)})),function(){return r.apply(this,arguments)})},{key:"_copyVoiceId",value:(i=(0,c.Z)((0,s.Z)().m(function t(e){return(0,s.Z)().w(function(t){for(;;)switch(t.n){case 0:return e.preventDefault(),t.n=1,(0,Z.v)(this._voice);case 1:(0,z.C)(this,{message:this.hass.localize("ui.common.copied_clipboard")});case 2:return t.a(2)}},t,this)})),function(t){return i.apply(this,arguments)})}]);var i,r}(g.oi);I.styles=[w.k1,(0,g.iv)(r||(r=(0,l.Z)([":host{margin:16px auto;padding:0 8px;display:flex;flex-direction:column;max-width:448px}.options{margin-top:16px;display:flex;justify-content:space-between}ha-textarea{width:100%}button.link{color:var(--primary-color)}.footer{font-size:var(--ha-font-size-s);color:var(--secondary-text-color);margin:16px 0;text-align:center}.footer code{font-weight:var(--ha-font-weight-bold)}.footer{--mdc-icon-size:14px;--mdc-icon-button-size:24px;display:flex;justify-content:center;align-items:center;gap:6px}"])))],(0,v.__decorate)([(0,f.Cb)({attribute:!1})],I.prototype,"hass",void 0),(0,v.__decorate)([(0,f.Cb)({attribute:!1})],I.prototype,"item",void 0),(0,v.__decorate)([(0,f.Cb)()],I.prototype,"action",void 0),(0,v.__decorate)([(0,f.SB)()],I.prototype,"_language",void 0),(0,v.__decorate)([(0,f.SB)()],I.prototype,"_voice",void 0),(0,v.__decorate)([(0,f.SB)()],I.prototype,"_provider",void 0),(0,v.__decorate)([(0,f.SB)(),(0,_.t)({key:"TtsMessage",state:!0,subscribe:!1})],I.prototype,"_message",void 0),I=(0,v.__decorate)([(0,f.Mo)("ha-browse-media-tts")],I),e()}catch(L){e(L)}})},85170:function(t,e,i){var a,o,n=i(54982),r=i(54521),s=i(4490),c=i(20129),l=i(85297),d=(i(12212),i(73742)),h=(i(98334),i(59048)),u=i(7616),p=i(39884),m=i(32941),v=(i(993),i(26847),i(54480),i(1455),i(48694),i(27530),function(t){function e(){var t;(0,r.Z)(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=(0,c.Z)(this,e,[].concat(a)))._uploading=0,t}return(0,l.Z)(e,t),(0,s.Z)(e,[{key:"render",value:function(){var t;return this.currentItem&&((0,m.aV)(this.currentItem.media_content_id||"")||null!==(t=this.hass.user)&&void 0!==t&&t.is_admin&&(0,m.IB)(this.currentItem.media_content_id))?(0,h.dy)(a||(a=(0,n.Z)([' <mwc-button .label="','" @click="','"> <ha-svg-icon .path="','" slot="icon"></ha-svg-icon> </mwc-button> '])),this.hass.localize("ui.components.media-browser.file_management.manage"),this._manage,"M19.39 10.74L11 19.13V20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.89 4 4 4H10L12 6H20C21.1 6 22 6.89 22 8V10.15C21.74 10.06 21.46 10 21.17 10C20.5 10 19.87 10.26 19.39 10.74M13 19.96V22H15.04L21.17 15.88L19.13 13.83L13 19.96M22.85 13.47L21.53 12.15C21.33 11.95 21 11.95 20.81 12.15L19.83 13.13L21.87 15.17L22.85 14.19C23.05 14 23.05 13.67 22.85 13.47Z"):h.Ld}},{key:"_manage",value:function(){var t,e,a=this;t=this,e={currentItem:this.currentItem,onClose:function(){return(0,p.B)(a,"media-refresh")}},(0,p.B)(t,"show-dialog",{dialogTag:"dialog-media-manage",dialogImport:function(){return Promise.all([i.e("75696"),i.e("55540"),i.e("10320"),i.e("40072")]).then(i.bind(i,59949))},dialogParams:e})}}])}(h.oi));v.styles=(0,h.iv)(o||(o=(0,n.Z)(["mwc-button{--mdc-button-disabled-ink-color:--mdc-theme-primary}ha-svg-icon[slot=icon]{vertical-align:middle}ha-svg-icon[slot=icon]{margin-inline-start:0px;margin-inline-end:8px;direction:var(--direction)}"]))),(0,d.__decorate)([(0,u.Cb)({attribute:!1})],v.prototype,"hass",void 0),(0,d.__decorate)([(0,u.Cb)({attribute:!1})],v.prototype,"currentItem",void 0),(0,d.__decorate)([(0,u.SB)()],v.prototype,"_uploading",void 0),v=(0,d.__decorate)([(0,u.Mo)("ha-media-manage-button")],v)},20004:function(t,e,i){i.a(t,async function(t,e){try{var a,o,n,r,s,c,l,d,h,u,p,m,v,g,f,_,b,y,w,x,k,Z,z,C,I,L,B,O,H=i(75706),A=i(29694),S=i(42385),V=i(75778),T=i(54982),U=i(54521),M=i(4490),W=i(67063),$=i(20129),R=i(85297),P=i(53389),E=i(83788),j=(i(12212),i(25518),i(39710),i(26847),i(2394),i(69643),i(81738),i(33480),i(94814),i(72489),i(87799),i(54480),i(1455),i(11353),i(67886),i(65451),i(46015),i(38334),i(94880),i(75643),i(29761),i(26086),i(48694),i(44261),i(27530),i(73742)),q=i(13052),D=(i(98334),i(59048)),F=i(7616),N=i(31733),X=i(20480),Q=i(12790),G=i(39884),K=i(87639),Y=i(16230),J=i(80709),tt=i(32941),et=i(83018),it=i(72242),at=i(95814),ot=i(35580),nt=i(42399),rt=i(55228),st=(i(12942),i(41037),i(31138),i(6514)),ct=(i(80471),i(48017),i(993),i(80298)),lt=(i(64881),i(69760),i(65336)),dt=i(54643),ht=t([E,rt,st,ct,lt]);[E,rt,st,ct,lt]=ht.then?(await ht)():ht;var ut="M8,5.14V19.14L19,12.14L8,5.14Z",pt="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",mt=function(t){function e(){var t;(0,U.Z)(this,e);for(var i=arguments.length,h=new Array(i),u=0;u<i;u++)h[u]=arguments[u];return(t=(0,$.Z)(this,e,[].concat(h))).action="play",t.preferredLayout="auto",t.dialog=!1,t.navigateIds=[],t.narrow=!1,t.scrolled=!1,t._observed=!1,t._headerOffsetHeight=0,t._renderGridItem=function(e){var i=e.thumbnail?t._getThumbnailURLorBase64(e.thumbnail).then(function(t){return"url(".concat(t,")")}):"none";return(0,D.dy)(a||(a=(0,T.Z)([' <div class="child" .item="','" @click="','"> <ha-card outlined> <div class="thumbnail"> '," ",' </div> <ha-tooltip distance="-4" .content="','"> <div class="title">',"</div> </ha-tooltip> </ha-card> </div> "])),e,t._childClicked,e.thumbnail?(0,D.dy)(o||(o=(0,T.Z)([' <div class="',' image" style="background-image:','"></div> '])),(0,N.$)({"centered-image":["app","directory"].includes(e.media_class),"brand-image":(0,ot.zC)(e.thumbnail)}),(0,Q.C)(i,"")):(0,D.dy)(n||(n=(0,T.Z)([' <div class="icon-holder image"> <ha-svg-icon class="folder" .path="','"></ha-svg-icon> </div> '])),J.Fn["directory"===e.media_class&&e.children_media_class||e.media_class].icon),e.can_play?(0,D.dy)(r||(r=(0,T.Z)([' <ha-icon-button class="play ','" .item="','" .label="','" .path="','" @click="','"></ha-icon-button> '])),(0,N.$)({can_expand:e.can_expand}),e,t.hass.localize("ui.components.media-browser.".concat(t.action,"-media")),"play"===t.action?ut:pt,t._actionClicked):"",e.title,e.title)},t._renderListItem=function(e){var i=t._currentItem,a=J.Fn[i.media_class],o=a.show_list_images&&e.thumbnail?t._getThumbnailURLorBase64(e.thumbnail).then(function(t){return"url(".concat(t,")")}):"none";return(0,D.dy)(s||(s=(0,T.Z)([' <ha-list-item @click="','" .item="','" .graphic="','"> ',' <span class="title">',"</span> </ha-list-item> "])),t._childClicked,e,a.show_list_images?"medium":"avatar","none"!==o||e.can_play?(0,D.dy)(l||(l=(0,T.Z)(['<div class="','" style="background-image:','" slot="graphic"> '," </div>"])),(0,N.$)({graphic:!0,thumbnail:!0===a.show_list_images}),(0,Q.C)(o,""),e.can_play?(0,D.dy)(d||(d=(0,T.Z)(['<ha-icon-button class="play ','" .item="','" .label="','" .path="','" @click="','"></ha-icon-button>'])),(0,N.$)({show:!a.show_list_images||!e.thumbnail}),e,t.hass.localize("ui.components.media-browser.".concat(t.action,"-media")),"play"===t.action?ut:pt,t._actionClicked):D.Ld):(0,D.dy)(c||(c=(0,T.Z)(['<ha-svg-icon .path="','" slot="graphic"></ha-svg-icon>'])),J.Fn["directory"===e.media_class&&e.children_media_class||e.media_class].icon),e.title)},t._actionClicked=function(e){e.stopPropagation();var i=e.currentTarget.item;t._runAction(i)},t._childClicked=function(){var e=(0,V.Z)((0,A.Z)().m(function e(i){var a,o;return(0,A.Z)().w(function(e){for(;;)switch(e.n){case 0:if(a=i.currentTarget,o=a.item){e.n=1;break}return e.a(2);case 1:if(o.can_expand){e.n=2;break}return t._runAction(o),e.a(2);case 2:(0,G.B)((0,W.Z)(t),"media-browsed",{ids:[].concat((0,S.Z)(t.navigateIds),[o])});case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),t}return(0,R.Z)(e,t),(0,M.Z)(e,[{key:"connectedCallback",value:function(){var t=this;(0,P.Z)(e,"connectedCallback",this,3)([]),this.updateComplete.then(function(){return t._attachResizeObserver()})}},{key:"disconnectedCallback",value:function(){(0,P.Z)(e,"disconnectedCallback",this,3)([]),this._resizeObserver&&this._resizeObserver.disconnect()}},{key:"refresh",value:(rt=(0,V.Z)((0,A.Z)().m(function t(){var e,i;return(0,A.Z)().w(function(t){for(;;)switch(t.n){case 0:return e=this.navigateIds[this.navigateIds.length-1],t.p=1,t.n=2,this._fetchData(this.entityId,e.media_content_id,e.media_content_type);case 2:this._currentItem=t.v,(0,G.B)(this,"media-browsed",{ids:this.navigateIds,current:this._currentItem}),t.n=4;break;case 3:t.p=3,i=t.v,this._setError(i);case 4:return t.a(2)}},t,this,[[1,3]])})),function(){return rt.apply(this,arguments)})},{key:"play",value:function(){var t;null!==(t=this._currentItem)&&void 0!==t&&t.can_play&&this._runAction(this._currentItem)}},{key:"willUpdate",value:function(t){var i,a=this;if((0,P.Z)(e,"willUpdate",this,3)([t]),this.hasUpdated||(0,dt.o)(),t.has("entityId"))this._setError(void 0);else if(!t.has("navigateIds"))return;this._setError(void 0);var o=t.get("navigateIds"),n=this.navigateIds;null===(i=this._content)||void 0===i||i.scrollTo(0,0),this.scrolled=!1;var r=this._currentItem,s=this._parentItem;this._currentItem=void 0,this._parentItem=void 0;var c,l,d=n[n.length-1],h=n.length>1?n[n.length-2]:void 0;t.has("entityId")||(o&&n.length===o.length+1&&o.every(function(t,e){var i=n[e];return i.media_content_id===t.media_content_id&&i.media_content_type===t.media_content_type})?l=Promise.resolve(r):o&&n.length===o.length-1&&n.every(function(t,e){var i=o[e];return t.media_content_id===i.media_content_id&&t.media_content_type===i.media_content_type})&&(c=Promise.resolve(s))),c||(c=this._fetchData(this.entityId,d.media_content_id,d.media_content_type)),c.then(function(t){a._currentItem=t,(0,G.B)(a,"media-browsed",{ids:n,current:t})},function(e){var i;o&&t.has("entityId")&&n.length===o.length&&o.every(function(t,e){return n[e].media_content_id===t.media_content_id&&n[e].media_content_type===t.media_content_type})?(0,G.B)(a,"media-browsed",{ids:[{media_content_id:void 0,media_content_type:void 0}],replace:!0}):"entity_not_found"===e.code&&a.entityId&&(0,Y.rk)(null===(i=a.hass.states[a.entityId])||void 0===i?void 0:i.state)?a._setError({message:a.hass.localize("ui.components.media-browser.media_player_unavailable"),code:"entity_not_found"}):a._setError(e)}),l||void 0===h||(l=this._fetchData(this.entityId,h.media_content_id,h.media_content_type)),l&&l.then(function(t){a._parentItem=t})}},{key:"shouldUpdate",value:function(t){if(t.size>1||!t.has("hass"))return!0;var e=t.get("hass");return void 0===e||e.localize!==this.hass.localize}},{key:"firstUpdated",value:function(){this._measureCard(),this._attachResizeObserver()}},{key:"updated",value:function(t){if((0,P.Z)(e,"updated",this,3)([t]),t.has("_scrolled"))this._animateHeaderHeight();else if(t.has("_currentItem")){var i;if(this._setHeaderHeight(),this._observed)return;var a=null===(i=this._virtualizer)||void 0===i?void 0:i._virtualizer;a&&(this._observed=!0,setTimeout(function(){return a._observeMutations()},0))}}},{key:"render",value:function(){if(this._error)return(0,D.dy)(h||(h=(0,T.Z)([' <div class="container"> <ha-alert alert-type="error"> '," </ha-alert> </div> "])),this._renderError(this._error));if(!this._currentItem)return(0,D.dy)(u||(u=(0,T.Z)(["<ha-spinner></ha-spinner>"])));var t=this._currentItem,e=this.hass.localize("ui.components.media-browser.class.".concat(t.media_class)),i=t.children||[],a=new Set;if(this.accept&&i.length>0){var o,n=[],r=(0,H.Z)(this.accept);try{var s=function(){var t=o.value;if(t.endsWith("/*")){var e=t.slice(0,-1);n.push(function(t){return t.startsWith(e)})}else{if("*"===t)return n=[function(){return!0}],1;n.push(function(e){return e===t})}};for(r.s();!(o=r.n()).done&&!s(););}catch(I){r.e(I)}finally{r.f()}i=i.filter(function(t){var e=t.media_content_type.toLowerCase(),i=t.media_content_type&&n.some(function(t){return t(e)});return i&&a.add(t.media_content_id),!t.media_content_type||t.can_expand||i})}var c=J.Fn[t.media_class],l=t.children_media_class?J.Fn[t.children_media_class]:J.Fn.directory,d=t.thumbnail?this._getThumbnailURLorBase64(t.thumbnail).then(function(t){return"url(".concat(t,")")}):"none";return(0,D.dy)(p||(p=(0,T.Z)([" ",' <div class="content" @scroll="','" @touchmove="','"> '," </div> "])),t.can_play?(0,D.dy)(m||(m=(0,T.Z)([' <div class="header ','" @transitionend="','"> <div class="header-content"> ',' <div class="header-info"> <div class="breadcrumb"> <h1 class="title">',"</h1> "," </div> "," </div> </div> </div> "])),(0,N.$)({"no-img":!t.thumbnail,"no-dialog":!this.dialog}),this._setHeaderHeight,t.thumbnail?(0,D.dy)(v||(v=(0,T.Z)([' <div class="img" style="background-image:','"> '," </div> "])),(0,Q.C)(d,""),this.narrow&&null!=t&&t.can_play&&(!this.accept||a.has(t.media_content_id))?(0,D.dy)(g||(g=(0,T.Z)([' <ha-fab mini .item="','" @click="','"> <ha-svg-icon slot="icon" .label="','" .path="','"></ha-svg-icon> '," </ha-fab> "])),t,this._actionClicked,this.hass.localize("ui.components.media-browser.".concat(this.action,"-media")),"play"===this.action?ut:pt,this.hass.localize("ui.components.media-browser.".concat(this.action))):""):D.Ld,t.title,e?(0,D.dy)(f||(f=(0,T.Z)([' <h2 class="subtitle">',"</h2> "])),e):"",!t.can_play||t.thumbnail&&this.narrow?"":(0,D.dy)(_||(_=(0,T.Z)([' <mwc-button raised .item="','" @click="','"> <ha-svg-icon .label="','" .path="','"></ha-svg-icon> '," </mwc-button> "])),t,this._actionClicked,this.hass.localize("ui.components.media-browser.".concat(this.action,"-media")),"play"===this.action?ut:pt,this.hass.localize("ui.components.media-browser.".concat(this.action)))):"",this._scroll,this._scroll,this._error?(0,D.dy)(b||(b=(0,T.Z)([' <div class="container"> <ha-alert alert-type="error"> '," </ha-alert> </div> "])),this._renderError(this._error)):(0,et.b_)(t.media_content_id)?(0,D.dy)(y||(y=(0,T.Z)([' <ha-browse-media-tts .item="','" .hass="','" .action="','" @tts-picked="','"></ha-browse-media-tts> '])),t,this.hass,this.action,this._ttsPicked):i.length||t.not_shown?"grid"===this.preferredLayout||"auto"===this.preferredLayout&&"grid"===l.layout?(0,D.dy)(k||(k=(0,T.Z)([' <lit-virtualizer scroller .layout="','" .items="','" .renderItem="','" class="children ','"></lit-virtualizer> '," "])),(0,q.e)({itemSize:{width:"175px",height:"portrait"===l.thumbnail_ratio?"312px":"225px"},gap:"16px",flex:{preserve:"aspect-ratio"},justify:"space-evenly",direction:"vertical"}),i,this._renderGridItem,(0,N.$)({portrait:"portrait"===l.thumbnail_ratio,not_shown:!!t.not_shown}),t.not_shown?(0,D.dy)(Z||(Z=(0,T.Z)([' <div class="grid not-shown"> <div class="title"> '," </div> </div> "])),this.hass.localize("ui.components.media-browser.not_shown",{count:t.not_shown})):""):(0,D.dy)(z||(z=(0,T.Z)([' <ha-list> <lit-virtualizer scroller .items="','" style="','" .renderItem="','"></lit-virtualizer> '," </ha-list> "])),i,(0,X.V)({height:"".concat(72*i.length+26,"px")}),this._renderListItem,t.not_shown?(0,D.dy)(C||(C=(0,T.Z)([' <ha-list-item noninteractive class="not-shown" .graphic="','"> <span class="title"> '," </span> </ha-list-item> "])),c.show_list_images?"medium":"avatar",this.hass.localize("ui.components.media-browser.not_shown",{count:t.not_shown})):""):(0,D.dy)(w||(w=(0,T.Z)([' <div class="container no-items"> '," </div> "])),"media-source://media_source/local/."===t.media_content_id?(0,D.dy)(x||(x=(0,T.Z)([' <div class="highlight-add-button"> <span> <ha-svg-icon .path="','"></ha-svg-icon> </span> <span> '," </span> </div> "])),"M21.5 9.5L20.09 10.92L17 7.83V13.5C17 17.09 14.09 20 10.5 20H4V18H10.5C13 18 15 16 15 13.5V7.83L11.91 10.91L10.5 9.5L16 4L21.5 9.5Z",this.hass.localize("ui.components.media-browser.file_management.highlight_button")):this.hass.localize("ui.components.media-browser.no_items")))}},{key:"_getThumbnailURLorBase64",value:(F=(0,V.Z)((0,A.Z)().m(function t(e){var i,a=this;return(0,A.Z)().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}return t.a(2,"");case 1:if(!e.startsWith("/")){t.n=2;break}return t.a(2,new Promise(function(t,i){a.hass.fetchWithAuth(e).then(function(t){return t.blob()}).then(function(e){var a=new FileReader;a.onload=function(){var e=a.result;t("string"==typeof e?e:"")},a.onerror=function(t){return i(t)},a.readAsDataURL(e)})}));case 2:return(0,ot.zC)(e)&&(e=(0,ot.X1)({domain:(0,ot.u4)(e),type:"icon",useFallback:!0,darkOptimized:null===(i=this.hass.themes)||void 0===i?void 0:i.darkMode})),t.a(2,e)}},t,this)})),function(t){return F.apply(this,arguments)})},{key:"_runAction",value:function(t){(0,G.B)(this,"media-picked",{item:t,navigateIds:this.navigateIds})}},{key:"_ttsPicked",value:function(t){t.stopPropagation();var e=this.navigateIds.slice(0,-1);e.push(t.detail.item),(0,G.B)(this,"media-picked",Object.assign(Object.assign({},t.detail),{},{navigateIds:e}))}},{key:"_fetchData",value:(j=(0,V.Z)((0,A.Z)().m(function t(e,i,a){return(0,A.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,e&&e!==J.N8?(0,J.zz)(this.hass,e,i,a):(0,tt.b)(this.hass,i))},t,this)})),function(t,e,i){return j.apply(this,arguments)})},{key:"_measureCard",value:function(){this.narrow=(this.dialog?window.innerWidth:this.offsetWidth)<450}},{key:"_attachResizeObserver",value:(E=(0,V.Z)((0,A.Z)().m(function t(){var e=this;return(0,A.Z)().w(function(t){for(;;)switch(t.n){case 0:this._resizeObserver||(this._resizeObserver=new ResizeObserver((0,K.D)(function(){return e._measureCard()},250,!1))),this._resizeObserver.observe(this);case 1:return t.a(2)}},t,this)})),function(){return E.apply(this,arguments)})},{key:"_closeDialogAction",value:function(){(0,G.B)(this,"close-dialog")}},{key:"_setError",value:function(t){this.dialog?t&&(this._closeDialogAction(),(0,it.showAlertDialog)(this,{title:this.hass.localize("ui.components.media-browser.media_browsing_error"),text:this._renderError(t)})):this._error=t}},{key:"_renderError",value:function(t){return"Media directory does not exist."===t.message?(0,D.dy)(I||(I=(0,T.Z)([" <h2> "," </h2> <p> "," <br> "," <br> "," </p> "])),this.hass.localize("ui.components.media-browser.no_local_media_found"),this.hass.localize("ui.components.media-browser.no_media_folder"),this.hass.localize("ui.components.media-browser.setup_local_help",{documentation:(0,D.dy)(L||(L=(0,T.Z)(['<a href="','" target="_blank" rel="noreferrer">',"</a>"])),(0,nt.R)(this.hass,"/more-info/local-media/setup-media"),this.hass.localize("ui.components.media-browser.documentation"))}),this.hass.localize("ui.components.media-browser.local_media_files")):(0,D.dy)(B||(B=(0,T.Z)(['<span class="error">',"</span>"])),t.message)}},{key:"_setHeaderHeight",value:(i=(0,V.Z)((0,A.Z)().m(function t(){var e,i;return(0,A.Z)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.updateComplete;case 1:if(e=this._header,i=this._content,e&&i){t.n=2;break}return t.a(2);case 2:this._headerOffsetHeight=e.offsetHeight,i.style.marginTop="".concat(this._headerOffsetHeight,"px"),i.style.maxHeight="calc(var(--media-browser-max-height, 100%) - ".concat(this._headerOffsetHeight,"px)");case 3:return t.a(2)}},t,this)})),function(){return i.apply(this,arguments)})},{key:"_animateHeaderHeight",value:function(){var t,e=this,i=function(a){void 0===t&&(t=a);var o=a-t;e._setHeaderHeight(),o<400&&requestAnimationFrame(i)};requestAnimationFrame(i)}},{key:"_scroll",value:function(t){var e=t.currentTarget;!this.scrolled&&e.scrollTop>this._headerOffsetHeight?this.scrolled=!0:this.scrolled&&e.scrollTop<this._headerOffsetHeight&&(this.scrolled=!1)}}],[{key:"styles",get:function(){return[at.Qx,(0,D.iv)(O||(O=(0,T.Z)([":host{display:flex;flex-direction:column;position:relative;direction:ltr}ha-spinner{margin:40px auto}.container{padding:16px}.no-items{padding-left:32px}.highlight-add-button{display:flex;flex-direction:row-reverse;margin-right:48px;margin-inline-end:48px;margin-inline-start:initial;direction:var(--direction)}.highlight-add-button ha-svg-icon{position:relative;top:-.5em;margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;transform:scaleX(var(--scale-direction))}.content{overflow-y:auto;box-sizing:border-box;height:100%}.header{display:flex;justify-content:space-between;border-bottom:1px solid var(--divider-color);background-color:var(--card-background-color);position:absolute;top:0;right:0;left:0;z-index:3;padding:16px}.header_button{position:relative;right:-8px}.header-content{display:flex;flex-wrap:wrap;flex-grow:1;align-items:flex-start}.header-content .img{height:175px;width:175px;margin-right:16px;background-size:cover;border-radius:2px;transition:width .4s,height .4s}.header-info{display:flex;flex-direction:column;justify-content:space-between;align-self:stretch;min-width:0;flex:1}.header-info mwc-button{display:block;--mdc-theme-primary:var(--primary-color);padding-bottom:16px}.breadcrumb{display:flex;flex-direction:column;overflow:hidden;flex-grow:1;padding-top:16px}.breadcrumb .title{font-size:var(--ha-font-size-4xl);line-height:var(--ha-line-height-condensed);font-weight:var(--ha-font-weight-bold);margin:0;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;padding-right:8px}.breadcrumb .previous-title{font-size:var(--ha-font-size-m);padding-bottom:8px;color:var(--secondary-text-color);overflow:hidden;text-overflow:ellipsis;cursor:pointer;--mdc-icon-size:14px}.breadcrumb .subtitle{font-size:var(--ha-font-size-l);overflow:hidden;text-overflow:ellipsis;margin-bottom:0;transition:height .5s,margin .5s}.not-shown{font-style:italic;color:var(--secondary-text-color);padding:8px 16px 8px}.grid.not-shown{display:flex;align-items:center;text-align:center}ha-list{--mdc-list-vertical-padding:0;--mdc-list-item-graphic-margin:0;--mdc-theme-text-icon-on-background:var(--secondary-text-color);margin-top:10px}ha-list li:last-child{display:none}ha-list li[divider]{border-bottom-color:var(--divider-color)}ha-list-item{width:100%}div.children{display:grid;grid-template-columns:repeat(auto-fit,minmax(var(--media-browse-item-size,175px),0.1fr));grid-gap:16px;padding:16px}:host([dialog]) .children{grid-template-columns:repeat(auto-fit,minmax(var(--media-browse-item-size,175px),0.33fr))}.child{display:flex;flex-direction:column;cursor:pointer}ha-card{position:relative;width:100%;box-sizing:border-box}.children ha-card .thumbnail{width:100%;position:relative;box-sizing:border-box;transition:padding-bottom .1s ease-out;padding-bottom:100%}.portrait ha-card .thumbnail{padding-bottom:150%}ha-card .image{border-radius:3px 3px 0 0}.image{position:absolute;top:0;right:0;left:0;bottom:0;background-size:cover;background-repeat:no-repeat;background-position:center}.centered-image{margin:0 8px;background-size:contain}.brand-image{background-size:40%}.children ha-card .icon-holder{display:flex;justify-content:center;align-items:center}.child .folder{color:var(--secondary-text-color);--mdc-icon-size:calc(var(--media-browse-item-size, 175px) * 0.4)}.child .play{position:absolute;transition:color .5s;border-radius:50%;top:calc(50% - 40px);right:calc(50% - 35px);opacity:0;transition:opacity .1s ease-out}.child .play:not(.can_expand){--mdc-icon-button-size:70px;--mdc-icon-size:48px;background-color:var(--primary-color);color:var(--text-primary-color)}ha-card:hover .image{filter:brightness(70%);transition:filter .5s}ha-card:hover .play{opacity:1}ha-card:hover .play.can_expand{bottom:8px}.child .play.can_expand{background-color:rgba(var(--rgb-card-background-color),.5);top:auto;bottom:0px;right:8px;transition:bottom .1s ease-out,opacity .1s ease-out}.child .title{font-size:var(--ha-font-size-l);padding-top:16px;padding-left:2px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;text-overflow:ellipsis}.child ha-card .title{margin-bottom:16px;padding-left:16px}ha-list-item .graphic{background-size:contain;background-repeat:no-repeat;background-position:center;border-radius:2px;display:flex;align-content:center;align-items:center;line-height:initial}ha-list-item .graphic .play{opacity:0;transition:all .5s;background-color:rgba(var(--rgb-card-background-color),.5);border-radius:50%;--mdc-icon-button-size:40px}ha-list-item:hover .graphic .play{opacity:1;color:var(--primary-text-color)}ha-list-item .graphic .play.show{opacity:1;background-color:transparent}ha-list-item .title{margin-left:16px;margin-inline-start:16px;margin-inline-end:initial}:host([narrow]){padding:0}:host([narrow]) .media-source{padding:0 24px}:host([narrow]) div.children{grid-template-columns:minmax(0,1fr) minmax(0,1fr)!important}:host([narrow]) .breadcrumb .title{font-size:var(--ha-font-size-2xl)}:host([narrow]) .header{padding:0}:host([narrow]) .header.no-dialog{display:block}:host([narrow]) .header_button{position:absolute;top:14px;right:8px}:host([narrow]) .header-content{flex-direction:column;flex-wrap:nowrap}:host([narrow]) .header-content .img{height:auto;width:100%;margin-right:0;padding-bottom:50%;margin-bottom:8px;position:relative;background-position:center;border-radius:0;transition:width .4s,height .4s,padding-bottom .4s}ha-fab{position:absolute;--mdc-theme-secondary:var(--primary-color);bottom:-20px;right:20px}:host([narrow]) .header-info mwc-button{margin-top:16px;margin-bottom:8px}:host([narrow]) .header-info{padding:0 16px 8px}:host([scrolled]) .breadcrumb .subtitle{height:0;margin:0}:host([scrolled]) .breadcrumb .title{-webkit-line-clamp:1}:host(:not([narrow])[scrolled]) .header:not(.no-img) ha-icon-button{align-self:center}.no-img .header-info mwc-button,:host([scrolled]) .header-info mwc-button{padding-right:4px}:host([scrolled][narrow]) .no-img .header-info mwc-button{padding-right:16px}:host([scrolled]) .header-info{flex-direction:row}:host([scrolled]) .header-info mwc-button{align-self:center;margin-top:0;margin-bottom:0;padding-bottom:0}:host([scrolled][narrow]) .no-img .header-info{flex-direction:row-reverse}:host([scrolled][narrow]) .header-info{padding:20px 24px 10px 24px;align-items:center}:host([scrolled]) .header-content{align-items:flex-end;flex-direction:row}:host([scrolled]) .header-content .img{height:75px;width:75px}:host([scrolled]) .breadcrumb{padding-top:0;align-self:center}:host([scrolled][narrow]) .header-content .img{height:100px;width:100px;padding-bottom:initial;margin-bottom:0}:host([scrolled]) ha-fab{bottom:0px;right:-24px;--mdc-fab-box-shadow:none;--mdc-theme-secondary:rgba(var(--rgb-primary-color), 0.5)}lit-virtualizer{height:100%;overflow:overlay!important;contain:size layout!important}lit-virtualizer.not_shown{height:calc(100% - 36px)}ha-browse-media-tts{direction:var(--direction)}"])))]}}]);var i,E,j,F,rt}(D.oi);(0,j.__decorate)([(0,F.Cb)({attribute:!1})],mt.prototype,"hass",void 0),(0,j.__decorate)([(0,F.Cb)({attribute:!1})],mt.prototype,"entityId",void 0),(0,j.__decorate)([(0,F.Cb)()],mt.prototype,"action",void 0),(0,j.__decorate)([(0,F.Cb)({attribute:!1})],mt.prototype,"preferredLayout",void 0),(0,j.__decorate)([(0,F.Cb)({type:Boolean})],mt.prototype,"dialog",void 0),(0,j.__decorate)([(0,F.Cb)({attribute:!1})],mt.prototype,"navigateIds",void 0),(0,j.__decorate)([(0,F.Cb)({attribute:!1})],mt.prototype,"accept",void 0),(0,j.__decorate)([(0,F.Cb)({type:Boolean,reflect:!0})],mt.prototype,"narrow",void 0),(0,j.__decorate)([(0,F.Cb)({type:Boolean,reflect:!0})],mt.prototype,"scrolled",void 0),(0,j.__decorate)([(0,F.SB)()],mt.prototype,"_error",void 0),(0,j.__decorate)([(0,F.SB)()],mt.prototype,"_parentItem",void 0),(0,j.__decorate)([(0,F.SB)()],mt.prototype,"_currentItem",void 0),(0,j.__decorate)([(0,F.IO)(".header")],mt.prototype,"_header",void 0),(0,j.__decorate)([(0,F.IO)(".content")],mt.prototype,"_content",void 0),(0,j.__decorate)([(0,F.IO)("lit-virtualizer")],mt.prototype,"_virtualizer",void 0),(0,j.__decorate)([(0,F.hO)({passive:!0})],mt.prototype,"_scroll",null),mt=(0,j.__decorate)([(0,F.Mo)("ha-media-player-browse")],mt),e()}catch(vt){e(vt)}})},31307:function(t,e,i){i.d(e,{AC:function(){return b},AV:function(){return h},De:function(){return v},H9:function(){return m},LI:function(){return d},LV:function(){return g},Mc:function(){return u},QD:function(){return _},VU:function(){return r},_Y:function(){return n},_t:function(){return l},bi:function(){return c},dV:function(){return f},dn:function(){return p},u_:function(){return s}});var a=i(33850),o=(i(87799),["hass"]),n=function(t){var e=t.hass,i=(0,a.Z)(t,o);return e.callApi("POST","cloud/login",i)},r=function(t){return t.callApi("POST","cloud/logout")},s=function(t,e){return t.callApi("POST","cloud/forgot_password",{email:e})},c=function(t,e,i){return t.callApi("POST","cloud/register",{email:e,password:i})},l=function(t,e){return t.callApi("POST","cloud/resend_confirm",{email:e})},d=function(t){return t.callWS({type:"cloud/status"})},h=function(t,e){return t.callWS({type:"cloud/cloudhook/create",webhook_id:e})},u=function(t,e){return t.callWS({type:"cloud/cloudhook/delete",webhook_id:e})},p=function(t){return t.callWS({type:"cloud/remote/connect"})},m=function(t){return t.callWS({type:"cloud/remote/disconnect"})},v=function(t){return t.callWS({type:"cloud/subscription"})},g=function(t,e){return t.callWS(Object.assign({type:"cloud/update_prefs"},e))},f=function(t){return t.callWS({type:"cloud/remove_data"})},_=function(t,e,i){return t.callWS({type:"cloud/google_assistant/entities/update",entity_id:e,disable_2fa:i})},b=function(t){return t.callApi("GET","cloud/support_package")}},16230:function(t,e,i){i.d(e,{ON:function(){return r},PX:function(){return s},V_:function(){return c},lz:function(){return n},nZ:function(){return o},rk:function(){return d}});var a=i(54731),o="unavailable",n="unknown",r="on",s="off",c=[o,n],l=[o,n,s],d=(0,a.z)(c);(0,a.z)(l)},32941:function(t,e,i){i.d(e,{IB:function(){return c},Qr:function(){return d},aV:function(){return s},b:function(){return r},oE:function(){return l},uy:function(){return n}});var a=i(29694),o=i(75778),n=(i(40777),i(44261),function(t,e){return t.callWS({type:"media_source/resolve_media",media_content_id:e})}),r=function(t,e){return t.callWS({type:"media_source/browse_media",media_content_id:e})},s=function(t){return t.startsWith("media-source://media_source")},c=function(t){return t.startsWith("media-source://image_upload")},l=function(){var t=(0,o.Z)((0,a.Z)().m(function t(e,i,o){var n,r;return(0,a.Z)().w(function(t){for(;;)switch(t.n){case 0:return(n=new FormData).append("media_content_id",i),n.append("file",o),t.n=1,e.fetchWithAuth("/api/media_source/local_source/upload",{method:"POST",body:n});case 1:if(413!==(r=t.v).status){t.n=2;break}throw new Error("Uploaded file is too large (".concat(o.name,")"));case 2:if(200===r.status){t.n=3;break}throw new Error("Unknown error");case 3:return t.a(2,r.json())}},t)}));return function(e,i,a){return t.apply(this,arguments)}}(),d=function(){var t=(0,o.Z)((0,a.Z)().m(function t(e,i){return(0,a.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"media_source/local_source/remove",media_content_id:i}))},t)}));return function(e,i){return t.apply(this,arguments)}}()},19331:function(t,e,i){i.d(e,{X:function(){return n},y:function(){return o}});var a=i(54731),o=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],n=(0,a.z)(o)},83788:function(t,e,i){i.a(t,async function(t,e){try{i(26847),i(54480),i(1455),i(48694),i(27530);"function"!=typeof window.ResizeObserver&&(window.ResizeObserver=(await i.e("89931").then(i.bind(i,11860))).default),e()}catch(a){e(a)}},1)},95814:function(t,e,i){i.d(e,{$c:function(){return p},Qx:function(){return h},k1:function(){return d},yu:function(){return u}});var a,o,n,r,s,c=i(54982),l=i(59048),d=(0,l.iv)(a||(a=(0,c.Z)(["button.link{background:0 0;color:inherit;border:none;padding:0;font:inherit;text-align:left;text-decoration:underline;cursor:pointer;outline:0}"]))),h=(0,l.iv)(o||(o=(0,c.Z)([":host{font-family:var(--ha-font-family-body);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-size:var(--ha-font-size-m);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-normal)}app-header div[sticky]{height:48px}app-toolbar [main-title]{margin-left:20px;margin-inline-start:20px;margin-inline-end:initial}h1{font-family:var(--ha-font-family-heading);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-size:var(--ha-font-size-2xl);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-condensed)}h2{font-family:var(--ha-font-family-body);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:var(--ha-font-size-xl);font-weight:var(--ha-font-weight-medium);line-height:var(--ha-line-height-normal)}h3{font-family:var(--ha-font-family-body);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-size:var(--ha-font-size-l);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-normal)}a{color:var(--primary-color)}.secondary{color:var(--secondary-text-color)}.error{color:var(--error-color)}.warning{color:var(--error-color)}ha-button.warning,mwc-button.warning{--mdc-theme-primary:var(--error-color)}"," .card-actions a{text-decoration:none}.card-actions .warning{--mdc-theme-primary:var(--error-color)}.layout.horizontal,.layout.vertical{display:flex}.layout.inline{display:inline-flex}.layout.horizontal{flex-direction:row}.layout.vertical{flex-direction:column}.layout.wrap{flex-wrap:wrap}.layout.no-wrap{flex-wrap:nowrap}.layout.center,.layout.center-center{align-items:center}.layout.bottom{align-items:flex-end}.layout.center-center,.layout.center-justified{justify-content:center}.flex{flex:1;flex-basis:0.000000001px}.flex-auto{flex:1 1 auto}.flex-none{flex:none}.layout.justified{justify-content:space-between}"])),d),u=(0,l.iv)(n||(n=(0,c.Z)(["ha-dialog{--mdc-dialog-min-width:400px;--mdc-dialog-max-width:600px;--mdc-dialog-max-width:min(600px, 95vw);--justify-action-buttons:space-between}ha-dialog .form{color:var(--primary-text-color)}a{color:var(--primary-color)}@media all and (max-width:450px),all and (max-height:500px){ha-dialog{--mdc-dialog-min-width:calc(\n        100vw - var(--safe-area-inset-right) - var(--safe-area-inset-left)\n      );--mdc-dialog-max-width:calc(\n        100vw - var(--safe-area-inset-right) - var(--safe-area-inset-left)\n      );--mdc-dialog-min-height:100%;--mdc-dialog-max-height:100%;--vertical-align-dialog:flex-end;--ha-dialog-border-radius:0}}ha-button.warning,mwc-button.warning{--mdc-theme-primary:var(--error-color)}.error{color:var(--error-color)}"]))),p=(0,l.iv)(r||(r=(0,c.Z)([".ha-scrollbar::-webkit-scrollbar{width:.4rem;height:.4rem}.ha-scrollbar::-webkit-scrollbar-thumb{-webkit-border-radius:4px;border-radius:4px;background:var(--scrollbar-thumb-color)}.ha-scrollbar{overflow-y:auto;scrollbar-color:var(--scrollbar-thumb-color) transparent;scrollbar-width:thin}"])));(0,l.iv)(s||(s=(0,c.Z)(["body{background-color:var(--primary-background-color);color:var(--primary-text-color);height:calc(100vh - 32px);width:100vw}"])))},54643:function(t,e,i){i.d(e,{o:function(){return a}});i(26847),i(1455),i(27530);const a=async()=>{await Promise.all([i.e("59323"),i.e("24858")]).then(i.bind(i,23684))}},35580:function(t,e,i){i.d(e,{RU:function(){return o},X1:function(){return a},u4:function(){return n},zC:function(){return r}});i(44261);const a=t=>`https://brands.home-assistant.io/${t.brand?"brands/":""}${t.useFallback?"_/":""}${t.domain}/${t.darkOptimized?"dark_":""}${t.type}.png`,o=t=>`https://brands.home-assistant.io/hardware/${t.category}/${t.darkOptimized?"dark_":""}${t.manufacturer}${t.model?`_${t.model}`:""}.png`,n=t=>t.split("/")[4],r=t=>t.startsWith("https://brands.home-assistant.io/")},42399:function(t,e,i){i.d(e,{R:function(){return a}});i(12212),i(39710),i(56389);var a=function(t,e){return"https://".concat(t.config.version.includes("b")?"rc":t.config.version.includes("dev")?"next":"www",".home-assistant.io").concat(e)}}}]);
//# sourceMappingURL=22600.467bd911f9a7591d.js.map