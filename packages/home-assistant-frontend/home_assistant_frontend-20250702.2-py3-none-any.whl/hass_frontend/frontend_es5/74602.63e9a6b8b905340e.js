"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["74602"],{55815:function(n,t,e){e.d(t,{Eu:function(){return o},hZ:function(){return c},o9:function(){return u}});e(24819),e(54480);var r=e(28105),a=e(45657),i=["#4269d0","#f4bd4a","#ff725c","#6cc5b0","#a463f2","#ff8ab7","#9c6b4e","#97bbf5","#01ab63","#094bad","#c99000","#d84f3e","#49a28f","#048732","#d96895","#8043ce","#7599d1","#7a4c31","#6989f4","#ffd444","#ff957c","#8fe9d3","#62cc71","#ffadda","#c884ff","#badeff","#bf8b6d","#927acc","#97ee3f","#bf3947","#9f5b00","#f48758","#8caed6","#f2b94f","#eff26e","#e43872","#d9b100","#9d7a00","#698cff","#00d27e","#d06800","#009f82","#c49200","#cbe8ff","#fecddf","#c27eb6","#8cd2ce","#c4b8d9","#f883b0","#a49100","#f48800","#27d0df","#a04a9b"];function o(n){return i[n%i.length]}function c(n,t){var e=t.getPropertyValue("--graph-color-".concat(n+1))||o(n);return(0,a.Rq)(e)}var u=(0,r.Z)(function(n){return i.map(function(t,e){return c(e,n)})},function(n,t){return n[0].getPropertyValue("--graph-color-1")===t[0].getPropertyValue("--graph-color-1")})},34302:function(n,t,e){e.a(n,async function(n,r){try{e.d(t,{Bt:function(){return f},T8:function(){return s}});e(39710),e(87622);var a=e(62229),i=e(3574),o=e(38763),c=n([a]);a=(c.then?(await c)():c)[0];var u=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],f=function(n){return n.first_weekday===o.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(n.language).weekInfo.firstDay%7:(0,i.L)(n.language)%7:u.includes(n.first_weekday)?u.indexOf(n.first_weekday):1},s=function(n){var t=f(n);return u[t]};r()}catch(l){r(l)}})},98921:function(n,t,e){e.d(t,{U:function(){return r}});var r=function(n){return n.stopPropagation()}},7334:function(n,t,e){e.d(t,{T:function(){return a}});e(64455),e(32192);var r=/^(\w+)\.(\w+)$/,a=function(n){return r.test(n)}},73048:function(n,t,e){e.a(n,async function(n,t){try{var r,a,i,o,c=e(54982),u=e(54521),f=e(4490),s=e(20129),l=e(85297),d=e(73742),h=e(59048),p=e(7616),v=e(12790),g=e(6219),b=e(29402),y=(e(46358),e(993),n([b]));b=(y.then?(await y)():y)[0];var _=function(n){function t(){return(0,u.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,l.Z)(t,n),(0,f.Z)(t,[{key:"render",value:function(){var n,t,e=this,o=this.icon||this.stateObj&&(null===(n=this.hass)||void 0===n||null===(n=n.entities[this.stateObj.entity_id])||void 0===n?void 0:n.icon)||(null===(t=this.stateObj)||void 0===t?void 0:t.attributes.icon);if(o)return(0,h.dy)(r||(r=(0,c.Z)(['<ha-icon .icon="','"></ha-icon>'])),o);if(!this.stateObj)return h.Ld;if(!this.hass)return this._renderFallback();var u=(0,b.gD)(this.hass,this.stateObj,this.stateValue).then(function(n){return n?(0,h.dy)(a||(a=(0,c.Z)(['<ha-icon .icon="','"></ha-icon>'])),n):e._renderFallback()});return(0,h.dy)(i||(i=(0,c.Z)(["",""])),(0,v.C)(u))}},{key:"_renderFallback",value:function(){var n=(0,g.N)(this.stateObj);return(0,h.dy)(o||(o=(0,c.Z)([' <ha-svg-icon .path="','"></ha-svg-icon> '])),b.Ls[n]||b.Rb)}}])}(h.oi);(0,d.__decorate)([(0,p.Cb)({attribute:!1})],_.prototype,"hass",void 0),(0,d.__decorate)([(0,p.Cb)({attribute:!1})],_.prototype,"stateObj",void 0),(0,d.__decorate)([(0,p.Cb)({attribute:!1})],_.prototype,"stateValue",void 0),(0,d.__decorate)([(0,p.Cb)()],_.prototype,"icon",void 0),_=(0,d.__decorate)([(0,p.Mo)("ha-state-icon")],_),t()}catch(m){t(m)}})},60673:function(n,t,e){e.d(t,{Cp:function(){return u},TZ:function(){return f},W2:function(){return c},YY:function(){return l},iI:function(){return o},j2:function(){return s},oT:function(){return i}});var r=e(29694),a=e(75778),i=(e(39710),e(24819),e(81738),e(6989),e(21700),e(87799),e(54480),e(1455),e(26086),e(56389),function(n){return n.map(function(n){if("string"!==n.type)return n;switch(n.name){case"username":return Object.assign(Object.assign({},n),{},{autocomplete:"username",autofocus:!0});case"password":return Object.assign(Object.assign({},n),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},n),{},{autocomplete:"one-time-code",autofocus:!0});default:return n}})}),o=function(n,t){return n.callWS({type:"auth/sign_path",path:t})},c=function(){var n=(0,a.Z)((0,r.Z)().m(function n(t,e,a,i){return(0,r.Z)().w(function(n){for(;;)if(0===n.n)return n.a(2,t.callWS({type:"config/auth_provider/homeassistant/create",user_id:e,username:a,password:i}))},n)}));return function(t,e,r,a){return n.apply(this,arguments)}}(),u=function(n,t,e){return n.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:e})},f=function(n,t,e){return n.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:e})},s=function(n,t,e){return n.callWS({type:"config/auth_provider/homeassistant/admin_change_username",user_id:t,username:e})},l=function(n,t,e){return n.callWS({type:"auth/delete_all_refresh_tokens",token_type:t,delete_current_token:e})}},61447:function(n,t,e){e.d(t,{T9:function(){return g},kU:function(){return f},i4:function(){return h},sF:function(){return c},z9:function(){return C},nk:function(){return d},Mw:function(){return _},Ch:function(){return l},Lr:function(){return v},jU:function(){return s},Xn:function(){return y},r:function(){return b},B:function(){return w},ou:function(){return k},zj:function(){return Z},qW:function(){return u}});var r=e(29694),a=e(75778),i=(e(12212),e(87799),e(44261),function(){var n=(0,a.Z)((0,r.Z)().m(function n(t,e,a,i,o){var c,u,f,s,l,d,h=arguments;return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:if((c=i[t])||(c=i[t]={}),!(u=c[o])){n.n=1;break}return n.a(2,u);case 1:for(f=h.length,s=new Array(f>5?f-5:0),l=5;l<f;l++)s[l-5]=h[l];return d=a.apply(void 0,[i,o].concat(s)),c[o]=d,d.then(function(){return setTimeout(function(){c[o]=void 0},e)},function(){c[o]=void 0}),n.a(2,d)}},n)}));return function(t,e,r,a,i){return n.apply(this,arguments)}}()),o=e(60673),c=[1,2,3,4,6,8],u=2,f="hls",s="web_rtc",l=function(n,t,e){return"".concat(n,"&width=").concat(t,"&height=").concat(e)},d=function(n){return"/api/camera_proxy_stream/".concat(n.entity_id,"?token=").concat(n.attributes.access_token)},h=function(){var n=(0,a.Z)((0,r.Z)().m(function n(t,e,a,o){var c;return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,i("_cameraTmbUrl",9e3,p,t,e);case 1:return c=n.v,n.a(2,l(c,a,o))}},n)}));return function(t,e,r,a){return n.apply(this,arguments)}}(),p=function(){var n=(0,a.Z)((0,r.Z)().m(function n(t,e){var a;return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,(0,o.iI)(t,"/api/camera_proxy/".concat(e));case 1:return a=n.v,n.a(2,t.hassUrl(a.path))}},n)}));return function(t,e){return n.apply(this,arguments)}}(),v=function(){var n=(0,a.Z)((0,r.Z)().m(function n(t,e,a){var i,o;return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:return i={type:"camera/stream",entity_id:e},a&&(i.format=a),n.n=1,t.callWS(i);case 1:return(o=n.v).url=t.hassUrl(o.url),n.a(2,o)}},n)}));return function(t,e,r){return n.apply(this,arguments)}}(),g=function(n,t,e,r){return n.connection.subscribeMessage(r,{type:"camera/webrtc/offer",entity_id:t,offer:e})},b=function(n,t,e,r){return n.callWS({type:"camera/webrtc/candidate",entity_id:t,session_id:e,candidate:r})},y=function(n,t){return n.callWS({type:"camera/get_prefs",entity_id:t})},_=function(n,t,e){return n.callWS(Object.assign({type:"camera/update_prefs",entity_id:t},e))},m="media-source://camera/",w=function(n){return n.startsWith(m)},Z=function(n){return n.substring(22)},k=function(){var n=(0,a.Z)((0,r.Z)().m(function n(t,e){return(0,r.Z)().w(function(n){for(;;)if(0===n.n)return n.a(2,t.callWS({type:"camera/capabilities",entity_id:e}))},n)}));return function(t,e){return n.apply(this,arguments)}}(),C=function(){var n=(0,a.Z)((0,r.Z)().m(function n(t,e){return(0,r.Z)().w(function(n){for(;;)if(0===n.n)return n.a(2,t.callWS({type:"camera/webrtc/get_client_config",entity_id:e}))},n)}));return function(t,e){return n.apply(this,arguments)}}()},25151:function(n,t,e){function r(n){return"strategy"in n}e.d(t,{Oh:function(){return i},Q2:function(){return a},Tx:function(){return r},vj:function(){return o}});var a=function(n,t,e){return n.sendMessagePromise({type:"lovelace/config",url_path:t,force:e})},i=function(n,t,e){return n.callWS({type:"lovelace/config/save",url_path:t,config:e})},o=function(n,t){return n.callWS({type:"lovelace/config/delete",url_path:t})}},70695:function(n,t,e){e.d(t,{JR:function(){return a},Y:function(){return i},iM:function(){return o},j2:function(){return r}});e(87799);var r=function(n){return n.callWS({type:"lovelace/dashboards/list"})},a=function(n,t){return n.callWS(Object.assign({type:"lovelace/dashboards/create"},t))},i=function(n,t,e){return n.callWS(Object.assign({type:"lovelace/dashboards/update",dashboard_id:t},e))},o=function(n,t){return n.callWS({type:"lovelace/dashboards/delete",dashboard_id:t})}},5915:function(n,t,e){e.d(t,{$:function(){return l}});var r=e(29694),a=e(75706),i=e(75778),o=(e(25518),e(81738),e(94814),e(54480),e(25151)),c=e(70695),u=e(72242),f=e(46987),s=e(89125),l=function(){var n=(0,i.Z)((0,r.Z)().m(function n(t,e,l,d,h){var p,v,g,b,y,_,m,w,Z,k,C;return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:return e.loadFragmentTranslation("lovelace"),n.n=1,(0,c.j2)(e);case 1:if(g=n.v,b=g.filter(function(n){return"storage"===n.mode}),"storage"===(y=null===(p=e.panels.lovelace)||void 0===p||null===(p=p.config)||void 0===p?void 0:p.mode)||b.length){n.n=2;break}return(0,f.f)(t,{cardConfig:l,entities:h,yaml:!0}),n.a(2);case 2:if(m=null,"storage"!==y){n.n=6;break}return n.p=3,n.n=4,(0,o.Q2)(e.connection,null,!1);case 4:_=n.v,n.n=6;break;case 5:n.p=5,n.v;case 6:if(_||!b.length){n.n=16;break}w=(0,a.Z)(b),n.p=7,w.s();case 8:if((Z=w.n()).done){n.n=13;break}return k=Z.value,n.p=9,n.n=10,(0,o.Q2)(e.connection,k.url_path,!1);case 10:return _=n.v,m=k.url_path,n.a(3,13);case 11:n.p=11,n.v;case 12:n.n=8;break;case 13:n.n=15;break;case 14:n.p=14,C=n.v,w.e(C);case 15:return n.p=15,w.f(),n.f(15);case 16:if(_){n.n=17;break}return g.length>b.length?(0,f.f)(t,{cardConfig:l,sectionConfig:d,entities:h,yaml:!0}):(0,u.showAlertDialog)(t,{text:"You don't seem to be in control of any dashboard, please take control first."}),n.a(2);case 17:if(b.length||null!==(v=_.views)&&void 0!==v&&v.length){n.n=18;break}return(0,u.showAlertDialog)(t,{text:"You don't have any Lovelace views, first create a view in Lovelace."}),n.a(2);case 18:if(b.length||1!==_.views.length){n.n=19;break}return(0,f.f)(t,{cardConfig:l,sectionConfig:d,lovelaceConfig:_,saveConfig:function(){var n=(0,i.Z)((0,r.Z)().m(function n(t){return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:return n.p=0,n.n=1,(0,o.Oh)(e,null,t);case 1:n.n=3;break;case 2:n.p=2,n.v,alert(e.localize("ui.panel.lovelace.add_entities.saving_failed"));case 3:return n.a(2)}},n,null,[[0,2]])}));return function(t){return n.apply(this,arguments)}}(),path:[0],entities:h}),n.a(2);case 19:(0,s.i)(t,{lovelaceConfig:_,urlPath:m,allowDashboardChange:!0,actionLabel:e.localize("ui.common.next"),dashboards:g,viewSelectedCallback:function(n,a,c){var u;(0,f.f)(t,{cardConfig:l,sectionConfig:d,lovelaceConfig:a,saveConfig:(u=(0,i.Z)((0,r.Z)().m(function t(a){return(0,r.Z)().w(function(t){for(;;)switch(t.n){case 0:return t.p=0,t.n=1,(0,o.Oh)(e,n,a);case 1:t.n=3;break;case 2:t.p=2,t.v,alert(e.localize("ui.panel.lovelace.add_entities.saving_failed"));case 3:return t.a(2)}},t,null,[[0,2]])})),function(n){return u.apply(this,arguments)}),path:[c],entities:h})}});case 20:return n.a(2)}},n,null,[[9,11],[7,14,15,16],[3,5]])}));return function(t,e,r,a,i){return n.apply(this,arguments)}}()},46987:function(n,t,e){e.d(t,{f:function(){return i}});e(26847),e(54480),e(1455),e(48694),e(27530);var r=e(39884),a=function(){return Promise.all([e.e("7850"),e.e("75166"),e.e("91789"),e.e("55540"),e.e("15139"),e.e("36636"),e.e("21351"),e.e("57530"),e.e("82663"),e.e("35876"),e.e("881"),e.e("97380"),e.e("68858"),e.e("87267"),e.e("27195"),e.e("61617"),e.e("40100"),e.e("66926"),e.e("70970"),e.e("9158"),e.e("9048"),e.e("6589"),e.e("83659"),e.e("1502"),e.e("9661")]).then(e.bind(e,85734))},i=function(n,t){(0,r.B)(n,"show-dialog",{dialogTag:"hui-dialog-suggest-card",dialogImport:a,dialogParams:t})}},89125:function(n,t,e){e.d(t,{i:function(){return a}});e(26847),e(54480),e(1455),e(48694),e(27530);var r=e(39884),a=function(n,t){(0,r.B)(n,"show-dialog",{dialogTag:"hui-dialog-select-view",dialogImport:function(){return Promise.all([e.e("75696"),e.e("86689"),e.e("7850"),e.e("20278"),e.e("54706")]).then(e.bind(e,74920))},dialogParams:t})}},71876:function(n,t,e){e.d(t,{N:function(){return a},G:function(){return i}});var r=e(59719);const a=(n,t="")=>{const e=document.createElement("a");e.target="_blank",e.href=n,e.download=t,e.style.display="none",document.body.appendChild(e),e.dispatchEvent(new MouseEvent("click")),document.body.removeChild(e)},i=n=>{var t;return!(n=>!!n.auth.external&&r.G)(n)||!(null===(t=n.auth.external)||void 0===t||!t.config.downloadFileSupported)}},59719:function(n,t,e){e.d(t,{G:function(){return r}});e(64455),e(32192);var r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}]);
//# sourceMappingURL=74602.63e9a6b8b905340e.js.map