# ColumnWidget åˆ—å¸ƒå±€ç»„ä»¶

<div style="background: #f0f8ff; border: 1px solid #4a90e2; border-radius: 8px; padding: 20px; margin: 20px 0;">
  <h3 style="color: #2c5282; margin-top: 0;">ğŸ“ åˆ—å¸ƒå±€ç»„ä»¶</h3>
  <table cellpadding="0" cellspacing="0" border="0" style="width: 100%; max-width: 100%; table-layout: fixed; border-collapse: separate; border-spacing: 20px 0; margin: 16px 0; font-family: Arial, sans-serif;">
    <tr>
      <td style="width: 33.33%; vertical-align: top; padding: 0; box-sizing: border-box;">
        <div style="background: #ffffff; border: 1px solid #e1dfdd; border-radius: 4px; padding: 16px;">
          <h4 style="margin: 0 0 8px 0; color: #323130;">åˆ— 1</h4>
          <p style="margin: 0; color: #605e5c; font-size: 14px;">ç¬¬ä¸€åˆ—å†…å®¹å±•ç¤º</p>
        </div>
      </td>
      <td style="width: 33.33%; vertical-align: top; padding: 0; box-sizing: border-box;">
        <div style="background: #ffffff; border: 1px solid #e1dfdd; border-radius: 4px; padding: 16px;">
          <h4 style="margin: 0 0 8px 0; color: #323130;">åˆ— 2</h4>
          <p style="margin: 0; color: #605e5c; font-size: 14px;">ç¬¬äºŒåˆ—å†…å®¹å±•ç¤º</p>
        </div>
      </td>
      <td style="width: 33.33%; vertical-align: top; padding: 0; box-sizing: border-box;">
        <div style="background: #ffffff; border: 1px solid #e1dfdd; border-radius: 4px; padding: 16px;">
          <h4 style="margin: 0 0 8px 0; color: #323130;">åˆ— 3</h4>
          <p style="margin: 0; color: #605e5c; font-size: 14px;">ç¬¬ä¸‰åˆ—å†…å®¹å±•ç¤º</p>
        </div>
      </td>
    </tr>
  </table>
  <div style="display: flex; gap: 10px; margin-top: 15px;">
    <span style="background: #e8f4fd; color: #0078d4; padding: 4px 8px; border-radius: 4px; font-size: 12px;">å¤šåˆ—å¸ƒå±€</span>
    <span style="background: #e8f4fd; color: #0078d4; padding: 4px 8px; border-radius: 4px; font-size: 12px;">è‡ªåŠ¨åˆ—æ•°</span>
    <span style="background: #e8f4fd; color: #0078d4; padding: 4px 8px; border-radius: 4px; font-size: 12px;">é‚®ä»¶å…¼å®¹</span>
  </div>
</div>

ColumnWidgetæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¸ƒå±€ç»„ä»¶ï¼Œç”¨äºåˆ›å»ºå¤šåˆ—å¸ƒå±€ï¼Œå°†å¤šä¸ªWidgetæŒ‰åˆ—æ’åˆ—ã€‚å®ƒæ”¯æŒè‡ªåŠ¨åˆ—æ•°æ¨¡å¼å’Œæ‰‹åŠ¨è®¾ç½®åˆ—æ•°ï¼Œä½¿ç”¨tableå¸ƒå±€ç¡®ä¿åœ¨å„ç§é‚®ä»¶å®¢æˆ·ç«¯ä¸­çš„å…¼å®¹æ€§ã€‚

## ğŸ¯ ä¸»è¦åŠŸèƒ½

### å¸ƒå±€æ¨¡å¼
- **è‡ªåŠ¨åˆ—æ•°**ï¼šæ ¹æ®Widgetæ•°é‡è‡ªåŠ¨è®¡ç®—æœ€ä¼˜åˆ—æ•°
- **æ‰‹åŠ¨åˆ—æ•°**ï¼šæ”¯æŒ1-4åˆ—çš„æ‰‹åŠ¨è®¾ç½®
- **å“åº”å¼è®¾è®¡**ï¼šåœ¨ä¸åŒé‚®ä»¶å®¢æˆ·ç«¯ä¸­ä¿æŒè‰¯å¥½æ˜¾ç¤º
- **é‚®ä»¶å…¼å®¹**ï¼šä½¿ç”¨tableå¸ƒå±€ç¡®ä¿å…¼å®¹æ€§

### è‡ªåŠ¨åˆ—æ•°è§„åˆ™
- **1ä¸ªWidget**ï¼š1åˆ—
- **2ä¸ªWidget**ï¼š2åˆ—
- **3ä¸ªWidget**ï¼š3åˆ—
- **4ä¸ªWidget**ï¼š2åˆ—ï¼ˆ2Ã—2å¸ƒå±€ï¼‰
- **5-6ä¸ªWidget**ï¼š3åˆ—
- **7-8ä¸ªWidget**ï¼š2åˆ—
- **9ä¸ªä»¥ä¸ŠWidget**ï¼š3åˆ—

### Widgetç®¡ç†
- **åŠ¨æ€æ·»åŠ **ï¼šæ”¯æŒå•ä¸ªæˆ–æ‰¹é‡æ·»åŠ Widget
- **åŠ¨æ€ç§»é™¤**ï¼šæ”¯æŒæŒ‰IDæˆ–ç´¢å¼•ç§»é™¤Widget
- **çµæ´»é…ç½®**ï¼šæ”¯æŒè®¾ç½®åˆ—é—´è·å’Œå…¶ä»–æ ·å¼

## ğŸ“‹ æ ¸å¿ƒæ–¹æ³•

### åŸºç¡€ä½¿ç”¨

```python
from email_widget.widgets import ColumnWidget, TextWidget

# åˆ›å»ºåˆ—å¸ƒå±€ç»„ä»¶
column = ColumnWidget()

# åˆ›å»ºå­ç»„ä»¶
widget1 = TextWidget().set_content("ç¬¬ä¸€åˆ—å†…å®¹")
widget2 = TextWidget().set_content("ç¬¬äºŒåˆ—å†…å®¹")
widget3 = TextWidget().set_content("ç¬¬ä¸‰åˆ—å†…å®¹")

# æ·»åŠ Widget
column.add_widgets([widget1, widget2, widget3])
```

### Widgetç®¡ç†æ–¹æ³•

```python
# æ·»åŠ å•ä¸ªWidget
column.add_widget(widget)

# æ·»åŠ å¤šä¸ªWidget
column.add_widgets([widget1, widget2, widget3])

# ç§»é™¤Widgetï¼ˆæŒ‰IDï¼‰
column.remove_widget("widget_id")

# ç§»é™¤Widgetï¼ˆæŒ‰ç´¢å¼•ï¼‰
column.remove_widget_by_index(0)

# æ¸…ç©ºæ‰€æœ‰Widget
column.clear_widgets()

# è·å–Widgetæ•°é‡
count = column.get_widget_count()
```

### å¸ƒå±€é…ç½®

```python
# è®¾ç½®åˆ—æ•°ï¼ˆ1-4åˆ—ï¼Œ-1ä¸ºè‡ªåŠ¨æ¨¡å¼ï¼‰
column.set_columns(2)    # å›ºå®š2åˆ—
column.set_columns(-1)   # è‡ªåŠ¨æ¨¡å¼

# è®¾ç½®åˆ—é—´è·
column.set_gap("20px")

# æ£€æŸ¥æ˜¯å¦ä¸ºè‡ªåŠ¨æ¨¡å¼
is_auto = column.is_auto_mode()

# è·å–å½“å‰åˆ—æ•°
current_cols = column.get_current_columns()
```

## ğŸ’¡ å®ç”¨ç¤ºä¾‹

### è‡ªåŠ¨åˆ—æ•°å¸ƒå±€

```python
from email_widget.widgets import ColumnWidget, CardWidget

# åˆ›å»ºè‡ªåŠ¨åˆ—æ•°å¸ƒå±€
auto_column = ColumnWidget()  # é»˜è®¤è‡ªåŠ¨æ¨¡å¼

# åˆ›å»ºå¤šä¸ªå¡ç‰‡
cards = []
for i in range(6):
    card = CardWidget()
    card.set_title(f"å¡ç‰‡ {i+1}")
    card.set_content(f"è¿™æ˜¯ç¬¬{i+1}ä¸ªå¡ç‰‡çš„å†…å®¹")
    cards.append(card)

# æ·»åŠ åˆ°å¸ƒå±€ä¸­ï¼ˆ6ä¸ªWidgetè‡ªåŠ¨ä½¿ç”¨3åˆ—ï¼‰
auto_column.add_widgets(cards)

# æ¸²æŸ“å¸ƒå±€
html = auto_column.render_html()
```

### å›ºå®šåˆ—æ•°å¸ƒå±€

```python
from email_widget.widgets import ColumnWidget, StatusWidget
from email_widget.core.enums import StatusType

# åˆ›å»ºå›ºå®š2åˆ—å¸ƒå±€
fixed_column = ColumnWidget().set_columns(2)

# åˆ›å»ºçŠ¶æ€ç»„ä»¶
status1 = StatusWidget()
status1.set_title("ç³»ç»ŸçŠ¶æ€")
status1.add_status_item("CPU", "68%", StatusType.WARNING)
status1.add_status_item("å†…å­˜", "4.2GB", StatusType.INFO)

status2 = StatusWidget()
status2.set_title("æœåŠ¡çŠ¶æ€")
status2.add_status_item("WebæœåŠ¡", "è¿è¡Œä¸­", StatusType.SUCCESS)
status2.add_status_item("æ•°æ®åº“", "æ­£å¸¸", StatusType.SUCCESS)

# æ·»åŠ åˆ°2åˆ—å¸ƒå±€
fixed_column.add_widgets([status1, status2])
```

### æ··åˆç»„ä»¶å¸ƒå±€

```python
from email_widget.widgets import (
    ColumnWidget, TextWidget, AlertWidget, 
    ProgressWidget, ImageWidget
)
from email_widget.core.enums import AlertType, ProgressTheme

# åˆ›å»ºæ··åˆç»„ä»¶å¸ƒå±€
mixed_column = ColumnWidget().set_columns(3)

# åˆ›å»ºä¸åŒç±»å‹çš„ç»„ä»¶
text_widget = TextWidget()
text_widget.set_content("æ¬¢è¿ä½¿ç”¨EmailWidgetç»„ä»¶åº“")

alert_widget = AlertWidget()
alert_widget.set_content("è¿™æ˜¯ä¸€ä¸ªæç¤ºä¿¡æ¯")
alert_widget.set_alert_type(AlertType.TIP)

progress_widget = ProgressWidget()
progress_widget.set_progress(75)
progress_widget.set_theme(ProgressTheme.SUCCESS)

# æ·»åŠ åˆ°3åˆ—å¸ƒå±€
mixed_column.add_widgets([text_widget, alert_widget, progress_widget])
```

### å“åº”å¼å¸ƒå±€

```python
# åˆ›å»ºå“åº”å¼å¸ƒå±€å‡½æ•°
def create_responsive_layout(widgets):
    column = ColumnWidget()  # ä½¿ç”¨è‡ªåŠ¨æ¨¡å¼
    
    # æ ¹æ®Widgetæ•°é‡è®¾ç½®é—´è·
    if len(widgets) <= 2:
        column.set_gap("30px")  # å°‘é‡Widgetæ—¶å¢åŠ é—´è·
    elif len(widgets) <= 4:
        column.set_gap("20px")  # ä¸­ç­‰æ•°é‡ä½¿ç”¨é»˜è®¤é—´è·
    else:
        column.set_gap("15px")  # å¤§é‡Widgetæ—¶å‡å°‘é—´è·
    
    column.add_widgets(widgets)
    return column

# ä½¿ç”¨å“åº”å¼å¸ƒå±€
widgets = [widget1, widget2, widget3, widget4]
responsive_layout = create_responsive_layout(widgets)
```

### åŠ¨æ€å¸ƒå±€ç®¡ç†

```python
# åˆ›å»ºåŠ¨æ€å¸ƒå±€ç®¡ç†å™¨
class DynamicLayoutManager:
    def __init__(self):
        self.column = ColumnWidget()
        self.widgets = []
    
    def add_widget(self, widget):
        self.widgets.append(widget)
        self._update_layout()
    
    def remove_widget(self, widget_id):
        self.widgets = [w for w in self.widgets if w.widget_id != widget_id]
        self._update_layout()
    
    def _update_layout(self):
        # æ¸…ç©ºå½“å‰å¸ƒå±€
        self.column.clear_widgets()
        
        # æ ¹æ®Widgetæ•°é‡è°ƒæ•´åˆ—æ•°
        widget_count = len(self.widgets)
        if widget_count <= 2:
            self.column.set_columns(widget_count)
        elif widget_count <= 4:
            self.column.set_columns(2)
        else:
            self.column.set_columns(3)
        
        # é‡æ–°æ·»åŠ Widget
        self.column.add_widgets(self.widgets)
    
    def render(self):
        return self.column.render_html()

# ä½¿ç”¨åŠ¨æ€å¸ƒå±€ç®¡ç†å™¨
layout_manager = DynamicLayoutManager()
layout_manager.add_widget(widget1)
layout_manager.add_widget(widget2)
```

## ğŸ“ è‡ªåŠ¨åˆ—æ•°ç®—æ³•è¯¦è§£

### ç®—æ³•è§„åˆ™

| Widgetæ•°é‡ | è‡ªåŠ¨åˆ—æ•° | å¸ƒå±€è¯´æ˜ |
|-----------|----------|----------|
| 1 | 1åˆ— | å•åˆ—å…¨å®½æ˜¾ç¤º |
| 2 | 2åˆ— | å·¦å³ä¸¤åˆ—å‡åŒ€åˆ†å¸ƒ |
| 3 | 3åˆ— | ä¸‰åˆ—å‡åŒ€åˆ†å¸ƒ |
| 4 | 2åˆ— | 2Ã—2ç½‘æ ¼å¸ƒå±€ |
| 5-6 | 3åˆ— | ä¸‰åˆ—å¸ƒå±€ï¼Œæœ€åä¸€è¡Œå¯èƒ½ä¸æ»¡ |
| 7-8 | 2åˆ— | ä¸¤åˆ—å¸ƒå±€ï¼Œå¤šè¡Œæ˜¾ç¤º |
| 9+ | 3åˆ— | ä¸‰åˆ—å¸ƒå±€ï¼Œå¤šè¡Œæ˜¾ç¤º |

### ç®—æ³•ä¼˜åŠ¿

```python
# è‡ªåŠ¨ç®—æ³•çš„ä¼˜åŠ¿
def demonstrate_auto_algorithm():
    column = ColumnWidget()  # è‡ªåŠ¨æ¨¡å¼
    
    # åŠ¨æ€æ·»åŠ Widgetï¼Œè‡ªåŠ¨è°ƒæ•´åˆ—æ•°
    widgets = []
    for i in range(1, 10):
        widget = TextWidget().set_content(f"Widget {i}")
        widgets.append(widget)
        
        # æ¯æ¬¡æ·»åŠ åæ£€æŸ¥åˆ—æ•°å˜åŒ–
        column.clear_widgets()
        column.add_widgets(widgets[:i])
        print(f"{i}ä¸ªWidget -> {column.get_current_columns()}åˆ—")
```

## ğŸ¨ æœ€ä½³å®è·µ

### 1. é€‰æ‹©åˆé€‚çš„å¸ƒå±€æ¨¡å¼

```python
# å†…å®¹æ•°é‡å›ºå®šæ—¶ä½¿ç”¨æ‰‹åŠ¨æ¨¡å¼
fixed_layout = ColumnWidget().set_columns(2)

# å†…å®¹æ•°é‡åŠ¨æ€å˜åŒ–æ—¶ä½¿ç”¨è‡ªåŠ¨æ¨¡å¼
dynamic_layout = ColumnWidget()  # é»˜è®¤è‡ªåŠ¨æ¨¡å¼
```

### 2. ä¼˜åŒ–åˆ—é—´è·

```python
# æ ¹æ®å†…å®¹ç±»å‹è°ƒæ•´é—´è·
text_layout = ColumnWidget().set_gap("15px")    # æ–‡æœ¬å†…å®¹é—´è·å°
card_layout = ColumnWidget().set_gap("25px")    # å¡ç‰‡å†…å®¹é—´è·å¤§
image_layout = ColumnWidget().set_gap("10px")   # å›¾ç‰‡å†…å®¹é—´è·æ›´å°
```

### 3. ç»„ä»¶ç±»å‹æ­é…

```python
# åŒç±»å‹ç»„ä»¶ç»„åˆ
status_column = ColumnWidget().set_columns(2)
status_widgets = [status1, status2, status3, status4]
status_column.add_widgets(status_widgets)

# æ··åˆç±»å‹ç»„ä»¶ç»„åˆ
mixed_column = ColumnWidget().set_columns(3)
mixed_widgets = [text_widget, alert_widget, progress_widget]
mixed_column.add_widgets(mixed_widgets)
```

### 4. é‚®ä»¶å®¢æˆ·ç«¯å…¼å®¹æ€§

```python
# ç¡®ä¿é‚®ä»¶å®¢æˆ·ç«¯å…¼å®¹æ€§
def create_email_compatible_layout(widgets):
    column = ColumnWidget()
    
    # é™åˆ¶æœ€å¤§åˆ—æ•°ä»¥ç¡®ä¿å…¼å®¹æ€§
    max_columns = min(len(widgets), 3)
    column.set_columns(max_columns)
    
    # è®¾ç½®é€‚ä¸­çš„é—´è·
    column.set_gap("20px")
    
    column.add_widgets(widgets)
    return column
```

### 5. æ€§èƒ½ä¼˜åŒ–

```python
# æ‰¹é‡æ“ä½œä¼˜åŒ–
def optimize_widget_management(column, new_widgets):
    # ä¸€æ¬¡æ€§æ¸…ç©ºå’Œæ·»åŠ ï¼Œé¿å…å¤šæ¬¡é‡æ–°æ¸²æŸ“
    column.clear_widgets()
    column.add_widgets(new_widgets)
    
    # è€Œä¸æ˜¯é€ä¸ªæ·»åŠ 
    # for widget in new_widgets:
    #     column.add_widget(widget)  # æ•ˆç‡è¾ƒä½
```

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•ç¡®å®šæœ€ä½³çš„åˆ—æ•°ï¼Ÿ
A: å»ºè®®ä½¿ç”¨è‡ªåŠ¨æ¨¡å¼ï¼Œç³»ç»Ÿä¼šæ ¹æ®å†…å®¹æ•°é‡è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜åˆ—æ•°ã€‚

### Q: åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå¦‚ä½•æ˜¾ç¤ºï¼Ÿ
A: é‚®ä»¶å®¢æˆ·ç«¯é€šå¸¸ä¼šè‡ªåŠ¨è°ƒæ•´ä¸ºå•åˆ—æ˜¾ç¤ºï¼Œæ— éœ€ç‰¹æ®Šå¤„ç†ã€‚

### Q: å¦‚ä½•å¤„ç†ä¸åŒé«˜åº¦çš„Widgetï¼Ÿ
A: ä½¿ç”¨`vertical-align: top`ç¡®ä¿æ‰€æœ‰Widgeté¡¶éƒ¨å¯¹é½ã€‚

### Q: åˆ—é—´è·è¿‡å¤§æˆ–è¿‡å°æ€ä¹ˆåŠï¼Ÿ
A: ä½¿ç”¨`set_gap()`æ–¹æ³•è°ƒæ•´é—´è·ï¼Œæ¨è15px-25pxä¹‹é—´ã€‚

ColumnWidgetä¸ºæ‚¨æä¾›äº†å¼ºå¤§è€Œçµæ´»çš„å¸ƒå±€è§£å†³æ–¹æ¡ˆï¼Œè®©å¤æ‚çš„å¤šåˆ—å¸ƒå±€å˜å¾—ç®€å•æ˜“ç”¨ï¼ 