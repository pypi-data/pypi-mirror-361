"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["16145"],{97166:function(t,i,e){e.a(t,async function(t,n){try{e.r(i),e.d(i,{STUB_IMAGE:function(){return U}});var o,a,s,r,h,c,f=e(29694),u=e(75778),g=e(54982),d=e(54521),_=e(4490),l=e(20129),m=e(53389),p=e(85297),v=(e(40777),e(39710),e(26847),e(87799),e(54480),e(1455),e(48694),e(27530),e(73742)),y=e(59048),b=e(7616),w=e(25191),k=e(4427),Z=e(44272),x=e(15459),C=(e(31138),e(42236)),E=e(76815),M=e(45063),S=e(88887),z=e(37807),j=e(93647),A=e(12723),G=e(99389),I=t([A]);A=(I.then?(await I)():I)[0];var U="https://demo.home-assistant.io/stub_config/bedroom.png",B=function(t){function i(){return(0,d.Z)(this,i),(0,l.Z)(this,i,arguments)}return(0,p.Z)(i,t),(0,_.Z)(i,[{key:"getCardSize",value:function(){return 3}},{key:"setConfig",value:function(t){if(!t||!t.entity)throw new Error("Entity must be specified");if(!(["camera","image","person"].includes((0,Z.M)(t.entity))||t.image||t.state_image||t.camera_image))throw new Error("No image source configured");this._config=Object.assign({show_name:!0,show_state:!0,tap_action:{action:"more-info"}},t)}},{key:"shouldUpdate",value:function(t){return(0,j.G2)(this,t)}},{key:"updated",value:function(t){if((0,m.Z)(i,"updated",this,3)([t]),this._config&&this.hass){var e=t.get("hass"),n=t.get("_config");e&&n&&e.themes===this.hass.themes&&n.theme===this._config.theme||(0,k.R)(this,this.hass.themes,this._config.theme)}}},{key:"render",value:function(){var t;if(!this._config||!this.hass)return y.Ld;var i=this.hass.states[this._config.entity];if(!i)return(0,y.dy)(o||(o=(0,g.Z)([' <hui-warning .hass="','"> '," </hui-warning> "])),this.hass,(0,G.i)(this.hass,this._config.entity));var e=this._config.name||(0,x.C)(i),n=this.hass.formatEntityState(i),c="";this._config.show_name&&this._config.show_state?c=(0,y.dy)(a||(a=(0,g.Z)([' <div class="footer both"> <div>',"</div> <div>","</div> </div> "])),e,n):this._config.show_name?c=(0,y.dy)(s||(s=(0,g.Z)(['<div class="footer single">',"</div>"])),e):this._config.show_state&&(c=(0,y.dy)(r||(r=(0,g.Z)(['<div class="footer single">',"</div>"])),n));var f=(0,Z.M)(this._config.entity),u=this._config.image;if(!u)switch(f){case"image":u=(0,C.U)(i);break;case"person":i.attributes.entity_picture&&(u=i.attributes.entity_picture)}var d="grid"===this.layout&&"number"==typeof(null===(t=this._config.grid_options)||void 0===t?void 0:t.rows);return(0,y.dy)(h||(h=(0,g.Z)([' <ha-card> <hui-image .hass="','" .image="','" .stateImage="','" .stateFilter="','" .cameraImage="','" .cameraView="','" .entity="','" .aspectRatio="','" .fitMode="','" @action="','" .actionHandler="','" tabindex="','"></hui-image> '," </ha-card> "])),this.hass,u,this._config.state_image,this._config.state_filter,"camera"===f?this._config.entity:this._config.camera_image,this._config.camera_view,this._config.entity,d?void 0:this._config.aspect_ratio,this._config.fit_mode,this._handleAction,(0,E.K)({hasHold:(0,z._)(this._config.hold_action),hasDoubleClick:(0,z._)(this._config.double_tap_action)}),(0,w.o)((0,z._)(this._config.tap_action)||this._config.entity?"0":void 0),c)}},{key:"_handleAction",value:function(t){(0,S.G)(this,this.hass,this._config,t.detail.action)}}],[{key:"getConfigElement",value:(n=(0,u.Z)((0,f.Z)().m(function t(){return(0,f.Z)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.e("7327").then(e.bind(e,54795));case 1:return t.a(2,document.createElement("hui-picture-entity-card-editor"))}},t)})),function(){return n.apply(this,arguments)})},{key:"getStubConfig",value:function(t,i,e){return{type:"picture-entity",entity:(0,M.j)(t,1,i,e,["light","switch"])[0]||"",image:U}}}]);var n}(y.oi);B.styles=(0,y.iv)(c||(c=(0,g.Z)(["ha-card{min-height:75px;overflow:hidden;position:relative;height:100%;box-sizing:border-box}hui-image{cursor:pointer;height:100%}.footer{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:absolute;left:0;right:0;bottom:0;background-color:var(--ha-picture-card-background-color,rgba(0,0,0,.3));padding:16px;font-size:var(--ha-font-size-l);line-height:16px;color:var(--ha-picture-card-text-color,#fff);pointer-events:none}.both{display:flex;justify-content:space-between}.single{text-align:center}"]))),(0,v.__decorate)([(0,b.Cb)({attribute:!1})],B.prototype,"hass",void 0),(0,v.__decorate)([(0,b.Cb)({attribute:!1})],B.prototype,"layout",void 0),(0,v.__decorate)([(0,b.SB)()],B.prototype,"_config",void 0),B=(0,v.__decorate)([(0,b.Mo)("hui-picture-entity-card")],B),n()}catch(H){n(H)}})}}]);
//# sourceMappingURL=16145.0f415d7612508747.js.map