"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["67780"],{45332:function(t,e,o){function n(t){return null==t||Array.isArray(t)?t:[t]}o.d(e,{r:function(){return n}})},54731:function(t,e,o){o.d(e,{z:function(){return n}});o(39710),o(56389);var n=function(t){return function(e,o){return t.includes(e,o)}}},6219:function(t,e,o){o.d(e,{N:function(){return i}});var n=o(44272),i=function(t){return(0,n.M)(t.entity_id)}},36590:function(t,e,o){o.d(e,{e:function(){return n}});var n=function(t,e){return i(t.attributes,e)},i=function(t,e){return 0!==(t.supported_features&e)}},78206:function(t,e,o){o.a(t,async function(t,e){try{var n,i,r,a,s,c,u=o(54982),l=o(54521),h=o(4490),d=o(20129),p=o(85297),_=(o(12212),o(73742)),v=o(59048),g=o(7616),f=(o(72953),o(6514)),m=(o(993),t([f]));f=(m.then?(await m)():m)[0];var y=function(t){function e(){var t;(0,l.Z)(this,e);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=(0,d.Z)(this,e,[].concat(n))).disabled=!1,t.progress=!1,t.raised=!1,t.unelevated=!1,t}return(0,p.Z)(e,t),(0,h.Z)(e,[{key:"render",value:function(){var t=this._result||this.progress;return(0,v.dy)(n||(n=(0,u.Z)([' <ha-button .raised="','" .label="','" .unelevated="','" .disabled="','" class="','"> <slot name="icon" slot="icon"></slot> <slot></slot> </ha-button> '," "])),this.raised,this.label,this.unelevated,this.disabled||this.progress,this._result||"",t?(0,v.dy)(i||(i=(0,u.Z)([' <div class="progress"> '," </div> "])),"success"===this._result?(0,v.dy)(r||(r=(0,u.Z)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),"M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"):"error"===this._result?(0,v.dy)(a||(a=(0,u.Z)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),"M2.2,16.06L3.88,12L2.2,7.94L6.26,6.26L7.94,2.2L12,3.88L16.06,2.2L17.74,6.26L21.8,7.94L20.12,12L21.8,16.06L17.74,17.74L16.06,21.8L12,20.12L7.94,21.8L6.26,17.74L2.2,16.06M13,17V15H11V17H13M13,13V7H11V13H13Z"):this.progress?(0,v.dy)(s||(s=(0,u.Z)(['<ha-spinner size="small"></ha-spinner>']))):v.Ld):v.Ld)}},{key:"actionSuccess",value:function(){this._setResult("success")}},{key:"actionError",value:function(){this._setResult("error")}},{key:"_setResult",value:function(t){var e=this;this._result=t,setTimeout(function(){e._result=void 0},2e3)}}])}(v.oi);y.styles=(0,v.iv)(c||(c=(0,u.Z)([":host{outline:0;display:inline-block;position:relative;pointer-events:none}ha-button{transition:all 1s;pointer-events:initial}ha-button.success{--mdc-theme-primary:white;background-color:var(--success-color);transition:none;border-radius:4px;pointer-events:none}ha-button[raised].success,ha-button[unelevated].success{--mdc-theme-primary:var(--success-color);--mdc-theme-on-primary:white}ha-button.error{--mdc-theme-primary:white;background-color:var(--error-color);transition:none;border-radius:4px;pointer-events:none}ha-button[raised].error,ha-button[unelevated].error{--mdc-theme-primary:var(--error-color);--mdc-theme-on-primary:white}.progress{bottom:4px;position:absolute;text-align:center;top:4px;width:100%}ha-svg-icon{color:#fff}ha-button.error slot,ha-button.success slot{visibility:hidden}:host([destructive]){--mdc-theme-primary:var(--error-color)}"]))),(0,_.__decorate)([(0,g.Cb)()],y.prototype,"label",void 0),(0,_.__decorate)([(0,g.Cb)({type:Boolean})],y.prototype,"disabled",void 0),(0,_.__decorate)([(0,g.Cb)({type:Boolean})],y.prototype,"progress",void 0),(0,_.__decorate)([(0,g.Cb)({type:Boolean})],y.prototype,"raised",void 0),(0,_.__decorate)([(0,g.Cb)({type:Boolean})],y.prototype,"unelevated",void 0),(0,_.__decorate)([(0,g.SB)()],y.prototype,"_result",void 0),y=(0,_.__decorate)([(0,g.Mo)("ha-progress-button")],y),e()}catch(b){e(b)}})},72953:function(t,e,o){var n,i=o(54982),r=o(4490),a=o(54521),s=o(20129),c=o(85297),u=o(73742),l=o(98334),h=o(59048),d=o(7616),p=o(14e3),_=function(t){function e(){return(0,a.Z)(this,e),(0,s.Z)(this,e,arguments)}return(0,c.Z)(e,t),(0,r.Z)(e)}(l.Button);_.styles=[p.W,(0,h.iv)(n||(n=(0,i.Z)(["::slotted([slot=icon]){margin-inline-start:0px;margin-inline-end:8px;direction:var(--direction);display:block}.mdc-button{height:var(--button-height,36px)}.trailing-icon{display:flex}.slot-container{overflow:var(--button-slot-container-overflow,visible)}:host([destructive]){--mdc-theme-primary:var(--error-color)}"])))],_=(0,u.__decorate)([(0,d.Mo)("ha-button")],_)},19331:function(t,e,o){o.d(e,{X:function(){return r},y:function(){return i}});var n=o(54731),i=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],r=(0,n.z)(i)},79704:function(t,e,o){o.a(t,async function(t,n){try{o.r(e);var i,r,a,s,c=o(54982),u=o(29694),l=o(75778),h=o(54521),d=o(4490),p=o(20129),_=o(85297),v=o(42385),g=(o(12212),o(39710),o(87799),o(64455),o(32192),o(73742)),f=o(59048),m=o(7616),y=o(28105),b=o(39884),w=o(97050),k=o(78206),L=(o(87979),o(48017),o(31021)),Z=o(4830),C=o(95814),M=o(42399),x=t([k]);k=(x.then?(await x)():x)[0];var A=(0,y.Z)(function(t,e,o,n){return[{name:"name",required:!0,disabled:e,selector:{text:{}}},{name:"usage",required:!0,type:"select",options:[[Z.eX.BACKUP,t("ui.panel.config.storage.network_mounts.mount_usage.backup")],[Z.eX.MEDIA,t("ui.panel.config.storage.network_mounts.mount_usage.media")],[Z.eX.SHARE,t("ui.panel.config.storage.network_mounts.mount_usage.share")]]},{name:"server",required:!0,selector:{text:{}}},{name:"type",required:!0,type:"select",options:[[Z.mw.CIFS,t("ui.panel.config.storage.network_mounts.mount_type.cifs")],[Z.mw.NFS,t("ui.panel.config.storage.network_mounts.mount_type.nfs")]]}].concat((0,v.Z)("nfs"===o?[{name:"path",required:!0,selector:{text:{}}}]:"cifs"===o?[].concat((0,v.Z)(n?[{name:"version",required:!0,selector:{select:{options:[{label:t("ui.panel.config.storage.network_mounts.cifs_versions.auto"),value:"auto"},{label:t("ui.panel.config.storage.network_mounts.cifs_versions.legacy",{version:"2.0"}),value:"2.0"},{label:t("ui.panel.config.storage.network_mounts.cifs_versions.legacy",{version:"1.0"}),value:"1.0"}],mode:"dropdown"}}}]:[]),[{name:"share",required:!0,selector:{text:{}}},{name:"username",required:!1,selector:{text:{}}},{name:"password",required:!1,selector:{text:{type:"password"}}}]):[]))}),S=function(t){function e(){var t;(0,h.Z)(this,e);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=(0,p.Z)(this,e,[].concat(n)))._computeLabelCallback=function(e){return t.hass.localize("ui.panel.config.storage.network_mounts.options.".concat(e.name,".title"))},t._computeHelperCallback=function(e){return t.hass.localize("ui.panel.config.storage.network_mounts.options.".concat(e.name,".description"))},t._computeErrorCallback=function(e){return t.hass.localize("ui.panel.config.storage.network_mounts.errors.".concat(e))||e},t._computeWarningCallback=function(e){return t.hass.localize("ui.panel.config.storage.network_mounts.warnings.".concat(e))||e},t}return(0,_.Z)(e,t),(0,d.Z)(e,[{key:"showDialog",value:(v=(0,l.Z)((0,u.Z)().m(function t(e){var o;return(0,u.Z)().w(function(t){for(;;)switch(t.n){case 0:this._data=e.mount,this._existing=void 0!==e.mount,this._reloadMounts=e.reloadMounts,"cifs"===(null===(o=e.mount)||void 0===o?void 0:o.type)&&e.mount.version&&"auto"!==e.mount.version&&(this._showCIFSVersion=!0);case 1:return t.a(2)}},t,this)})),function(t){return v.apply(this,arguments)})},{key:"closeDialog",value:function(){this._data=void 0,this._waiting=void 0,this._error=void 0,this._validationError=void 0,this._validationWarning=void 0,this._existing=void 0,this._showCIFSVersion=void 0,this._reloadMounts=void 0,(0,b.B)(this,"dialog-closed",{dialog:this.localName})}},{key:"render",value:function(){var t;return void 0===this._existing?f.Ld:(0,f.dy)(i||(i=(0,c.Z)([' <ha-dialog open scrimClickAction escapeKeyAction .heading="','" @closed="','"> <ha-dialog-header slot="heading"> <ha-icon-button slot="navigationIcon" dialogAction="cancel" .label="','" .path="','"></ha-icon-button> <span slot="title">',' </span> <a slot="actionItems" class="header_button" href="','" title="','" target="_blank" rel="noreferrer" dir="','"> <ha-icon-button .path="','"></ha-icon-button> </a> </ha-dialog-header> ',' <ha-form .data="','" .schema="','" .error="','" .warning="','" .computeLabel="','" .computeHelper="','" .computeError="','" .computeWarning="','" @value-changed="','" dialogInitialFocus></ha-form> ',' <div slot="primaryAction"> <ha-button @click="','" dialogInitialFocus> ',' </ha-button> <ha-progress-button .progress="','" @click="','"> '," </ha-progress-button> </div> </ha-dialog> "])),this._existing?this.hass.localize("ui.panel.config.storage.network_mounts.update_title"):this.hass.localize("ui.panel.config.storage.network_mounts.add_title"),this.closeDialog,this.hass.localize("ui.common.close"),"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",this._existing?this.hass.localize("ui.panel.config.storage.network_mounts.update_title"):this.hass.localize("ui.panel.config.storage.network_mounts.add_title"),(0,M.R)(this.hass,"/common-tasks/os#network-storage"),this.hass.localize("ui.panel.config.storage.network_mounts.documentation"),(0,w.Zu)(this.hass),"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",this._error?(0,f.dy)(r||(r=(0,c.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):f.Ld,this._data,A(this.hass.localize,this._existing,null===(t=this._data)||void 0===t?void 0:t.type,this._showCIFSVersion),this._validationError,this._validationWarning,this._computeLabelCallback,this._computeHelperCallback,this._computeErrorCallback,this._computeWarningCallback,this._valueChanged,this._existing?(0,f.dy)(a||(a=(0,c.Z)(['<ha-button @click="','" destructive slot="secondaryAction"> '," </ha-button>"])),this._deleteMount,this.hass.localize("ui.common.delete")):f.Ld,this.closeDialog,this.hass.localize("ui.common.cancel"),this._waiting,this._connectMount,this._existing?this.hass.localize("ui.panel.config.storage.network_mounts.update"):this.hass.localize("ui.panel.config.storage.network_mounts.connect"))}},{key:"_valueChanged",value:function(t){var e,o,n;this._validationError={},this._validationWarning={},this._data=t.detail.value,null!==(e=this._data)&&void 0!==e&&e.name&&!/^\w+$/.test(this._data.name)&&(this._validationError.name="invalid_name"),"cifs"!==(null===(o=this._data)||void 0===o?void 0:o.type)||this._data.version||(this._data.version="auto"),"cifs"===(null===(n=this._data)||void 0===n?void 0:n.type)&&this._data.version&&["1.0","2.0"].includes(this._data.version)&&(this._validationWarning.version="not_recomeded_cifs_version")}},{key:"_connectMount",value:(n=(0,l.Z)((0,u.Z)().m(function t(e){var o,n,i;return(0,u.Z)().w(function(t){for(;;)switch(t.n){case 0:if(o=e.target,this._error=void 0,this._waiting=!0,"cifs"===(n=Object.assign({},this._data)).type&&"auto"===n.version&&(n.version=void 0),t.p=1,!this._existing){t.n=3;break}return t.n=2,(0,Z.TF)(this.hass,n);case 2:t.n=4;break;case 3:return t.n=4,(0,Z.xM)(this.hass,n);case 4:t.n=6;break;case 5:return t.p=5,i=t.v,this._error=(0,L.js)(i),this._waiting=!1,o.actionError(),"cifs"!==this._data.type||this._showCIFSVersion||(this._showCIFSVersion=!0),t.a(2);case 6:this._reloadMounts&&this._reloadMounts(),this.closeDialog();case 7:return t.a(2)}},t,this,[[1,5]])})),function(t){return n.apply(this,arguments)})},{key:"_deleteMount",value:(o=(0,l.Z)((0,u.Z)().m(function t(){var e;return(0,u.Z)().w(function(t){for(;;)switch(t.n){case 0:return this._error=void 0,this._waiting=!0,t.p=1,t.n=2,(0,Z.ap)(this.hass,this._data.name);case 2:t.n=4;break;case 3:return t.p=3,e=t.v,this._error=(0,L.js)(e),this._waiting=!1,t.a(2);case 4:this._reloadMounts&&this._reloadMounts(),this.closeDialog();case 5:return t.a(2)}},t,this,[[1,3]])})),function(){return o.apply(this,arguments)})}],[{key:"styles",get:function(){return[C.Qx,C.yu,(0,f.iv)(s||(s=(0,c.Z)(["ha-icon-button{color:var(--primary-text-color)}"])))]}}]);var o,n,v}(f.oi);(0,g.__decorate)([(0,m.Cb)({attribute:!1})],S.prototype,"hass",void 0),(0,g.__decorate)([(0,m.SB)()],S.prototype,"_data",void 0),(0,g.__decorate)([(0,m.SB)()],S.prototype,"_waiting",void 0),(0,g.__decorate)([(0,m.SB)()],S.prototype,"_error",void 0),(0,g.__decorate)([(0,m.SB)()],S.prototype,"_validationError",void 0),(0,g.__decorate)([(0,m.SB)()],S.prototype,"_validationWarning",void 0),(0,g.__decorate)([(0,m.SB)()],S.prototype,"_existing",void 0),(0,g.__decorate)([(0,m.SB)()],S.prototype,"_showCIFSVersion",void 0),(0,g.__decorate)([(0,m.SB)()],S.prototype,"_reloadMounts",void 0),S=(0,g.__decorate)([(0,m.Mo)("dialog-mount-view")],S),n()}catch(z){n(z)}})},94047:function(t,e,o){var n=o(87494),i=o(36539),r=o(24894),a=o(4311);t.exports=function(t,e){e&&"string"==typeof t||i(t);var o=a(t);return r(i(void 0!==o?n(o,t):t))}},81315:function(t,e,o){var n=o(77341),i=o(46381),r=o(65085),a=o(87670),s=o(80555),c=o(85016);n({target:"Array",proto:!0},{flatMap:function(t){var e,o=a(this),n=s(o);return r(t),(e=c(o,0)).length=i(e,o,o,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},78152:function(t,e,o){o(84950)("flatMap")},55770:function(t,e,o){var n=o(77341),i=o(87494),r=o(65085),a=o(36539),s=o(24894),c=o(94047),u=o(41878),l=o(64043),h=o(83294),d=o(36582),p=o(41402),_=!h&&!d("flatMap",function(){}),v=!h&&!_&&p("flatMap",TypeError),g=h||_||v,f=u(function(){for(var t,e,o=this.iterator,n=this.mapper;;){if(e=this.inner)try{if(!(t=a(i(e.next,e.iterator))).done)return t.value;this.inner=null}catch(r){l(o,"throw",r)}if(t=a(i(this.next,o)),this.done=!!t.done)return;try{this.inner=c(n(t.value,this.counter++),!1)}catch(r){l(o,"throw",r)}}});n({target:"Iterator",proto:!0,real:!0,forced:g},{flatMap:function(t){a(this);try{r(t)}catch(e){l(this,"throw",e)}return v?i(v,this,t):new f(s(this),{mapper:t,inner:null})}})},79104:function(t,e,o){o.d(e,{XM:function(){return n.XM},Xe:function(){return n.Xe},pX:function(){return n.pX}});var n=o(83522)}}]);
//# sourceMappingURL=67780.95eec6e768b49464.js.map