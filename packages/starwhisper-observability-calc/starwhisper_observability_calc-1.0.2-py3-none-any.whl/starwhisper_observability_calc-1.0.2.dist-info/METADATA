Metadata-Version: 2.1
Name: starwhisper-observability-calc
Version: 1.0.2
Summary: å¤©æ–‡å¯è§‚æµ‹æ€§è®¡ç®—å™¨ - æ”¯æŒæ’æ˜Ÿã€æ·±ç©ºå¤©ä½“å’Œå¤ªé˜³ç³»å¤©ä½“çš„å¯è§‚æµ‹æ€§è®¡ç®—ï¼Œæä¾›MCPå’ŒWebæœåŠ¡
Author-email: Cunshi Wang <wangcunshi@nao.cas.cn>
Maintainer-email: Cunshi Wang <wangcunshi@nao.cas.cn>
License: MIT
Project-URL: Homepage, https://github.com/wangcunshi/StarWhisper-observation-calculator
Project-URL: Repository, https://github.com/wangcunshi/StarWhisper-observation-calculator
Project-URL: Documentation, https://github.com/wangcunshi/StarWhisper-observation-calculator#readme
Project-URL: Issues, https://github.com/wangcunshi/StarWhisper-observation-calculator/issues
Project-URL: Changelog, https://github.com/wangcunshi/StarWhisper-observation-calculator/blob/main/CHANGELOG.md
Project-URL: Download, https://pypi.org/project/starwhisper-observability-calc/
Keywords: astronomy,observability,mcp,model-context-protocol,astropy,simbad,starwhisper,observatory,calculation,uvx,fastmcp
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Science/Research
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering :: Astronomy
Classifier: Topic :: Scientific/Engineering :: Physics
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Environment :: Console
Classifier: Framework :: FastAPI
Classifier: Typing :: Typed
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: astropy >=5.0.0
Requires-Dist: astroquery >=0.4.6
Requires-Dist: astroplan >=0.8.0
Requires-Dist: numpy >=1.20.0
Requires-Dist: typing-extensions >=4.0.0
Provides-Extra: all
Requires-Dist: starwhisper-observability-calc[web] ; extra == 'all'
Requires-Dist: starwhisper-observability-calc[dev] ; extra == 'all'
Provides-Extra: dev
Requires-Dist: pytest >=6.0.0 ; extra == 'dev'
Requires-Dist: pytest-cov >=3.0.0 ; extra == 'dev'
Requires-Dist: black >=22.0.0 ; extra == 'dev'
Requires-Dist: isort >=5.0.0 ; extra == 'dev'
Requires-Dist: flake8 >=4.0.0 ; extra == 'dev'
Requires-Dist: mypy >=0.910 ; extra == 'dev'
Requires-Dist: pre-commit >=2.15.0 ; extra == 'dev'
Requires-Dist: build >=0.10.0 ; extra == 'dev'
Requires-Dist: twine >=4.0.0 ; extra == 'dev'
Provides-Extra: web
Requires-Dist: fastapi >=0.104.0 ; extra == 'web'
Requires-Dist: uvicorn[standard] >=0.24.0 ; extra == 'web'
Requires-Dist: pydantic >=2.0.0 ; extra == 'web'

# StarWhisper Observatory Calculator

[![PyPI version](https://badge.fury.io/py/starwhisper-observation-calculator.svg)](https://badge.fury.io/py/starwhisper-observation-calculator)
[![Python versions](https://img.shields.io/pypi/pyversions/starwhisper-observation-calculator.svg)](https://pypi.org/project/starwhisper-observation-calculator/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

ä¸€ä¸ªç”¨äºè®¡ç®—å¤©æ–‡ç›®æ ‡å¯è§‚æµ‹æ€§çš„PythonåŒ…ï¼Œæ”¯æŒæ’æ˜Ÿã€æ·±ç©ºå¤©ä½“å’Œå¤ªé˜³ç³»å¤©ä½“ã€‚æä¾›MCPï¼ˆModel Context Protocolï¼‰æœåŠ¡æ¥å£ï¼Œå¯ä¸æ”¯æŒMCPçš„AIåŠ©æ‰‹é›†æˆã€‚

## ğŸŒŸ ä¸»è¦ç‰¹æ€§

- ğŸ”­ **å¤šç›®æ ‡æ”¯æŒ**: æ’æ˜Ÿã€æ·±ç©ºå¤©ä½“ã€å¤ªé˜³ç³»å¤©ä½“
- ğŸ“ **çµæ´»è§‚æµ‹ç«™**: æ”¯æŒè‡ªå®šä¹‰è§‚æµ‹ç«™ä½ç½®
- ğŸŒ™ **æœˆè·çº¦æŸ**: è€ƒè™‘æœˆçƒå¹²æ‰°çš„å¯è§‚æµ‹æ€§åˆ†æ
- ğŸ“Š **é«˜åº¦æ›²çº¿**: ç”Ÿæˆ24å°æ—¶é«˜åº¦å˜åŒ–æ›²çº¿
- ğŸŒ **Web API**: æä¾›RESTful APIæ¥å£
- ğŸ¤– **MCPæœåŠ¡**: æ ‡å‡†MCPåè®®ï¼Œæ”¯æŒAIåŠ©æ‰‹é›†æˆ
- ğŸ“± **å‘½ä»¤è¡Œå·¥å…·**: ç®€å•æ˜“ç”¨çš„CLIç•Œé¢

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# åŸºæœ¬å®‰è£…
pip install starwhisper-observation-calculator

# æˆ–ä½¿ç”¨ uv
uv pip install starwhisper-observation-calculator

# å®‰è£…WebæœåŠ¡æ”¯æŒ
pip install starwhisper-observation-calculator[web]

# å®‰è£…å®Œæ•´åŠŸèƒ½
pip install starwhisper-observation-calculator[all]
```

### åŸºæœ¬ä½¿ç”¨

```python
from starwhisper_observation_calculator import ObservabilityCalculator

# åˆ›å»ºè®¡ç®—å™¨ï¼ˆé»˜è®¤å…´éš†è§‚æµ‹ç«™ï¼‰
calculator = ObservabilityCalculator(
    latitude=40.393333,
    longitude=117.575278,
    altitude=900.0
)

# è®¡ç®—Vegaå¯è§‚æµ‹æ€§
result = calculator.calculate_observability("Vega")
print(result)
```

### å‘½ä»¤è¡Œä½¿ç”¨

```bash
# åŸºæœ¬ä½¿ç”¨
observability-calculator Vega

# æŒ‡å®šè§‚æµ‹ç«™
observability-calculator moon --latitude 40.393333 --longitude 117.575278

# è‡ªå®šä¹‰çº¦æŸæ¡ä»¶
observability-calculator M31 --min-altitude 20 --min-moon-separation 45
```

## ğŸ¤– MCPæœåŠ¡

æœ¬åŒ…æä¾›å®Œæ•´çš„MCPæœåŠ¡ï¼Œå¯ä¸æ”¯æŒMCPçš„AIåŠ©æ‰‹ï¼ˆå¦‚Claude Desktopã€Cursorç­‰ï¼‰é›†æˆã€‚

### å¯åŠ¨MCPæœåŠ¡

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ uvxï¼ˆæ¨èï¼Œæ— éœ€å®‰è£…ï¼‰

```bash
# ç›´æ¥è¿è¡ŒMCPæœåŠ¡
uvx starwhisper-observation-calculator

# è¿è¡Œè®¡ç®—å™¨
uvx starwhisper-observation-calculator --calculator Vega

# å¯åŠ¨WebæœåŠ¡
uvx starwhisper-observation-calculator --web --port 8080
```

#### æ–¹æ³•äºŒï¼šæœ¬åœ°å®‰è£…åä½¿ç”¨

```bash
# å¯åŠ¨MCPæœåŠ¡
observability-mcp

# æˆ–ç›´æ¥ä½¿ç”¨pythonæ¨¡å—
python -m starwhisper_observation_calculator.mcp_server
```

### MCPé…ç½®

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ uvxï¼ˆæ¨èï¼‰

```json
{
  "mcpServers": {
    "starwhisper-observation": {
      "command": "uvx",
      "args": ["starwhisper-observation-calculator"],
      "env": {}
    }
  }
}
```

#### æ–¹æ³•äºŒï¼šæœ¬åœ°å®‰è£…åä½¿ç”¨

```json
{
  "mcpServers": {
    "starwhisper-observation": {
      "command": "observability-mcp",
      "args": [],
      "env": {}
    }
  }
}
```

### åœ¨AIåŠ©æ‰‹ä¸­ä½¿ç”¨

å®‰è£…å¹¶é…ç½®MCPæœåŠ¡åï¼Œä½ å¯ä»¥ç›´æ¥ä¸AIåŠ©æ‰‹å¯¹è¯ï¼š

```
ç”¨æˆ·: è¯·è®¡ç®—Vegaåœ¨å…´éš†è§‚æµ‹ç«™çš„å¯è§‚æµ‹æ€§
AIåŠ©æ‰‹: æˆ‘æ¥ä¸ºæ‚¨è®¡ç®—Vegaåœ¨å…´éš†è§‚æµ‹ç«™çš„å¯è§‚æµ‹æ€§...

[è‡ªåŠ¨è°ƒç”¨MCPå·¥å…·: calculate_observability]
å‚æ•°: latitude=40.393333, longitude=117.575278, target_name="Vega"

ç»“æœ: 
ğŸŒŸ Vega å¯è§‚æµ‹æ€§åˆ†ææŠ¥å‘Š

ğŸ“ è§‚æµ‹ç«™: 40.393333Â°, 117.575278Â°, 900.0m
ğŸŒŒ åæ ‡: 18:36:56.3363, +38:47:01.280  
ğŸ“Š å½“å‰é«˜åº¦: 45.23Â°
âœ… å¯è§‚æµ‹æ€§: å¯è§‚æµ‹
ğŸ¯ çº¦æŸæ¡ä»¶: é«˜åº¦âœ… æœˆè·âœ…
```

## ğŸŒ WebæœåŠ¡

### å¯åŠ¨WebæœåŠ¡

```bash
# å¯åŠ¨WebæœåŠ¡
observability-web

# æˆ–æŒ‡å®šç«¯å£
observability-web --port 8080
```

### APIæ¥å£

- `GET /` - Webç•Œé¢
- `GET /docs` - APIæ–‡æ¡£
- `POST /observability` - è®¡ç®—å¯è§‚æµ‹æ€§
- `POST /observability/batch` - æ‰¹é‡è®¡ç®—
- `GET /targets/supported` - è·å–æ”¯æŒçš„ç›®æ ‡
- `GET /observatories` - è·å–é¢„è®¾è§‚æµ‹ç«™

### ä½¿ç”¨ç¤ºä¾‹

```bash
# è®¡ç®—Vegaå¯è§‚æµ‹æ€§
curl -X POST "http://localhost:8000/observability" \
  -H "Content-Type: application/json" \
  -d '{
    "latitude": 40.393333,
    "longitude": 117.575278,
    "target_name": "Vega"
  }'
```

## ğŸ“Š æ”¯æŒçš„ç›®æ ‡

### å¤ªé˜³ç³»å¤©ä½“
- sun, moon, mercury, venus, mars, jupiter, saturn, uranus, neptune, pluto

### æ’æ˜Ÿ
- Vega, Sirius, Polaris, Rigel, Betelgeuse, Altair, Deneb, Arcturus, Spica, Antares

### æ·±ç©ºå¤©ä½“
- M31, M42, M13, M57, M27, M51, M104, M87

## ğŸ“ é¢„è®¾è§‚æµ‹ç«™

- **å…´éš†è§‚æµ‹ç«™**: 40.393333Â°, 117.575278Â°, 900m
- **æ–°æ˜Œè§‚æµ‹ç«™**: 29.501784Â°, 120.905740Â°, 0m
- **å¸•æ´›é©¬å¤©æ–‡å°**: 33.3563Â°, -116.8650Â°, 1712m

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰è§‚æµ‹ç«™

```python
from starwhisper_observation_calculator import ObservabilityCalculator

calculator = ObservabilityCalculator(
    latitude=your_latitude,
    longitude=your_longitude,
    altitude=your_altitude,
    timezone="Asia/Shanghai"
)
```

### çº¦æŸæ¡ä»¶

```python
result = calculator.calculate_observability(
    target_name="Vega",
    min_altitude=20.0,        # æœ€å°åœ°å¹³é«˜åº¦
    min_moon_separation=45.0, # æœ€å°æœˆè·
    time_range_hours=48       # æ£€æŸ¥æ—¶é—´èŒƒå›´
)
```

## ğŸ› ï¸ å¼€å‘

### å®‰è£…å¼€å‘ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/wangcunshi/StarWhisper-observation-calculator.git
cd StarWhisper-observation-calculator

# å®‰è£…å¼€å‘ä¾èµ–
pip install -e .[dev]

# æˆ–ä½¿ç”¨ uv
uv pip install -e .[dev]
```

### è¿è¡Œæµ‹è¯•

```bash
# æµ‹è¯•æ ¸å¿ƒåŠŸèƒ½
python -c "from starwhisper_observation_calculator import ObservabilityCalculator; print('âœ… å¯¼å…¥æˆåŠŸ')"

# æµ‹è¯•MCPæœåŠ¡
observability-mcp

# æµ‹è¯•WebæœåŠ¡
observability-web
```

### ä»£ç æ ¼å¼åŒ–

```bash
# æ ¼å¼åŒ–ä»£ç 
black src tests
isort src tests

# ç±»å‹æ£€æŸ¥
mypy src
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

## ğŸ“ æ”¯æŒ

- ğŸ“§ é‚®ç®±: wangcunshi@nao.cas.cn
- ğŸ› Issues: [GitHub Issues](https://github.com/wangcunshi/StarWhisper-observation-calculator/issues)
- ğŸ“– æ–‡æ¡£: [GitHub README](https://github.com/wangcunshi/StarWhisper-observation-calculator#readme)

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0
- ğŸ‰ é¦–æ¬¡å‘å¸ƒ
- âœ¨ æ”¯æŒæ’æ˜Ÿã€æ·±ç©ºå¤©ä½“å’Œå¤ªé˜³ç³»å¤©ä½“
- ğŸ¤– MCPæœåŠ¡æ”¯æŒ
- ğŸŒ Web APIæ¥å£
- ğŸ“± å‘½ä»¤è¡Œå·¥å…·
- ğŸ“Š é«˜åº¦æ›²çº¿ç”Ÿæˆ
- ğŸŒ™ æœˆè·çº¦æŸæ£€æŸ¥

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª Starï¼ 
