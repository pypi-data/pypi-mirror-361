"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["44780"],{54731:function(e,t,i){i.d(t,{z:function(){return n}});i(39710),i(56389);var n=function(e){return function(t,i){return e.includes(t,i)}}},6219:function(e,t,i){i.d(t,{N:function(){return r}});var n=i(44272),r=function(e){return(0,n.M)(e.entity_id)}},51574:function(e,t,i){i.d(t,{U:function(){return n},W:function(){return r}});const n=(e,t)=>{const i=t.entities[e.entity_id];return i?r(i,t):{entity:null,device:null,area:null,floor:null}},r=(e,t)=>{const i=t.entities[e.entity_id],n=null==e?void 0:e.device_id,r=n?t.devices[n]:void 0,a=(null==e?void 0:e.area_id)||(null==r?void 0:r.area_id),s=a?t.areas[a]:void 0,o=null==s?void 0:s.floor_id;return{entity:i,device:r||null,area:s||null,floor:(o?t.floors[o]:void 0)||null}}},36590:function(e,t,i){i.d(t,{e:function(){return n}});var n=function(e,t){return r(e.attributes,t)},r=function(e,t){return 0!==(e.supported_features&t)}},7334:function(e,t,i){i.d(t,{T:function(){return r}});i(64455),i(32192);var n=/^(\w+)\.(\w+)$/,r=function(e){return n.test(e)}},28598:function(e,t,i){i.a(e,async function(e,n){try{i.d(t,{SL:function(){return c},l4:function(){return d},sJ:function(){return u},uf:function(){return l}});var r=i(62229),a=(i(12212),i(39710),i(87622),i(96821),i(35385),i(99233),i(87799),i(54480),i(56303),i(56389),i(38763)),s=i(98249),o=e([r]);r=(o.then?(await o)():o)[0];var c=function(e){return u(e.attributes)},u=function(e,t){return!!e.unit_of_measurement||!!e.state_class||(t||[]).includes(e.device_class||"")},l=function(e,t,i){var n=t?function(e){switch(e.number_format){case a.y4.comma_decimal:return["en-US","en"];case a.y4.decimal_comma:return["de","es","it"];case a.y4.space_comma:return["fr","sv","cs"];case a.y4.system:return;default:return e.language}}(t):void 0;return Number.isNaN=Number.isNaN||function e(t){return"number"==typeof t&&e(t)},(null==t?void 0:t.number_format)===a.y4.none||Number.isNaN(Number(e))?Number.isNaN(Number(e))||""===e||(null==t?void 0:t.number_format)!==a.y4.none?"string"==typeof e?e:"".concat((0,s.N)(e,null==i?void 0:i.maximumFractionDigits).toString()).concat("currency"===(null==i?void 0:i.style)?" ".concat(i.currency):""):new Intl.NumberFormat("en-US",h(e,Object.assign(Object.assign({},i),{},{useGrouping:!1}))).format(Number(e)):new Intl.NumberFormat(n,h(e,i)).format(Number(e))},d=function(e,t){var i,n=null==t?void 0:t.display_precision;return null!=n?{maximumFractionDigits:n,minimumFractionDigits:n}:Number.isInteger(Number(null==e||null===(i=e.attributes)||void 0===i?void 0:i.step))&&Number.isInteger(Number(null==e?void 0:e.state))?{maximumFractionDigits:0}:void 0},h=function(e,t){var i=Object.assign({maximumFractionDigits:2},t);if("string"!=typeof e)return i;if(!t||void 0===t.minimumFractionDigits&&void 0===t.maximumFractionDigits){var n=e.indexOf(".")>-1?e.split(".")[1].length:0;i.minimumFractionDigits=n,i.maximumFractionDigits=n}return i};n()}catch(p){n(p)}})},98249:function(e,t,i){i.d(t,{N:function(){return n}});var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}},54720:function(e,t,i){i.a(e,async function(e,t){try{var n,r,a,s,o=i(29694),c=i(75778),u=i(54982),l=i(42385),d=i(54521),h=i(4490),p=i(20129),f=i(85297),_=(i(12212),i(25518),i(39710),i(24819),i(81738),i(94814),i(6989),i(54480),i(56389),i(73742)),m=i(59048),v=i(7616),g=i(28105),y=i(39884),b=i(7334),w=i(55228),k=e([w]);w=(k.then?(await k)():k)[0];var x=function(e){function t(){var e;(0,d.Z)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=(0,p.Z)(this,t,[].concat(n))).disabled=!1,e.required=!1,e._excludeEntities=(0,g.Z)(function(e,t){return void 0===e?t:[].concat((0,l.Z)(t||[]),(0,l.Z)(e))}),e}return(0,f.Z)(t,e),(0,h.Z)(t,[{key:"render",value:function(){var e=this;if(!this.hass)return m.Ld;var t=this._currentEntities;return(0,m.dy)(n||(n=(0,u.Z)([" "," ",' <div> <ha-entity-picker allow-custom-entity .hass="','" .includeDomains="','" .excludeDomains="','" .includeEntities="','" .excludeEntities="','" .includeDeviceClasses="','" .includeUnitOfMeasurement="','" .entityFilter="','" .placeholder="','" .helper="','" .disabled="','" .createDomains="','" .required="','" @value-changed="','"></ha-entity-picker> </div> '])),this.label?(0,m.dy)(r||(r=(0,u.Z)(["<label>","</label>"])),this.label):m.Ld,t.map(function(t){return(0,m.dy)(a||(a=(0,u.Z)([' <div> <ha-entity-picker allow-custom-entity .curValue="','" .hass="','" .includeDomains="','" .excludeDomains="','" .includeEntities="','" .excludeEntities="','" .includeDeviceClasses="','" .includeUnitOfMeasurement="','" .entityFilter="','" .value="','" .disabled="','" .createDomains="','" @value-changed="','"></ha-entity-picker> </div> '])),t,e.hass,e.includeDomains,e.excludeDomains,e.includeEntities,e.excludeEntities,e.includeDeviceClasses,e.includeUnitOfMeasurement,e.entityFilter,t,e.disabled,e.createDomains,e._entityChanged)}),this.hass,this.includeDomains,this.excludeDomains,this.includeEntities,this._excludeEntities(this.value,this.excludeEntities),this.includeDeviceClasses,this.includeUnitOfMeasurement,this.entityFilter,this.placeholder,this.helper,this.disabled,this.createDomains,this.required&&!t.length,this._addEntity)}},{key:"_currentEntities",get:function(){return this.value||[]}},{key:"_updateEntities",value:(s=(0,c.Z)((0,o.Z)().m(function e(t){return(0,o.Z)().w(function(e){for(;;)switch(e.n){case 0:this.value=t,(0,y.B)(this,"value-changed",{value:t});case 1:return e.a(2)}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"_entityChanged",value:function(e){e.stopPropagation();var t=e.currentTarget.curValue,i=e.detail.value;if(i!==t&&(void 0===i||(0,b.T)(i))){var n=this._currentEntities;i&&!n.includes(i)?this._updateEntities(n.map(function(e){return e===t?i:e})):this._updateEntities(n.filter(function(e){return e!==t}))}}},{key:"_addEntity",value:(i=(0,c.Z)((0,o.Z)().m(function e(t){var i,n;return(0,o.Z)().w(function(e){for(;;)switch(e.n){case 0:if(t.stopPropagation(),i=t.detail.value){e.n=1;break}return e.a(2);case 1:if(t.currentTarget.value="",i){e.n=2;break}return e.a(2);case 2:if(!(n=this._currentEntities).includes(i)){e.n=3;break}return e.a(2);case 3:this._updateEntities([].concat((0,l.Z)(n),[i]));case 4:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})}]);var i,s}(m.oi);x.styles=(0,m.iv)(s||(s=(0,u.Z)(["div{margin-top:8px}label{display:block;margin:0 0 8px}"]))),(0,_.__decorate)([(0,v.Cb)({attribute:!1})],x.prototype,"hass",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array})],x.prototype,"value",void 0),(0,_.__decorate)([(0,v.Cb)({type:Boolean})],x.prototype,"disabled",void 0),(0,_.__decorate)([(0,v.Cb)({type:Boolean})],x.prototype,"required",void 0),(0,_.__decorate)([(0,v.Cb)()],x.prototype,"label",void 0),(0,_.__decorate)([(0,v.Cb)()],x.prototype,"placeholder",void 0),(0,_.__decorate)([(0,v.Cb)()],x.prototype,"helper",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array,attribute:"include-domains"})],x.prototype,"includeDomains",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array,attribute:"exclude-domains"})],x.prototype,"excludeDomains",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array,attribute:"include-device-classes"})],x.prototype,"includeDeviceClasses",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array,attribute:"include-unit-of-measurement"})],x.prototype,"includeUnitOfMeasurement",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array,attribute:"include-entities"})],x.prototype,"includeEntities",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array,attribute:"exclude-entities"})],x.prototype,"excludeEntities",void 0),(0,_.__decorate)([(0,v.Cb)({attribute:!1})],x.prototype,"entityFilter",void 0),(0,_.__decorate)([(0,v.Cb)({attribute:!1,type:Array})],x.prototype,"createDomains",void 0),x=(0,_.__decorate)([(0,v.Mo)("ha-entities-picker")],x),t()}catch(Z){t(Z)}})},83378:function(e,t,i){i.d(t,{i:function(){return p}});i(26847),i(27530),i(44776);var n=i(73742),r=i(24004),a=i(75907),s=i(59048),o=i(7616);i(12066),i(48017);let c,u,l,d=e=>e;const h=["button","ha-list-item"],p=(e,t)=>{var i;return(0,s.dy)(c||(c=d` <div class="header_title"> <ha-icon-button .label="${0}" .path="${0}" dialogAction="close" class="header_button"></ha-icon-button> <span>${0}</span> </div> `),null!==(i=null==e?void 0:e.localize("ui.common.close"))&&void 0!==i?i:"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",t)};class f extends r.M{scrollToPos(e,t){var i;null===(i=this.contentElement)||void 0===i||i.scrollTo(e,t)}renderHeading(){return(0,s.dy)(u||(u=d`<slot name="heading"> ${0} </slot>`),super.renderHeading())}firstUpdated(){var e;super.firstUpdated(),this.suppressDefaultPressSelector=[this.suppressDefaultPressSelector,h].join(", "),this._updateScrolledAttribute(),null===(e=this.contentElement)||void 0===e||e.addEventListener("scroll",this._onScroll,{passive:!0})}disconnectedCallback(){super.disconnectedCallback(),this.contentElement.removeEventListener("scroll",this._onScroll)}_updateScrolledAttribute(){this.contentElement&&this.toggleAttribute("scrolled",0!==this.contentElement.scrollTop)}constructor(...e){super(...e),this._onScroll=()=>{this._updateScrolledAttribute()}}}f.styles=[a.W,(0,s.iv)(l||(l=d`:host([scrolled]) ::slotted(ha-dialog-header){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.mdc-dialog{--mdc-dialog-scroll-divider-color:var(
          --dialog-scroll-divider-color,
          var(--divider-color)
        );z-index:var(--dialog-z-index,8);-webkit-backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));--mdc-dialog-box-shadow:var(--dialog-box-shadow, none);--mdc-typography-headline6-font-weight:var(--ha-font-weight-normal);--mdc-typography-headline6-font-size:1.574rem}.mdc-dialog__actions{justify-content:var(--justify-action-buttons,flex-end);padding:12px 24px max(var(--safe-area-inset-bottom),12px) 24px}.mdc-dialog__actions span:first-child{flex:var(--secondary-action-button-flex,unset)}.mdc-dialog__actions span:nth-child(2){flex:var(--primary-action-button-flex,unset)}.mdc-dialog__container{align-items:var(--vertical-align-dialog,center)}.mdc-dialog__title{padding:24px 24px 0 24px}.mdc-dialog__title:has(span){padding:12px 12px 0}.mdc-dialog__title::before{content:unset}.mdc-dialog .mdc-dialog__content{position:var(--dialog-content-position,relative);padding:var(--dialog-content-padding,24px)}:host([hideactions]) .mdc-dialog .mdc-dialog__content{padding-bottom:max(var(--dialog-content-padding,24px),var(--safe-area-inset-bottom))}.mdc-dialog .mdc-dialog__surface{position:var(--dialog-surface-position,relative);top:var(--dialog-surface-top);margin-top:var(--dialog-surface-margin-top);min-height:var(--mdc-dialog-min-height,auto);border-radius:var(--ha-dialog-border-radius,28px);-webkit-backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);background:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff))}:host([flexContent]) .mdc-dialog .mdc-dialog__content{display:flex;flex-direction:column}.header_title{display:flex;align-items:center;direction:var(--direction)}.header_title span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;padding-left:4px}.header_button{text-decoration:none;color:inherit;inset-inline-start:initial;inset-inline-end:-12px;direction:var(--direction)}.dialog-actions{inset-inline-start:initial!important;inset-inline-end:0px!important;direction:var(--direction)}`))],f=(0,n.__decorate)([(0,o.Mo)("ha-dialog")],f)},55245:function(e,t,i){i(26847),i(27530);var n=i(73742),r=i(59048),a=i(7616);let s,o,c=e=>e;class u extends r.oi{render(){return(0,r.dy)(s||(s=c` <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="${0}" ?three-line="${0}"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> `),!this.threeLine,this.threeLine)}constructor(...e){super(...e),this.narrow=!1,this.slim=!1,this.threeLine=!1,this.wrapHeading=!1}}u.styles=(0,r.iv)(o||(o=c`:host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16px;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display,flex);flex-direction:var(--layout-vertical_-_flex-direction,column);justify-content:var(--layout-center-justified_-_justify-content,center);flex:var(--layout-flex_-_flex,1);flex-basis:var(--layout-flex_-_flex-basis,0.000000001px)}.body[three-line]{min-height:88px}:host(:not([wrap-heading])) body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(
        --mdc-typography-body2-font-family,
        var(--mdc-typography-font-family, var(--ha-font-family-body))
      );font-size:var(--mdc-typography-body2-font-size, var(--ha-font-size-s));-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-weight:var(--mdc-typography-body2-font-weight,var(--ha-font-weight-normal));line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(72px - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;min-width:0;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}:host([slim]),:host([slim]) .content,:host([slim]) ::slotted(ha-switch){padding:0}:host([slim]) .body{min-height:0}`)),(0,n.__decorate)([(0,a.Cb)({type:Boolean,reflect:!0})],u.prototype,"narrow",void 0),(0,n.__decorate)([(0,a.Cb)({type:Boolean,reflect:!0})],u.prototype,"slim",void 0),(0,n.__decorate)([(0,a.Cb)({type:Boolean,attribute:"three-line"})],u.prototype,"threeLine",void 0),(0,n.__decorate)([(0,a.Cb)({type:Boolean,attribute:"wrap-heading",reflect:!0})],u.prototype,"wrapHeading",void 0),u=(0,n.__decorate)([(0,a.Mo)("ha-settings-row")],u)},73048:function(e,t,i){i.a(e,async function(e,t){try{var n,r,a,s,o=i(54982),c=i(54521),u=i(4490),l=i(20129),d=i(85297),h=i(73742),p=i(59048),f=i(7616),_=i(12790),m=i(6219),v=i(29402),g=(i(46358),i(993),e([v]));v=(g.then?(await g)():g)[0];var y=function(e){function t(){return(0,c.Z)(this,t),(0,l.Z)(this,t,arguments)}return(0,d.Z)(t,e),(0,u.Z)(t,[{key:"render",value:function(){var e,t,i=this,s=this.icon||this.stateObj&&(null===(e=this.hass)||void 0===e||null===(e=e.entities[this.stateObj.entity_id])||void 0===e?void 0:e.icon)||(null===(t=this.stateObj)||void 0===t?void 0:t.attributes.icon);if(s)return(0,p.dy)(n||(n=(0,o.Z)(['<ha-icon .icon="','"></ha-icon>'])),s);if(!this.stateObj)return p.Ld;if(!this.hass)return this._renderFallback();var c=(0,v.gD)(this.hass,this.stateObj,this.stateValue).then(function(e){return e?(0,p.dy)(r||(r=(0,o.Z)(['<ha-icon .icon="','"></ha-icon>'])),e):i._renderFallback()});return(0,p.dy)(a||(a=(0,o.Z)(["",""])),(0,_.C)(c))}},{key:"_renderFallback",value:function(){var e=(0,m.N)(this.stateObj);return(0,p.dy)(s||(s=(0,o.Z)([' <ha-svg-icon .path="','"></ha-svg-icon> '])),v.Ls[e]||v.Rb)}}])}(p.oi);(0,h.__decorate)([(0,f.Cb)({attribute:!1})],y.prototype,"hass",void 0),(0,h.__decorate)([(0,f.Cb)({attribute:!1})],y.prototype,"stateObj",void 0),(0,h.__decorate)([(0,f.Cb)({attribute:!1})],y.prototype,"stateValue",void 0),(0,h.__decorate)([(0,f.Cb)()],y.prototype,"icon",void 0),y=(0,h.__decorate)([(0,f.Mo)("ha-state-icon")],y),t()}catch(b){t(b)}})},60673:function(e,t,i){i.d(t,{Cp:function(){return c},TZ:function(){return u},W2:function(){return o},YY:function(){return d},iI:function(){return s},j2:function(){return l},oT:function(){return a}});var n=i(29694),r=i(75778),a=(i(39710),i(24819),i(81738),i(6989),i(21700),i(87799),i(54480),i(1455),i(26086),i(56389),function(e){return e.map(function(e){if("string"!==e.type)return e;switch(e.name){case"username":return Object.assign(Object.assign({},e),{},{autocomplete:"username",autofocus:!0});case"password":return Object.assign(Object.assign({},e),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},e),{},{autocomplete:"one-time-code",autofocus:!0});default:return e}})}),s=function(e,t){return e.callWS({type:"auth/sign_path",path:t})},o=function(){var e=(0,r.Z)((0,n.Z)().m(function e(t,i,r,a){return(0,n.Z)().w(function(e){for(;;)if(0===e.n)return e.a(2,t.callWS({type:"config/auth_provider/homeassistant/create",user_id:i,username:r,password:a}))},e)}));return function(t,i,n,r){return e.apply(this,arguments)}}(),c=function(e,t,i){return e.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:i})},u=function(e,t,i){return e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:i})},l=function(e,t,i){return e.callWS({type:"config/auth_provider/homeassistant/admin_change_username",user_id:t,username:i})},d=function(e,t,i){return e.callWS({type:"auth/delete_all_refresh_tokens",token_type:t,delete_current_token:i})}},61447:function(e,t,i){i.d(t,{T9:function(){return m},kU:function(){return u},i4:function(){return p},sF:function(){return o},z9:function(){return Z},nk:function(){return h},Mw:function(){return y},Ch:function(){return d},Lr:function(){return _},jU:function(){return l},Xn:function(){return g},r:function(){return v},B:function(){return w},ou:function(){return x},zj:function(){return k},qW:function(){return c}});var n=i(29694),r=i(75778),a=(i(12212),i(87799),i(44261),function(){var e=(0,r.Z)((0,n.Z)().m(function e(t,i,r,a,s){var o,c,u,l,d,h,p=arguments;return(0,n.Z)().w(function(e){for(;;)switch(e.n){case 0:if((o=a[t])||(o=a[t]={}),!(c=o[s])){e.n=1;break}return e.a(2,c);case 1:for(u=p.length,l=new Array(u>5?u-5:0),d=5;d<u;d++)l[d-5]=p[d];return h=r.apply(void 0,[a,s].concat(l)),o[s]=h,h.then(function(){return setTimeout(function(){o[s]=void 0},i)},function(){o[s]=void 0}),e.a(2,h)}},e)}));return function(t,i,n,r,a){return e.apply(this,arguments)}}()),s=i(60673),o=[1,2,3,4,6,8],c=2,u="hls",l="web_rtc",d=function(e,t,i){return"".concat(e,"&width=").concat(t,"&height=").concat(i)},h=function(e){return"/api/camera_proxy_stream/".concat(e.entity_id,"?token=").concat(e.attributes.access_token)},p=function(){var e=(0,r.Z)((0,n.Z)().m(function e(t,i,r,s){var o;return(0,n.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a("_cameraTmbUrl",9e3,f,t,i);case 1:return o=e.v,e.a(2,d(o,r,s))}},e)}));return function(t,i,n,r){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)((0,n.Z)().m(function e(t,i){var r;return(0,n.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,s.iI)(t,"/api/camera_proxy/".concat(i));case 1:return r=e.v,e.a(2,t.hassUrl(r.path))}},e)}));return function(t,i){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.Z)((0,n.Z)().m(function e(t,i,r){var a,s;return(0,n.Z)().w(function(e){for(;;)switch(e.n){case 0:return a={type:"camera/stream",entity_id:i},r&&(a.format=r),e.n=1,t.callWS(a);case 1:return(s=e.v).url=t.hassUrl(s.url),e.a(2,s)}},e)}));return function(t,i,n){return e.apply(this,arguments)}}(),m=function(e,t,i,n){return e.connection.subscribeMessage(n,{type:"camera/webrtc/offer",entity_id:t,offer:i})},v=function(e,t,i,n){return e.callWS({type:"camera/webrtc/candidate",entity_id:t,session_id:i,candidate:n})},g=function(e,t){return e.callWS({type:"camera/get_prefs",entity_id:t})},y=function(e,t,i){return e.callWS(Object.assign({type:"camera/update_prefs",entity_id:t},i))},b="media-source://camera/",w=function(e){return e.startsWith(b)},k=function(e){return e.substring(22)},x=function(){var e=(0,r.Z)((0,n.Z)().m(function e(t,i){return(0,n.Z)().w(function(e){for(;;)if(0===e.n)return e.a(2,t.callWS({type:"camera/capabilities",entity_id:i}))},e)}));return function(t,i){return e.apply(this,arguments)}}(),Z=function(){var e=(0,r.Z)((0,n.Z)().m(function e(t,i){return(0,n.Z)().w(function(e){for(;;)if(0===e.n)return e.a(2,t.callWS({type:"camera/webrtc/get_client_config",entity_id:i}))},e)}));return function(t,i){return e.apply(this,arguments)}}()},16230:function(e,t,i){i.d(t,{ON:function(){return s},PX:function(){return o},V_:function(){return c},lz:function(){return a},nZ:function(){return r},rk:function(){return l}});var n=i(54731),r="unavailable",a="unknown",s="on",o="off",c=[r,a],u=[r,a,o],l=(0,n.z)(c);(0,n.z)(u)},58747:function(e,t,i){i.a(e,async function(e,n){try{i.d(t,{EX:function(){return _},Fj:function(){return Z},M$:function(){return C},SO:function(){return m},Sk:function(){return g},TN:function(){return S},UJ:function(){return y},Ym:function(){return E},hF:function(){return v}});var r=i(29694),a=i(75778),s=(i(25518),i(24819),i(18574),i(81738),i(94814),i(6989),i(54480),i(69920),i(1455),i(40141)),o=i(44272),c=i(6219),u=i(36590),l=i(28598),d=i(36221),h=i(72242),p=i(35982),f=e([l]);l=(f.then?(await f)():f)[0];var _=function(e){return e[e.INSTALL=1]="INSTALL",e[e.SPECIFIC_VERSION=2]="SPECIFIC_VERSION",e[e.PROGRESS=4]="PROGRESS",e[e.BACKUP=8]="BACKUP",e[e.RELEASE_NOTES=16]="RELEASE_NOTES",e}({}),m=function(e){return(0,u.e)(e,4)&&null!==e.attributes.update_percentage},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(e.state===s.uo||t&&Boolean(e.attributes.skipped_version))&&(0,u.e)(e,1)},g=function(e){return!!e.attributes.in_progress},y=function(e,t){return e.callWS({type:"update/release_notes",entity_id:t})},b="Home Assistant Core",w="Home Assistant Supervisor",k="Home Assistant Operating System",x=function(e,t){return Object.values(e).filter(function(e){return"update"===(0,c.N)(e)}).sort(function(e,i){return e.attributes.title===b?-3:i.attributes.title===b?3:e.attributes.title===k?-2:i.attributes.title===k?2:e.attributes.title===w?-1:i.attributes.title===w?1:(0,d.fe)(e.attributes.title||e.attributes.friendly_name||"",i.attributes.title||i.attributes.friendly_name||"",t)})},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return x(e).filter(function(e){return v(e,t)})},C=function(){var e=(0,a.Z)((0,r.Z)().m(function e(t,i){var n,a,s;return(0,r.Z)().w(function(e){for(;;)switch(e.n){case 0:if((n=x(i.states,i.locale.language).map(function(e){return e.entity_id})).length){e.n=1;break}return(0,h.showAlertDialog)(t,{title:i.localize("ui.panel.config.updates.no_update_entities.title"),text:i.localize("ui.panel.config.updates.no_update_entities.description"),warning:!0}),e.a(2);case 1:return(0,p.C)(t,{message:i.localize("ui.panel.config.updates.checking_updates")}),a=0,e.n=2,i.connection.subscribeEvents(function(e){"update"===(0,o.M)(e.data.entity_id)&&(a++,(0,p.C)(t,{message:i.localize("ui.panel.config.updates.updates_refreshed",{count:a})}))},"state_changed");case 2:return s=e.v,e.n=3,i.callService("homeassistant","update_entity",{entity_id:n});case 3:return e.n=4,new Promise(function(e){setTimeout(e,15e3)});case 4:s(),0===a&&(0,p.C)(t,{message:i.localize("ui.panel.config.updates.no_new_updates")});case 5:return e.a(2)}},e)}));return function(t,i){return e.apply(this,arguments)}}(),E=function(e,t){var i=e.state,n=e.attributes;if("off"===i)return n.latest_version&&n.skipped_version===n.latest_version?n.latest_version:t.formatEntityState(e);if("on"===i&&g(e))return(0,u.e)(e,4)&&null!==n.update_percentage?t.localize("ui.card.update.installing_with_progress",{progress:(0,l.uf)(n.update_percentage,t.locale,{maximumFractionDigits:n.display_precision,minimumFractionDigits:n.display_precision})}):t.localize("ui.card.update.installing");return t.formatEntityState(e)},S=function(e,t){var i;if("hassio"!==(null===(i=t[e.entity_id])||void 0===i?void 0:i.domain))return"generic";var n=e.attributes.title||"";return n===b?"home_assistant":n===k?"home_assistant_os":n!==w?"addon":"generic"};n()}catch(z){n(z)}})},19331:function(e,t,i){i.d(t,{X:function(){return a},y:function(){return r}});var n=i(54731),r=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],a=(0,n.z)(r)},27278:function(e,t,i){i.a(e,async function(e,n){try{i.r(t);var r,a,s,o,c,u,l,d,h,p,f,_=i(54982),m=i(29694),v=i(75778),g=i(54521),y=i(4490),b=i(20129),w=i(85297),k=(i(12212),i(70021),i(39710),i(87622),i(81738),i(29981),i(72489),i(87799),i(24533),i(54480),i(56389),i(20655),i(73742)),x=i(59048),Z=i(7616),C=i(28105),E=i(54720),S=(i(72953),i(83378)),z=(i(48017),i(28541)),O=(i(55245),i(37492),i(60673)),A=i(99918),D=i(72242),L=i(95814),N=i(42399),I=i(20069),j=i(80954),T=i(39884),F=e([E,z]);[E,z]=F.then?(await F)():F;var U="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",B=["device_tracker"],P={round:!0,quality:.75,aspectRatio:1},M=function(e){function t(){var e;(0,g.Z)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=(0,b.Z)(this,t,[].concat(n)))._submitting=!1,e._personExists=!1,e._deviceTrackersAvailable=(0,C.Z)(function(e){return Object.keys(e.states).some(function(e){return"device_tracker"===e.substr(0,e.indexOf("."))})}),e}return(0,w.Z)(t,e),(0,y.Z)(t,[{key:"showDialog",value:(z=(0,v.Z)((0,m.Z)().m(function e(t){var i,n,r=this;return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:return this._params=t,this._error=void 0,this._params.entry?(this._personExists=!0,this._name=this._params.entry.name||"",this._userId=this._params.entry.user_id||void 0,this._deviceTrackers=this._params.entry.device_trackers||[],this._picture=this._params.entry.picture||null,this._user=this._userId?this._params.users.find(function(e){return e.id===r._userId}):void 0,this._isAdmin=null===(i=this._user)||void 0===i?void 0:i.group_ids.includes(A.Pb),this._localOnly=null===(n=this._user)||void 0===n?void 0:n.local_only):(this._personExists=!1,this._name="",this._userId=void 0,this._user=void 0,this._isAdmin=void 0,this._localOnly=void 0,this._deviceTrackers=[],this._picture=null),e.n=1,this.updateComplete;case 1:return e.a(2)}},e,this)})),function(e){return z.apply(this,arguments)})},{key:"closeDialog",value:function(){if(!this._personExists&&this._userId){var e,t=null===(e=this._params)||void 0===e?void 0:e.refreshUsers;(0,A.h8)(this.hass,this._userId).then(function(){null==t||t()}),this._userId=void 0}return this._params=void 0,(0,T.B)(this,"dialog-closed",{dialog:this.localName}),!0}},{key:"render",value:function(){var e;if(!this._params)return x.Ld;var t=""===this._name.trim();return(0,x.dy)(r||(r=(0,_.Z)([' <ha-dialog open @closed="','" scrimClickAction escapeKeyAction .heading="','"> <div> ',' <div class="form"> <ha-textfield dialogInitialFocus .value="','" @input="','" label="','" .validationMessage="','" required></ha-textfield> <ha-picture-upload .hass="','" .value="','" crop select-media .cropOptions="','" @change="','"></ha-picture-upload> <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description"> ',' </span> <ha-switch @change="','" .disabled="','" .checked="','"></ha-switch> </ha-settings-row> '," "," </div> </div> ",' <ha-button slot="primaryAction" @click="','" .disabled="','"> '," </ha-button> </ha-dialog> "])),this.closeDialog,(0,S.i)(this.hass,this._params.entry?this._params.entry.name:this.hass.localize("ui.panel.config.person.detail.new_person")),this._error?(0,x.dy)(a||(a=(0,_.Z)([' <div class="error">',"</div> "])),this._error):"",this._name,this._nameChanged,this.hass.localize("ui.panel.config.person.detail.name"),this.hass.localize("ui.panel.config.person.detail.name_error_msg"),this.hass,this._picture,P,this._pictureChanged,this.hass.localize("ui.panel.config.person.detail.allow_login"),this.hass.localize("ui.panel.config.person.detail.allow_login_description"),this._allowLoginChanged,this._user&&(this._user.id===(null===(e=this.hass.user)||void 0===e?void 0:e.id)||this._user.system_generated||this._user.is_owner),this._userId,this._renderUserFields(),this._deviceTrackersAvailable(this.hass)?(0,x.dy)(s||(s=(0,_.Z)([" <p> ",' </p> <ha-entities-picker .hass="','" .value="','" .includeDomains="','" .pickedEntityLabel="','" .pickEntityLabel="','" @value-changed="','"> </ha-entities-picker> '])),this.hass.localize("ui.panel.config.person.detail.device_tracker_intro"),this.hass,this._deviceTrackers,B,this.hass.localize("ui.panel.config.person.detail.device_tracker_picked"),this.hass.localize("ui.panel.config.person.detail.device_tracker_pick"),this._deviceTrackersChanged):(0,x.dy)(o||(o=(0,_.Z)([" <p> ",' </p> <ul> <li> <a href="','" target="_blank" rel="noreferrer">','</a> </li> <li> <a @click="','" href="/config/integrations"> ',"</a> </li> </ul> "])),this.hass.localize("ui.panel.config.person.detail.no_device_tracker_available_intro"),(0,N.R)(this.hass,"/integrations/#presence-detection"),this.hass.localize("ui.panel.config.person.detail.link_presence_detection_integrations"),this.closeDialog,this.hass.localize("ui.panel.config.person.detail.link_integrations_page")),this._params.entry?(0,x.dy)(c||(c=(0,_.Z)([' <ha-button slot="secondaryAction" class="warning" @click="','" .disabled="','"> '," </ha-button> "])),this._deleteEntry,this._user&&this._user.is_owner||this._submitting,this.hass.localize("ui.panel.config.person.detail.delete")):x.Ld,this._updateEntry,t||this._submitting,this._params.entry?this.hass.localize("ui.panel.config.person.detail.update"):this.hass.localize("ui.panel.config.person.detail.create"))}},{key:"_renderUserFields",value:function(){var e,t,i,n=this._user;return n?(0,x.dy)(u||(u=(0,_.Z)([" "," ",' <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description"> ',' </span> <ha-switch .disabled="','" .checked="','" @change="','"> </ha-switch> </ha-settings-row> <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description"> ',' </span> <ha-switch .disabled="','" .checked="','" @change="','"> </ha-switch> </ha-settings-row> '])),n.system_generated?x.Ld:(0,x.dy)(l||(l=(0,_.Z)([' <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description">',"</span> "," </ha-settings-row> "])),this.hass.localize("ui.panel.config.person.detail.username"),n.username,null!==(e=this.hass.user)&&void 0!==e&&e.is_owner?(0,x.dy)(d||(d=(0,_.Z)([' <ha-icon-button .path="','" @click="','" .label="','"> </ha-icon-button> '])),U,this._changeUsername,this.hass.localize("ui.panel.config.person.detail.change_username")):x.Ld),!n.system_generated&&null!==(t=this.hass.user)&&void 0!==t&&t.is_owner?(0,x.dy)(h||(h=(0,_.Z)([' <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description">************</span> '," </ha-settings-row> "])),this.hass.localize("ui.panel.config.person.detail.password"),null!==(i=this.hass.user)&&void 0!==i&&i.is_owner?(0,x.dy)(p||(p=(0,_.Z)([' <ha-icon-button .path="','" @click="','" .label="','"> </ha-icon-button> '])),U,this._changePassword,this.hass.localize("ui.panel.config.person.detail.change_password")):x.Ld):x.Ld,this.hass.localize("ui.panel.config.person.detail.local_access_only"),this.hass.localize("ui.panel.config.person.detail.local_access_only_description"),n.system_generated,this._localOnly,this._localOnlyChanged,this.hass.localize("ui.panel.config.person.detail.admin"),this.hass.localize("ui.panel.config.person.detail.admin_description"),n.system_generated||n.is_owner,this._isAdmin,this._adminChanged):x.Ld}},{key:"_nameChanged",value:function(e){this._error=void 0,this._name=e.target.value}},{key:"_adminChanged",value:function(e){this._isAdmin=e.target.checked}},{key:"_localOnlyChanged",value:function(e){this._localOnly=e.target.checked}},{key:"_allowLoginChanged",value:(E=(0,v.Z)((0,m.Z)().m(function e(t){var i,n,r=this;return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:if(!(i=t.target).checked){e.n=1;break}i.checked=!1,(0,I.G)(this,{userAddedCallback:function(){var e=(0,v.Z)((0,m.Z)().m(function e(t){var n;return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:if(!t){e.n=2;break}if(i.checked=!0,!r._params.entry){e.n=1;break}return e.n=1,r._params.updateEntry({user_id:t.id});case 1:null===(n=r._params)||void 0===n||n.refreshUsers(),r._user=t,r._userId=t.id,r._isAdmin=t.group_ids.includes(A.Pb),r._localOnly=t.local_only;case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),name:this._name}),e.n=5;break;case 1:if(!this._userId){e.n=5;break}return e.n=2,(0,D.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.person.detail.confirm_delete_user_title"),text:this.hass.localize("ui.panel.config.person.detail.confirm_delete_user_text",{name:this._name}),confirmText:this.hass.localize("ui.common.delete"),dismissText:this.hass.localize("ui.common.cancel"),destructive:!0});case 2:if(e.v){e.n=3;break}return i.checked=!0,e.a(2);case 3:return e.n=4,(0,A.h8)(this.hass,this._userId);case 4:null===(n=this._params)||void 0===n||n.refreshUsers(),this._userId=void 0,this._user=void 0,this._isAdmin=void 0,this._localOnly=void 0;case 5:return e.a(2)}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"_deviceTrackersChanged",value:function(e){this._error=void 0,this._deviceTrackers=e.detail.value}},{key:"_pictureChanged",value:function(e){this._error=void 0,this._picture=e.target.value}},{key:"_changePassword",value:(Z=(0,v.Z)((0,m.Z)().m(function e(){return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:if(this._user){e.n=1;break}return e.a(2);case 1:if(this._user.credentials.find(function(e){return"homeassistant"===e.type})){e.n=2;break}return(0,D.showAlertDialog)(this,{title:"No Home Assistant credentials found."}),e.a(2);case 2:(0,j.o)(this,{userId:this._user.id});case 3:return e.a(2)}},e,this)})),function(){return Z.apply(this,arguments)})},{key:"_changeUsername",value:(k=(0,v.Z)((0,m.Z)().m(function e(){var t,i,n;return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:if(this._user){e.n=1;break}return e.a(2);case 1:if(this._user.credentials.find(function(e){return"homeassistant"===e.type})){e.n=2;break}return(0,D.showAlertDialog)(this,{title:"No Home Assistant credentials found."}),e.a(2);case 2:return e.n=3,(0,D.showPromptDialog)(this,{inputLabel:this.hass.localize("ui.panel.config.users.change_username.new_username"),confirmText:this.hass.localize("ui.panel.config.users.change_username.change"),title:this.hass.localize("ui.panel.config.users.change_username.caption"),defaultValue:this._user.username});case 3:if(!(t=e.v)){e.n=7;break}return e.p=4,e.n=5,(0,O.j2)(this.hass,this._user.id,t);case 5:null===(i=this._params)||void 0===i||i.refreshUsers(),this._user=Object.assign(Object.assign({},this._user),{},{username:t}),(0,D.showAlertDialog)(this,{text:this.hass.localize("ui.panel.config.users.change_username.username_changed")}),e.n=7;break;case 6:e.p=6,n=e.v,(0,D.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.users.change_username.failed"),text:n.message});case 7:return e.a(2)}},e,this,[[4,6]])})),function(){return k.apply(this,arguments)})},{key:"_updateEntry",value:(n=(0,v.Z)((0,m.Z)().m(function e(){var t,i,n,r,a,s;return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:if(this._submitting=!0,e.p=1,!(this._userId&&this._name!==(null===(t=this._params.entry)||void 0===t?void 0:t.name)||this._isAdmin!==(null===(i=this._user)||void 0===i?void 0:i.group_ids.includes(A.Pb))||this._localOnly!==(null===(n=this._user)||void 0===n?void 0:n.local_only))){e.n=3;break}return e.n=2,(0,A.Nq)(this.hass,this._userId,{name:this._name.trim(),group_ids:[this._isAdmin?A.Pb:A.CE],local_only:this._localOnly});case 2:null===(r=this._params)||void 0===r||r.refreshUsers();case 3:if(a={name:this._name.trim(),device_trackers:this._deviceTrackers,user_id:this._userId||null,picture:this._picture},!this._params.entry){e.n=5;break}return e.n=4,this._params.updateEntry(a);case 4:e.n=7;break;case 5:return e.n=6,this._params.createEntry(a);case 6:this._personExists=!0;case 7:this.closeDialog(),e.n=9;break;case 8:e.p=8,s=e.v,this._error=s?s.message:"Unknown error";case 9:return e.p=9,this._submitting=!1,e.f(9);case 10:return e.a(2)}},e,this,[[1,8,9,10]])})),function(){return n.apply(this,arguments)})},{key:"_deleteEntry",value:(i=(0,v.Z)((0,m.Z)().m(function e(){return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:return this._submitting=!0,e.p=1,e.n=2,this._params.removeEntry();case 2:if(!e.v){e.n=3;break}this._params.entry.user_id&&(0,A.h8)(this.hass,this._params.entry.user_id),this.closeDialog();case 3:return e.p=3,this._submitting=!1,e.f(3);case 4:return e.a(2)}},e,this,[[1,,3,4]])})),function(){return i.apply(this,arguments)})}],[{key:"styles",get:function(){return[L.yu,(0,x.iv)(f||(f=(0,_.Z)(["ha-picture-upload,ha-textfield{display:block}ha-picture-upload{margin-bottom:16px;--file-upload-image-border-radius:50%}ha-settings-row{padding:0}a{color:var(--primary-color)}p{color:var(--primary-text-color)}"])))]}}]);var i,n,k,Z,E,z}(x.oi);(0,k.__decorate)([(0,Z.Cb)({attribute:!1})],M.prototype,"hass",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_name",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_userId",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_user",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_isAdmin",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_localOnly",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_deviceTrackers",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_picture",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_error",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_params",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_submitting",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_personExists",void 0),customElements.define("dialog-person-detail",M),n()}catch(W){n(W)}})},20069:function(e,t,i){i.d(t,{G:function(){return a}});i(26847),i(54480),i(1455),i(48694),i(27530);var n=i(39884),r=function(){return i.e("23275").then(i.bind(i,7935))},a=function(e,t){(0,n.B)(e,"show-dialog",{dialogTag:"dialog-add-user",dialogImport:r,dialogParams:t})}},80954:function(e,t,i){i.d(t,{o:function(){return a}});i(26847),i(54480),i(1455),i(48694),i(27530);var n=i(39884),r=function(){return Promise.all([i.e("68858"),i.e("2139")]).then(i.bind(i,54949))},a=function(e,t){(0,n.B)(e,"show-dialog",{dialogTag:"dialog-admin-change-password",dialogImport:r,dialogParams:t})}},56730:function(e,t,i){i.r(t),i.d(t,{mdiHomeAssistant:function(){return n}});var n="m12.151 1.5882c-.3262 0-.6523.1291-.8996.3867l-8.3848 8.7354c-.0619.0644-.1223.1368-.1807.2154-.0588.0789-.1151.1638-.1688.2534-.2593.4325-.4552.9749-.5232 1.4555-.0026.018-.0076.0369-.0094.0548-.0121.0987-.0184.1944-.0184.2857v8.0124a1.2731 1.2731 0 001.2731 1.2731h7.8313l-3.4484-3.593a1.7399 1.7399 0 111.0803-1.125l2.6847 2.7972v-10.248a1.7399 1.7399 0 111.5276-0v7.187l2.6702-2.782a1.7399 1.7399 0 111.0566 1.1505l-3.7269 3.8831v2.7299h8.174a1.2471 1.2471 0 001.2471-1.2471v-8.0375c0-.0912-.0059-.1868-.0184-.2855-.0603-.4935-.2636-1.0617-.5326-1.5105-.0537-.0896-.1101-.1745-.1684-.253-.0588-.079-.1191-.1513-.181-.2158l-8.3848-8.7363c-.2473-.2577-.5735-.3866-.8995-.3864"},83788:function(e,t,i){i.a(e,async function(e,t){try{i(26847),i(54480),i(1455),i(48694),i(27530);"function"!=typeof window.ResizeObserver&&(window.ResizeObserver=(await i.e("89931").then(i.bind(i,11860))).default),t()}catch(n){t(n)}},1)}}]);
//# sourceMappingURL=44780.c0bd71130c3a33eb.js.map