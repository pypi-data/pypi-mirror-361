"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["17307"],{39257:function(e,t,r){r.a(e,async function(e,i){try{r.r(t),r.d(t,{FlowPreviewGeneric:function(){return C}});var o,s,n=r(29694),a=r(75778),u=r(54982),_=r(54521),c=r(4490),d=r(20129),h=r(85297),p=r(53389),v=(r(12212),r(87799),r(73742)),w=r(59048),b=r(7616),f=r(15566),l=r(55925),y=r(87639),k=r(39884),g=(r(12942),e([l]));l=(g.then?(await g)():g)[0];var C=function(e){function t(){var e;(0,_.Z)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=(0,d.Z)(this,t,[].concat(i)))._setPreview=function(t){if(t.error)return e._error=t.error,void(e._preview=void 0);var r=(new Date).toISOString();e._preview=Object.assign({entity_id:"".concat(e.stepId,".___flow_preview___"),last_changed:r,last_updated:r,context:{id:"",parent_id:null,user_id:null}},t)},e._debouncedSubscribePreview=(0,y.D)(function(){e._subscribePreview()},250),e}return(0,h.Z)(t,e),(0,c.Z)(t,[{key:"disconnectedCallback",value:function(){(0,p.Z)(t,"disconnectedCallback",this,3)([]),this._unsub&&(this._unsub.then(function(e){return e()}),this._unsub=void 0)}},{key:"willUpdate",value:function(e){e.has("stepData")&&this._debouncedSubscribePreview()}},{key:"render",value:function(){return this._error?(0,w.dy)(o||(o=(0,u.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):(0,w.dy)(s||(s=(0,u.Z)(['<entity-preview-row .hass="','" .stateObj="','"></entity-preview-row>'])),this.hass,this._preview)}},{key:"_subscribePreview",value:(r=(0,a.Z)((0,n.Z)().m(function e(){var t;return(0,n.Z)().w(function(e){for(;;)switch(e.n){case 0:if(!this._unsub){e.n=2;break}return e.n=1,this._unsub;case 1:(0,e.v)(),this._unsub=void 0;case 2:if("config_flow"===this.flowType||"options_flow"===this.flowType||"config_subentries_flow"===this.flowType){e.n=3;break}return e.a(2);case 3:return this._error=void 0,e.p=4,this._unsub=(0,f.H)(this.hass,this.domain,this.flowId,this.flowType,this.stepData,this._setPreview),e.n=5,this._unsub;case 5:(0,k.B)(this,"set-flow-errors",{errors:{}}),e.n=7;break;case 6:e.p=6,"string"==typeof(t=e.v).message?this._error=t.message:(this._error=void 0,(0,k.B)(this,"set-flow-errors",t.message)),this._unsub=void 0,this._preview=void 0;case 7:return e.a(2)}},e,this,[[4,6]])})),function(){return r.apply(this,arguments)})}]);var r}(w.oi);(0,v.__decorate)([(0,b.Cb)({attribute:!1})],C.prototype,"hass",void 0),(0,v.__decorate)([(0,b.Cb)({attribute:!1})],C.prototype,"flowType",void 0),(0,v.__decorate)([(0,b.Cb)()],C.prototype,"domain",void 0),(0,v.__decorate)([(0,b.Cb)({attribute:!1})],C.prototype,"stepId",void 0),(0,v.__decorate)([(0,b.Cb)({attribute:!1})],C.prototype,"flowId",void 0),(0,v.__decorate)([(0,b.Cb)({attribute:!1})],C.prototype,"stepData",void 0),(0,v.__decorate)([(0,b.SB)()],C.prototype,"_preview",void 0),(0,v.__decorate)([(0,b.SB)()],C.prototype,"_error",void 0),C=(0,v.__decorate)([(0,b.Mo)("flow-preview-generic")],C),i()}catch(Z){i(Z)}})}}]);
//# sourceMappingURL=17307.b44abc5cfd195895.js.map