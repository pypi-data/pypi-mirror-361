"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["17222"],{54731:function(t,e,n){n.d(e,{z:function(){return i}});n(39710),n(56389);var i=function(t){return function(e,n){return t.includes(e,n)}}},55815:function(t,e,n){n.d(e,{Eu:function(){return o},hZ:function(){return s},o9:function(){return c}});n(24819),n(54480);var i=n(28105),a=n(45657),r=["#4269d0","#f4bd4a","#ff725c","#6cc5b0","#a463f2","#ff8ab7","#9c6b4e","#97bbf5","#01ab63","#094bad","#c99000","#d84f3e","#49a28f","#048732","#d96895","#8043ce","#7599d1","#7a4c31","#6989f4","#ffd444","#ff957c","#8fe9d3","#62cc71","#ffadda","#c884ff","#badeff","#bf8b6d","#927acc","#97ee3f","#bf3947","#9f5b00","#f48758","#8caed6","#f2b94f","#eff26e","#e43872","#d9b100","#9d7a00","#698cff","#00d27e","#d06800","#009f82","#c49200","#cbe8ff","#fecddf","#c27eb6","#8cd2ce","#c4b8d9","#f883b0","#a49100","#f48800","#27d0df","#a04a9b"];function o(t){return r[t%r.length]}function s(t,e){var n=e.getPropertyValue("--graph-color-".concat(t+1))||o(t);return(0,a.Rq)(n)}var c=(0,i.Z)(function(t){return r.map(function(e,n){return s(n,t)})},function(t,e){return t[0].getPropertyValue("--graph-color-1")===e[0].getPropertyValue("--graph-color-1")})},34302:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{Bt:function(){return l},T8:function(){return u}});n(39710),n(87622);var a=n(62229),r=n(3574),o=n(38763),s=t([a]);a=(s.then?(await s)():s)[0];var c=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],l=function(t){return t.first_weekday===o.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(t.language).weekInfo.firstDay%7:(0,r.L)(t.language)%7:c.includes(t.first_weekday)?c.indexOf(t.first_weekday):1},u=function(t){var e=l(t);return c[e]};i()}catch(d){i(d)}})},68135:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{G:function(){return l}});var a=n(62229),r=n(28105),o=n(43890),s=t([a,o]);[a,o]=s.then?(await s)():s;var c=(0,r.Z)(function(t){return new Intl.RelativeTimeFormat(t.language,{numeric:"auto"})}),l=function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=(0,o.W)(t,n,e);return i?c(e).format(a.value,a.unit):Intl.NumberFormat(e.language,{style:"unit",unit:a.unit,unitDisplay:"long"}).format(Math.abs(a.value))};i()}catch(u){i(u)}})},34743:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{f:function(){return h}});var a,r,o,s=n(62229),c=n(38763),l=t([s]);s=(l.then?(await l)():l)[0];var u=null===(a=Intl.DateTimeFormat)||void 0===a||null===(r=(o=a.call(Intl)).resolvedOptions)||void 0===r?void 0:r.call(o).timeZone,d=null!=u?u:"UTC",h=function(t,e){return t===c.c_.local&&u?d:e};i()}catch(f){i(f)}})},58125:function(t,e,n){n.d(e,{wZ:function(){return s},jL:function(){return o},sU:function(){return l}});n(26847),n(81738),n(94814),n(6989),n(20655),n(27530);var i=n(28105),a=n(15459),r=n(75706);n(54480),n(11353),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(48694);const o=t=>{var e;return null===(e=t.name_by_user||t.name)||void 0===e?void 0:e.trim()},s=(t,e,n)=>o(t)||n&&c(e,n)||e.localize("ui.panel.config.devices.unnamed_device",{type:e.localize(`ui.panel.config.devices.type.${t.entry_type||"device"}`)}),c=(t,e)=>{for(const n of e||[]){const e="string"==typeof n?n:n.entity_id,i=t.states[e];if(i)return(0,a.C)(i)}},l=(0,i.Z)(t=>function(t){var e,n=new Set,i=new Set,a=(0,r.Z)(t);try{for(a.s();!(e=a.n()).done;){var o=e.value;i.has(o)?n.add(o):i.add(o)}}catch(s){a.e(s)}finally{a.f()}return n}(Object.values(t).map(t=>o(t)).filter(t=>void 0!==t)))},6219:function(t,e,n){n.d(e,{N:function(){return a}});var i=n(44272),a=function(t){return(0,i.M)(t.entity_id)}},36590:function(t,e,n){n.d(e,{e:function(){return i}});var i=function(t,e){return a(t.attributes,e)},a=function(t,e){return 0!==(t.supported_features&e)}},28598:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{SL:function(){return c},l4:function(){return d},sJ:function(){return l},uf:function(){return u}});var a=n(62229),r=(n(12212),n(39710),n(87622),n(96821),n(35385),n(99233),n(87799),n(54480),n(56303),n(56389),n(38763)),o=n(98249),s=t([a]);a=(s.then?(await s)():s)[0];var c=function(t){return l(t.attributes)},l=function(t,e){return!!t.unit_of_measurement||!!t.state_class||(e||[]).includes(t.device_class||"")},u=function(t,e,n){var i=e?function(t){switch(t.number_format){case r.y4.comma_decimal:return["en-US","en"];case r.y4.decimal_comma:return["de","es","it"];case r.y4.space_comma:return["fr","sv","cs"];case r.y4.system:return;default:return t.language}}(e):void 0;return Number.isNaN=Number.isNaN||function t(e){return"number"==typeof e&&t(e)},(null==e?void 0:e.number_format)===r.y4.none||Number.isNaN(Number(t))?Number.isNaN(Number(t))||""===t||(null==e?void 0:e.number_format)!==r.y4.none?"string"==typeof t?t:"".concat((0,o.N)(t,null==n?void 0:n.maximumFractionDigits).toString()).concat("currency"===(null==n?void 0:n.style)?" ".concat(n.currency):""):new Intl.NumberFormat("en-US",h(t,Object.assign(Object.assign({},n),{},{useGrouping:!1}))).format(Number(t)):new Intl.NumberFormat(i,h(t,n)).format(Number(t))},d=function(t,e){var n,i=null==e?void 0:e.display_precision;return null!=i?{maximumFractionDigits:i,minimumFractionDigits:i}:Number.isInteger(Number(null==t||null===(n=t.attributes)||void 0===n?void 0:n.step))&&Number.isInteger(Number(null==t?void 0:t.state))?{maximumFractionDigits:0}:void 0},h=function(t,e){var n=Object.assign({maximumFractionDigits:2},e);if("string"!=typeof t)return n;if(!e||void 0===e.minimumFractionDigits&&void 0===e.maximumFractionDigits){var i=t.indexOf(".")>-1?t.split(".")[1].length:0;n.minimumFractionDigits=i,n.maximumFractionDigits=i}return n};i()}catch(f){i(f)}})},98249:function(t,e,n){n.d(e,{N:function(){return i}});var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}},64564:function(t,e,n){n.d(e,{v:function(){return a}});var i=n(75706),a=(n(2394),function(t,e){var n,a={},r=(0,i.Z)(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,s=e(o);s in a?a[s].push(o):a[s]=[o]}}catch(c){r.e(c)}finally{r.f()}return a})},43890:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{W:function(){return p}});n(87799);var a=n(7722),r=n(66233),o=n(58104),s=n(34302),c=t([s]);s=(c.then?(await c)():c)[0];var l=1e3,u=60,d=60*u;function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=Object.assign(Object.assign({},h),i||{}),f=(+t-+e)/l;if(Math.abs(f)<c.second)return{value:Math.round(f),unit:"second"};var p=f/u;if(Math.abs(p)<c.minute)return{value:Math.round(p),unit:"minute"};var v=f/d;if(Math.abs(v)<c.hour)return{value:Math.round(v),unit:"hour"};var g=new Date(t),m=new Date(e);g.setHours(0,0,0,0),m.setHours(0,0,0,0);var _=(0,a.j)(g,m);if(0===_)return{value:Math.round(v),unit:"hour"};if(Math.abs(_)<c.day)return{value:_,unit:"day"};var y=(0,s.Bt)(n),b=(0,r.z)(g,{weekStartsOn:y}),w=(0,r.z)(m,{weekStartsOn:y}),k=(0,o.p)(b,w);if(0===k)return{value:_,unit:"day"};if(Math.abs(k)<c.week)return{value:k,unit:"week"};var Z=g.getFullYear()-m.getFullYear(),x=12*Z+g.getMonth()-m.getMonth();return 0===x?{value:k,unit:"week"}:Math.abs(x)<c.month||0===Z?{value:x,unit:"month"}:{value:Math.round(Z),unit:"year"}}var h={second:45,minute:45,hour:22,day:5,week:4,month:11};i()}catch(f){i(f)}})},12942:function(t,e,n){n.r(e);var i,a,r,o,s=n(74904),c=n(54982),l=n(54521),u=n(4490),d=n(20129),h=n(85297),f=(n(12212),n(73742)),p=n(59048),v=n(7616),g=n(31733),m=n(39884),_=(n(48017),n(993),{info:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",warning:"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",error:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",success:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),y=function(t){function e(){var t;(0,l.Z)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=(0,d.Z)(this,e,[].concat(i))).title="",t.alertType="info",t.dismissable=!1,t.narrow=!1,t}return(0,h.Z)(e,t),(0,u.Z)(e,[{key:"render",value:function(){return(0,p.dy)(i||(i=(0,c.Z)([' <div class="issue-type ','" role="alert"> <div class="icon ','"> <slot name="icon"> <ha-svg-icon .path="','"></ha-svg-icon> </slot> </div> <div class="','"> <div class="main-content"> ',' <slot></slot> </div> <div class="action"> <slot name="action"> '," </slot> </div> </div> </div> "])),(0,g.$)((0,s.Z)({},this.alertType,!0)),this.title?"":"no-title",_[this.alertType],(0,g.$)({content:!0,narrow:this.narrow}),this.title?(0,p.dy)(a||(a=(0,c.Z)(['<div class="title">',"</div>"])),this.title):p.Ld,this.dismissable?(0,p.dy)(r||(r=(0,c.Z)(['<ha-icon-button @click="','" label="Dismiss alert" .path="','"></ha-icon-button>'])),this._dismissClicked,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):p.Ld)}},{key:"_dismissClicked",value:function(){(0,m.B)(this,"alert-dismissed-clicked")}}])}(p.oi);y.styles=(0,p.iv)(o||(o=(0,c.Z)(['.issue-type{position:relative;padding:8px;display:flex}.issue-type::after{position:absolute;top:0;right:0;bottom:0;left:0;opacity:.12;pointer-events:none;content:"";border-radius:4px}.icon{z-index:1}.icon.no-title{align-self:center}.content{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:var(--float-start)}.content.narrow{flex-direction:column;align-items:flex-end}.action{z-index:1;width:min-content;--mdc-theme-primary:var(--primary-text-color)}.main-content{overflow-wrap:anywhere;word-break:break-word;margin-left:8px;margin-right:0;margin-inline-start:8px;margin-inline-end:0}.title{margin-top:2px;font-weight:var(--ha-font-weight-bold)}.action ha-icon-button,.action mwc-button{--mdc-theme-primary:var(--primary-text-color);--mdc-icon-button-size:36px}.issue-type.info>.icon{color:var(--info-color)}.issue-type.info::after{background-color:var(--info-color)}.issue-type.warning>.icon{color:var(--warning-color)}.issue-type.warning::after{background-color:var(--warning-color)}.issue-type.error>.icon{color:var(--error-color)}.issue-type.error::after{background-color:var(--error-color)}.issue-type.success>.icon{color:var(--success-color)}.issue-type.success::after{background-color:var(--success-color)}:host ::slotted(ul){margin:0;padding-inline-start:20px}']))),(0,f.__decorate)([(0,v.Cb)()],y.prototype,"title",void 0),(0,f.__decorate)([(0,v.Cb)({attribute:"alert-type"})],y.prototype,"alertType",void 0),(0,f.__decorate)([(0,v.Cb)({type:Boolean})],y.prototype,"dismissable",void 0),(0,f.__decorate)([(0,v.Cb)({type:Boolean})],y.prototype,"narrow",void 0),y=(0,f.__decorate)([(0,v.Mo)("ha-alert")],y)},41037:function(t,e,n){n(26847),n(81738),n(22960),n(27530);var i=n(73742),a=n(59048),r=n(7616),o=n(83054);n(12066),n(39765);let s,c,l=t=>t;class u extends a.oi{get items(){var t;return null===(t=this._menu)||void 0===t?void 0:t.items}get selected(){var t;return null===(t=this._menu)||void 0===t?void 0:t.selected}focus(){var t,e;null!==(t=this._menu)&&void 0!==t&&t.open?this._menu.focusItemAtIndex(0):null===(e=this._triggerButton)||void 0===e||e.focus()}render(){return(0,a.dy)(s||(s=l` <div @click="${0}"> <slot name="trigger" @slotchange="${0}"></slot> </div> <ha-menu .corner="${0}" .menuCorner="${0}" .fixed="${0}" .multi="${0}" .activatable="${0}" .y="${0}" .x="${0}"> <slot></slot> </ha-menu> `),this._handleClick,this._setTriggerAria,this.corner,this.menuCorner,this.fixed,this.multi,this.activatable,this.y,this.x)}firstUpdated(t){super.firstUpdated(t),"rtl"===o.E.document.dir&&this.updateComplete.then(()=>{this.querySelectorAll("ha-list-item").forEach(t=>{const e=document.createElement("style");e.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",t.shadowRoot.appendChild(e)})})}_handleClick(){this.disabled||(this._menu.anchor=this.noAnchor?null:this,this._menu.show())}get _triggerButton(){return this.querySelector('ha-icon-button[slot="trigger"], ha-button[slot="trigger"], mwc-button[slot="trigger"]')}_setTriggerAria(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}constructor(...t){super(...t),this.corner="BOTTOM_START",this.menuCorner="START",this.x=null,this.y=null,this.multi=!1,this.activatable=!1,this.disabled=!1,this.fixed=!1,this.noAnchor=!1}}u.styles=(0,a.iv)(c||(c=l`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`)),(0,i.__decorate)([(0,r.Cb)()],u.prototype,"corner",void 0),(0,i.__decorate)([(0,r.Cb)({attribute:"menu-corner"})],u.prototype,"menuCorner",void 0),(0,i.__decorate)([(0,r.Cb)({type:Number})],u.prototype,"x",void 0),(0,i.__decorate)([(0,r.Cb)({type:Number})],u.prototype,"y",void 0),(0,i.__decorate)([(0,r.Cb)({type:Boolean})],u.prototype,"multi",void 0),(0,i.__decorate)([(0,r.Cb)({type:Boolean})],u.prototype,"activatable",void 0),(0,i.__decorate)([(0,r.Cb)({type:Boolean})],u.prototype,"disabled",void 0),(0,i.__decorate)([(0,r.Cb)({type:Boolean})],u.prototype,"fixed",void 0),(0,i.__decorate)([(0,r.Cb)({type:Boolean,attribute:"no-anchor"})],u.prototype,"noAnchor",void 0),(0,i.__decorate)([(0,r.IO)("ha-menu",!0)],u.prototype,"_menu",void 0),u=(0,i.__decorate)([(0,r.Mo)("ha-button-menu")],u)},80471:function(t,e,n){var i,a,r,o=n(54982),s=n(54521),c=n(4490),l=n(20129),u=n(53389),d=n(85297),h=n(73742),f=n(33856),p=n(24584),v=n(7616),g=n(59048),m=n(83054),_=function(t){function e(){return(0,s.Z)(this,e),(0,l.Z)(this,e,arguments)}return(0,d.Z)(e,t),(0,c.Z)(e,[{key:"firstUpdated",value:function(t){(0,u.Z)(e,"firstUpdated",this,3)([t]),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}])}(f._);_.styles=[p.W,(0,g.iv)(i||(i=(0,o.Z)([":host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}"]))),"rtl"===m.E.document.dir?(0,g.iv)(a||(a=(0,o.Z)([":host .mdc-fab--extended .mdc-fab__icon{direction:rtl}"]))):(0,g.iv)(r||(r=(0,o.Z)([""])))],_=(0,h.__decorate)([(0,v.Mo)("ha-fab")],_)},5865:function(t,e,n){n.d(e,{kY:function(){return p},mj:function(){return f}});var i,a,r=n(54982),o=n(54521),s=n(4490),c=n(20129),l=n(85297),u=n(73742),d=n(59048),h=n(7616),f=(n(46358),n(993),function(t){switch(t.level){case 0:return"M11,10H13V16H11V10M22,12H19V20H5V12H2L12,3L22,12M15,10A2,2 0 0,0 13,8H11A2,2 0 0,0 9,10V16A2,2 0 0,0 11,18H13A2,2 0 0,0 15,16V10Z";case 1:return"M12,3L2,12H5V20H19V12H22L12,3M10,8H14V18H12V10H10V8Z";case 2:return"M12,3L2,12H5V20H19V12H22L12,3M9,8H13A2,2 0 0,1 15,10V12A2,2 0 0,1 13,14H11V16H15V18H9V14A2,2 0 0,1 11,12H13V10H9V8Z";case 3:return"M12,3L22,12H19V20H5V12H2L12,3M15,11.5V10C15,8.89 14.1,8 13,8H9V10H13V12H11V14H13V16H9V18H13A2,2 0 0,0 15,16V14.5A1.5,1.5 0 0,0 13.5,13A1.5,1.5 0 0,0 15,11.5Z";case-1:return"M12,3L2,12H5V20H19V12H22L12,3M11,15H7V13H11V15M15,18H13V10H11V8H15V18Z"}return"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"}),p=function(t){switch(t.level){case 0:return"mdi:home-floor-0";case 1:return"mdi:home-floor-1";case 2:return"mdi:home-floor-2";case 3:return"mdi:home-floor-3";case-1:return"mdi:home-floor-negative-1"}return"mdi:home"},v=function(t){function e(){return(0,o.Z)(this,e),(0,c.Z)(this,e,arguments)}return(0,l.Z)(e,t),(0,s.Z)(e,[{key:"render",value:function(){if(this.floor.icon)return(0,d.dy)(i||(i=(0,r.Z)(['<ha-icon .icon="','"></ha-icon>'])),this.floor.icon);var t=f(this.floor);return(0,d.dy)(a||(a=(0,r.Z)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),t)}}])}(d.oi);(0,u.__decorate)([(0,h.Cb)({attribute:!1})],v.prototype,"floor",void 0),(0,u.__decorate)([(0,h.Cb)()],v.prototype,"icon",void 0),v=(0,u.__decorate)([(0,h.Mo)("ha-floor-icon")],v)},5786:function(t,e,n){n.r(e),n.d(e,{HaIconNext:function(){return d}});var i=n(4490),a=n(54521),r=n(20129),o=n(85297),s=(n(12212),n(73742)),c=n(7616),l=n(83054),u=n(993),d=function(t){function e(){var t;(0,a.Z)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=(0,r.Z)(this,e,[].concat(i))).path="rtl"===l.E.document.dir?"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z":"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",t}return(0,o.Z)(e,t),(0,i.Z)(e)}(u.HaSvgIcon);(0,s.__decorate)([(0,c.Cb)()],d.prototype,"path",void 0),d=(0,s.__decorate)([(0,c.Mo)("ha-icon-next")],d)},69760:function(t,e,n){var i,a,r,o=n(54982),s=n(54521),c=n(4490),l=n(20129),u=n(53389),d=n(85297),h=n(73742),f=n(84859),p=n(7686),v=n(59048),g=n(7616),m=function(t){function e(){return(0,s.Z)(this,e),(0,l.Z)(this,e,arguments)}return(0,d.Z)(e,t),(0,c.Z)(e,[{key:"renderRipple",value:function(){return this.noninteractive?"":(0,u.Z)(e,"renderRipple",this,3)([])}}],[{key:"styles",get:function(){return[p.W,(0,v.iv)(i||(i=(0,o.Z)([":host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-inline-start:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px));padding-inline-end:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)!important}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)!important}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center;flex-shrink:0}:host([graphic=icon]:not([twoline])) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,20px)!important}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}"]))),"rtl"===document.dir?(0,v.iv)(a||(a=(0,o.Z)(["span.material-icons:first-of-type,span.material-icons:last-of-type{direction:rtl!important;--direction:rtl}"]))):(0,v.iv)(r||(r=(0,o.Z)([""])))]}}])}(f.K);m=(0,h.__decorate)([(0,g.Mo)("ha-list-item")],m)},64881:function(t,e,n){var i=n(4490),a=n(54521),r=n(20129),o=n(85297),s=n(73742),c=n(92560),l=n(84862),u=n(7616),d=function(t){function e(){return(0,a.Z)(this,e),(0,r.Z)(this,e,arguments)}return(0,o.Z)(e,t),(0,i.Z)(e)}(c.Kh);d.styles=l.W,d=(0,s.__decorate)([(0,u.Mo)("ha-list")],d)},39765:function(t,e,n){var i,a=n(54982),r=n(54521),o=n(4490),s=n(20129),c=n(85297),l=n(73742),u=n(69287),d=n(70840),h=n(59048),f=n(7616),p=n(31733),v=(n(64881),function(t){function e(){return(0,r.Z)(this,e),(0,s.Z)(this,e,arguments)}return(0,c.Z)(e,t),(0,o.Z)(e,[{key:"listElement",get:function(){return this.listElement_||(this.listElement_=this.renderRoot.querySelector("ha-list")),this.listElement_}},{key:"renderList",value:function(){var t="menu"===this.innerRole?"menuitem":"option",e=this.renderListClasses();return(0,h.dy)(i||(i=(0,a.Z)(['<ha-list rootTabbable .innerAriaLabel="','" .innerRole="','" .multi="','" class="','" .itemRoles="','" .wrapFocus="','" .activatable="','" @action="','"> <slot></slot> </ha-list>'])),this.innerAriaLabel,this.innerRole,this.multi,(0,p.$)(e),t,this.wrapFocus,this.activatable,this.onAction)}}])}(u.HB));v.styles=d.W,v=(0,l.__decorate)([(0,f.Mo)("ha-menu")],v)},19262:function(t,e,n){n.a(t,async function(t,e){try{var i=n(54521),a=n(4490),r=n(20129),o=n(85297),s=n(53389),c=(n(12212),n(73742)),l=n(78722),u=n(59048),d=n(7616),h=n(68135),f=n(53049),p=t([h]);h=(p.then?(await p)():p)[0];var v=function(t){function e(){var t;(0,i.Z)(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=(0,r.Z)(this,e,[].concat(a))).capitalize=!1,t}return(0,o.Z)(e,t),(0,a.Z)(e,[{key:"disconnectedCallback",value:function(){(0,s.Z)(e,"disconnectedCallback",this,3)([]),this._clearInterval()}},{key:"connectedCallback",value:function(){(0,s.Z)(e,"connectedCallback",this,3)([]),this.datetime&&this._startInterval()}},{key:"createRenderRoot",value:function(){return this}},{key:"firstUpdated",value:function(t){(0,s.Z)(e,"firstUpdated",this,3)([t]),this._updateRelative()}},{key:"update",value:function(t){(0,s.Z)(e,"update",this,3)([t]),this._updateRelative()}},{key:"_clearInterval",value:function(){this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}},{key:"_startInterval",value:function(){var t=this;this._clearInterval(),this._interval=window.setInterval(function(){return t._updateRelative()},6e4)}},{key:"_updateRelative",value:function(){if(this.datetime){var t="string"==typeof this.datetime?(0,l.D)(this.datetime):this.datetime,e=(0,h.G)(t,this.hass.locale);this.innerHTML=this.capitalize?(0,f.f)(e):e}else this.innerHTML=this.hass.localize("ui.components.relative_time.never")}}])}(u.fl);(0,c.__decorate)([(0,d.Cb)({attribute:!1})],v.prototype,"hass",void 0),(0,c.__decorate)([(0,d.Cb)({attribute:!1})],v.prototype,"datetime",void 0),(0,c.__decorate)([(0,d.Cb)({type:Boolean})],v.prototype,"capitalize",void 0),v=(0,c.__decorate)([(0,d.Mo)("ha-relative-time")],v),e()}catch(g){e(g)}})},73048:function(t,e,n){n.a(t,async function(t,e){try{var i,a,r,o,s=n(54982),c=n(54521),l=n(4490),u=n(20129),d=n(85297),h=n(73742),f=n(59048),p=n(7616),v=n(12790),g=n(6219),m=n(29402),_=(n(46358),n(993),t([m]));m=(_.then?(await _)():_)[0];var y=function(t){function e(){return(0,c.Z)(this,e),(0,u.Z)(this,e,arguments)}return(0,d.Z)(e,t),(0,l.Z)(e,[{key:"render",value:function(){var t,e,n=this,o=this.icon||this.stateObj&&(null===(t=this.hass)||void 0===t||null===(t=t.entities[this.stateObj.entity_id])||void 0===t?void 0:t.icon)||(null===(e=this.stateObj)||void 0===e?void 0:e.attributes.icon);if(o)return(0,f.dy)(i||(i=(0,s.Z)(['<ha-icon .icon="','"></ha-icon>'])),o);if(!this.stateObj)return f.Ld;if(!this.hass)return this._renderFallback();var c=(0,m.gD)(this.hass,this.stateObj,this.stateValue).then(function(t){return t?(0,f.dy)(a||(a=(0,s.Z)(['<ha-icon .icon="','"></ha-icon>'])),t):n._renderFallback()});return(0,f.dy)(r||(r=(0,s.Z)(["",""])),(0,v.C)(c))}},{key:"_renderFallback",value:function(){var t=(0,g.N)(this.stateObj);return(0,f.dy)(o||(o=(0,s.Z)([' <ha-svg-icon .path="','"></ha-svg-icon> '])),m.Ls[t]||m.Rb)}}])}(f.oi);(0,h.__decorate)([(0,p.Cb)({attribute:!1})],y.prototype,"hass",void 0),(0,h.__decorate)([(0,p.Cb)({attribute:!1})],y.prototype,"stateObj",void 0),(0,h.__decorate)([(0,p.Cb)({attribute:!1})],y.prototype,"stateValue",void 0),(0,h.__decorate)([(0,p.Cb)()],y.prototype,"icon",void 0),y=(0,h.__decorate)([(0,p.Mo)("ha-state-icon")],y),e()}catch(b){e(b)}})},80298:function(t,e,n){n.a(t,async function(t,e){try{var i=n(73742),a=n(52634),r=n(62685),o=n(59048),s=n(7616),c=n(75535),l=t([a]);a=(l.then?(await l)():l)[0];let u,d=t=>t;(0,c.jx)("tooltip.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:150,easing:"ease"}}),(0,c.jx)("tooltip.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:400,easing:"ease"}});class h extends a.Z{}h.styles=[r.Z,(0,o.iv)(u||(u=d`:host{--sl-tooltip-background-color:var(--secondary-background-color);--sl-tooltip-color:var(--primary-text-color);--sl-tooltip-font-family:var(
          --ha-tooltip-font-family,
          var(--ha-font-family-body)
        );--sl-tooltip-font-size:var(
          --ha-tooltip-font-size,
          var(--ha-font-size-s)
        );--sl-tooltip-font-weight:var(
          --ha-tooltip-font-weight,
          var(--ha-font-weight-normal)
        );--sl-tooltip-line-height:var(
          --ha-tooltip-line-height,
          var(--ha-line-height-condensed)
        );--sl-tooltip-padding:8px;--sl-tooltip-border-radius:var(--ha-tooltip-border-radius, 4px);--sl-tooltip-arrow-size:var(--ha-tooltip-arrow-size, 8px);--sl-z-index-tooltip:var(--ha-tooltip-z-index, 1000)}`))],h=(0,i.__decorate)([(0,s.Mo)("ha-tooltip")],h),e()}catch(u){e(u)}})},60673:function(t,e,n){n.d(e,{Cp:function(){return c},TZ:function(){return l},W2:function(){return s},YY:function(){return d},iI:function(){return o},j2:function(){return u},oT:function(){return r}});var i=n(29694),a=n(75778),r=(n(39710),n(24819),n(81738),n(6989),n(21700),n(87799),n(54480),n(1455),n(26086),n(56389),function(t){return t.map(function(t){if("string"!==t.type)return t;switch(t.name){case"username":return Object.assign(Object.assign({},t),{},{autocomplete:"username",autofocus:!0});case"password":return Object.assign(Object.assign({},t),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},t),{},{autocomplete:"one-time-code",autofocus:!0});default:return t}})}),o=function(t,e){return t.callWS({type:"auth/sign_path",path:e})},s=function(){var t=(0,a.Z)((0,i.Z)().m(function t(e,n,a,r){return(0,i.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"config/auth_provider/homeassistant/create",user_id:n,username:a,password:r}))},t)}));return function(e,n,i,a){return t.apply(this,arguments)}}(),c=function(t,e,n){return t.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:e,new_password:n})},l=function(t,e,n){return t.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:e,password:n})},u=function(t,e,n){return t.callWS({type:"config/auth_provider/homeassistant/admin_change_username",user_id:e,username:n})},d=function(t,e,n){return t.callWS({type:"auth/delete_all_refresh_tokens",token_type:e,delete_current_token:n})}},61447:function(t,e,n){n.d(e,{T9:function(){return g},kU:function(){return l},i4:function(){return f},sF:function(){return s},z9:function(){return x},nk:function(){return h},Mw:function(){return y},Ch:function(){return d},Lr:function(){return v},jU:function(){return u},Xn:function(){return _},r:function(){return m},B:function(){return w},ou:function(){return Z},zj:function(){return k},qW:function(){return c}});var i=n(29694),a=n(75778),r=(n(12212),n(87799),n(44261),function(){var t=(0,a.Z)((0,i.Z)().m(function t(e,n,a,r,o){var s,c,l,u,d,h,f=arguments;return(0,i.Z)().w(function(t){for(;;)switch(t.n){case 0:if((s=r[e])||(s=r[e]={}),!(c=s[o])){t.n=1;break}return t.a(2,c);case 1:for(l=f.length,u=new Array(l>5?l-5:0),d=5;d<l;d++)u[d-5]=f[d];return h=a.apply(void 0,[r,o].concat(u)),s[o]=h,h.then(function(){return setTimeout(function(){s[o]=void 0},n)},function(){s[o]=void 0}),t.a(2,h)}},t)}));return function(e,n,i,a,r){return t.apply(this,arguments)}}()),o=n(60673),s=[1,2,3,4,6,8],c=2,l="hls",u="web_rtc",d=function(t,e,n){return"".concat(t,"&width=").concat(e,"&height=").concat(n)},h=function(t){return"/api/camera_proxy_stream/".concat(t.entity_id,"?token=").concat(t.attributes.access_token)},f=function(){var t=(0,a.Z)((0,i.Z)().m(function t(e,n,a,o){var s;return(0,i.Z)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r("_cameraTmbUrl",9e3,p,e,n);case 1:return s=t.v,t.a(2,d(s,a,o))}},t)}));return function(e,n,i,a){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,i.Z)().m(function t(e,n){var a;return(0,i.Z)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,o.iI)(e,"/api/camera_proxy/".concat(n));case 1:return a=t.v,t.a(2,e.hassUrl(a.path))}},t)}));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var t=(0,a.Z)((0,i.Z)().m(function t(e,n,a){var r,o;return(0,i.Z)().w(function(t){for(;;)switch(t.n){case 0:return r={type:"camera/stream",entity_id:n},a&&(r.format=a),t.n=1,e.callWS(r);case 1:return(o=t.v).url=e.hassUrl(o.url),t.a(2,o)}},t)}));return function(e,n,i){return t.apply(this,arguments)}}(),g=function(t,e,n,i){return t.connection.subscribeMessage(i,{type:"camera/webrtc/offer",entity_id:e,offer:n})},m=function(t,e,n,i){return t.callWS({type:"camera/webrtc/candidate",entity_id:e,session_id:n,candidate:i})},_=function(t,e){return t.callWS({type:"camera/get_prefs",entity_id:e})},y=function(t,e,n){return t.callWS(Object.assign({type:"camera/update_prefs",entity_id:e},n))},b="media-source://camera/",w=function(t){return t.startsWith(b)},k=function(t){return t.substring(22)},Z=function(){var t=(0,a.Z)((0,i.Z)().m(function t(e,n){return(0,i.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"camera/capabilities",entity_id:n}))},t)}));return function(e,n){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)((0,i.Z)().m(function t(e,n){return(0,i.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"camera/webrtc/get_client_config",entity_id:n}))},t)}));return function(e,n){return t.apply(this,arguments)}}()},55211:function(t,e,n){n.d(e,{N5:function(){return s},fu:function(){return o},jg:function(){return r},z3:function(){return a}});var i=n(75706),a=(n(87622),n(2394),n(87799),n(36221),n(44435),function(t,e){return t.callWS(Object.assign({type:"config/floor_registry/create"},e))}),r=function(t,e,n){return t.callWS(Object.assign({type:"config/floor_registry/update",floor_id:e},n))},o=function(t,e){return t.callWS({type:"config/floor_registry/delete",floor_id:e})},s=function(t){var e,n={},a=(0,i.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;r.floor_id&&(r.floor_id in n||(n[r.floor_id]=[]),n[r.floor_id].push(r))}}catch(o){a.e(o)}finally{a.f()}return n}},2528:function(t,e,n){n.d(e,{K:function(){return a},c:function(){return i}});n(26847),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(27530);const i=new Set(["automation","script","scene","group"]),a=(t,e,n)=>t.callWS({type:"search/related",item_type:e,item_id:n})},58747:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{EX:function(){return v},Fj:function(){return x},M$:function(){return C},SO:function(){return g},Sk:function(){return _},TN:function(){return L},UJ:function(){return y},Ym:function(){return A},hF:function(){return m}});var a=n(29694),r=n(75778),o=(n(25518),n(24819),n(18574),n(81738),n(94814),n(6989),n(54480),n(69920),n(1455),n(40141)),s=n(44272),c=n(6219),l=n(36590),u=n(28598),d=n(36221),h=n(72242),f=n(35982),p=t([u]);u=(p.then?(await p)():p)[0];var v=function(t){return t[t.INSTALL=1]="INSTALL",t[t.SPECIFIC_VERSION=2]="SPECIFIC_VERSION",t[t.PROGRESS=4]="PROGRESS",t[t.BACKUP=8]="BACKUP",t[t.RELEASE_NOTES=16]="RELEASE_NOTES",t}({}),g=function(t){return(0,l.e)(t,4)&&null!==t.attributes.update_percentage},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t.state===o.uo||e&&Boolean(t.attributes.skipped_version))&&(0,l.e)(t,1)},_=function(t){return!!t.attributes.in_progress},y=function(t,e){return t.callWS({type:"update/release_notes",entity_id:e})},b="Home Assistant Core",w="Home Assistant Supervisor",k="Home Assistant Operating System",Z=function(t,e){return Object.values(t).filter(function(t){return"update"===(0,c.N)(t)}).sort(function(t,n){return t.attributes.title===b?-3:n.attributes.title===b?3:t.attributes.title===k?-2:n.attributes.title===k?2:t.attributes.title===w?-1:n.attributes.title===w?1:(0,d.fe)(t.attributes.title||t.attributes.friendly_name||"",n.attributes.title||n.attributes.friendly_name||"",e)})},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Z(t).filter(function(t){return m(t,e)})},C=function(){var t=(0,r.Z)((0,a.Z)().m(function t(e,n){var i,r,o;return(0,a.Z)().w(function(t){for(;;)switch(t.n){case 0:if((i=Z(n.states,n.locale.language).map(function(t){return t.entity_id})).length){t.n=1;break}return(0,h.showAlertDialog)(e,{title:n.localize("ui.panel.config.updates.no_update_entities.title"),text:n.localize("ui.panel.config.updates.no_update_entities.description"),warning:!0}),t.a(2);case 1:return(0,f.C)(e,{message:n.localize("ui.panel.config.updates.checking_updates")}),r=0,t.n=2,n.connection.subscribeEvents(function(t){"update"===(0,s.M)(t.data.entity_id)&&(r++,(0,f.C)(e,{message:n.localize("ui.panel.config.updates.updates_refreshed",{count:r})}))},"state_changed");case 2:return o=t.v,t.n=3,n.callService("homeassistant","update_entity",{entity_id:i});case 3:return t.n=4,new Promise(function(t){setTimeout(t,15e3)});case 4:o(),0===r&&(0,f.C)(e,{message:n.localize("ui.panel.config.updates.no_new_updates")});case 5:return t.a(2)}},t)}));return function(e,n){return t.apply(this,arguments)}}(),A=function(t,e){var n=t.state,i=t.attributes;if("off"===n)return i.latest_version&&i.skipped_version===i.latest_version?i.latest_version:e.formatEntityState(t);if("on"===n&&_(t))return(0,l.e)(t,4)&&null!==i.update_percentage?e.localize("ui.card.update.installing_with_progress",{progress:(0,u.uf)(i.update_percentage,e.locale,{maximumFractionDigits:i.display_precision,minimumFractionDigits:i.display_precision})}):e.localize("ui.card.update.installing");return e.formatEntityState(t)},L=function(t,e){var n;if("hassio"!==(null===(n=e[t.entity_id])||void 0===n?void 0:n.domain))return"generic";var i=t.attributes.title||"";return i===b?"home_assistant":i===k?"home_assistant_os":i!==w?"addon":"generic"};i()}catch(M){i(M)}})},99918:function(t,e,n){n.d(e,{CE:function(){return o},FH:function(){return h},Nq:function(){return l},Pb:function(){return r},fm:function(){return d},h8:function(){return u},r4:function(){return c},uh:function(){return s}});var i=n(29694),a=n(75778),r=(n(24819),n(2394),n(69643),n(81738),n(6989),n(87799),n(54480),n(20655),"system-admin"),o="system-users",s=function(){var t=(0,a.Z)((0,i.Z)().m(function t(e){return(0,i.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"config/auth/list"}))},t)}));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=(0,a.Z)((0,i.Z)().m(function t(e,n,a,r){return(0,i.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"config/auth/create",name:n,group_ids:a,local_only:r}))},t)}));return function(e,n,i,a){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,i.Z)().m(function t(e,n,a){return(0,i.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS(Object.assign(Object.assign({},a),{},{type:"config/auth/update",user_id:n})))},t)}));return function(e,n,i){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.Z)((0,i.Z)().m(function t(e,n){return(0,i.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"config/auth/delete",user_id:n}))},t)}));return function(e,n){return t.apply(this,arguments)}}(),d=function(t){return t?t.trim().split(" ").slice(0,3).map(function(t){return t.substring(0,1)}).join(""):"?"},h=function(t,e,n){var i=[],a=function(e){return t.localize("ui.panel.config.users.".concat(e))};return e.is_owner&&i.push(["M12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22S22 17.5 22 12 17.5 2 12 2M12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4S20 7.58 20 12C20 16.42 16.42 20 12 20M8 14L7 8L10 10L12 7L14 10L17 8L16 14H8M8.56 16C8.22 16 8 15.78 8 15.44V15H16V15.44C16 15.78 15.78 16 15.44 16H8.56Z",a("is_owner")]),n&&e.system_generated&&i.push(["M11,7H15V9H11V11H13A2,2 0 0,1 15,13V15A2,2 0 0,1 13,17H9V15H13V13H11A2,2 0 0,1 9,11V9A2,2 0 0,1 11,7M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z",a("is_system")]),e.local_only&&i.push(["M12 20C7.6 20 4 16.4 4 12S7.6 4 12 4 20 7.6 20 12 16.4 20 12 20M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M11 14H13V17H16V12H18L12 7L6 12H8V17H11V14",a("is_local")]),e.is_active||i.push(["M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z",a("is_not_active")]),i}},99469:function(t,e,n){n.d(e,{A:function(){return a}});var i=n(39884),a=function(t,e){return(0,i.B)(t,"hass-more-info",e)}},91793:function(t,e,n){n.r(e);var i,a,r,o,s,c=n(54982),l=n(54521),u=n(4490),d=n(20129),h=n(85297),f=(n(12212),n(73742)),p=(n(98334),n(59048)),v=n(7616),g=(n(45109),n(11969),n(12942),function(t){function e(){var t;(0,l.Z)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=(0,d.Z)(this,e,[].concat(i))).toolbar=!0,t.rootnav=!1,t.narrow=!1,t}return(0,h.Z)(e,t),(0,u.Z)(e,[{key:"render",value:function(){var t,e;return(0,p.dy)(i||(i=(0,c.Z)([" ",' <div class="content"> <ha-alert alert-type="error">','</ha-alert> <slot> <mwc-button @click="','"> '," </mwc-button> </slot> </div> "])),this.toolbar?(0,p.dy)(a||(a=(0,c.Z)(['<div class="toolbar"> '," </div>"])),this.rootnav||null!==(t=history.state)&&void 0!==t&&t.root?(0,p.dy)(r||(r=(0,c.Z)([' <ha-menu-button .hass="','" .narrow="','"></ha-menu-button> '])),this.hass,this.narrow):(0,p.dy)(o||(o=(0,c.Z)([' <ha-icon-button-arrow-prev .hass="','" @click="','"></ha-icon-button-arrow-prev> '])),this.hass,this._handleBack)):"",this.error,this._handleBack,null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.back"))}},{key:"_handleBack",value:function(){history.back()}}],[{key:"styles",get:function(){return[(0,p.iv)(s||(s=(0,c.Z)([":host{display:block;height:100%;background-color:var(--primary-background-color)}.toolbar{display:flex;align-items:center;font-size:var(--ha-font-size-xl);height:var(--header-height);padding:8px 12px;pointer-events:none;background-color:var(--app-header-background-color);font-weight:var(--ha-font-weight-normal);color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}ha-icon-button-arrow-prev{pointer-events:auto}.content{color:var(--primary-text-color);height:calc(100% - var(--header-height));display:flex;padding:16px;align-items:center;justify-content:center;flex-direction:column;box-sizing:border-box}a{color:var(--primary-color)}ha-alert{margin-bottom:16px}"])))]}}])}(p.oi));(0,f.__decorate)([(0,v.Cb)({attribute:!1})],g.prototype,"hass",void 0),(0,f.__decorate)([(0,v.Cb)({type:Boolean})],g.prototype,"toolbar",void 0),(0,f.__decorate)([(0,v.Cb)({type:Boolean})],g.prototype,"rootnav",void 0),(0,f.__decorate)([(0,v.Cb)({type:Boolean})],g.prototype,"narrow",void 0),(0,f.__decorate)([(0,v.Cb)()],g.prototype,"error",void 0),g=(0,f.__decorate)([(0,v.Mo)("hass-error-screen")],g)},51869:function(t,e,n){var i,a,r,o,s,c=n(54982),l=n(54521),u=n(4490),d=n(20129),h=n(85297),f=(n(12212),n(73742)),p=n(59048),v=n(7616),g=n(89868),m=(n(45109),n(11969),n(95814)),_=function(t){function e(){var t;(0,l.Z)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=(0,d.Z)(this,e,[].concat(i))).mainPage=!1,t.narrow=!1,t.supervisor=!1,t}return(0,h.Z)(e,t),(0,u.Z)(e,[{key:"render",value:function(){var t;return(0,p.dy)(i||(i=(0,c.Z)([' <div class="toolbar"> ',' <div class="main-title"><slot name="header">','</slot></div> <slot name="toolbar-icon"></slot> </div> <div class="content ha-scrollbar" @scroll="','"> <slot></slot> </div> <div id="fab"> <slot name="fab"></slot> </div> '])),this.mainPage||null!==(t=history.state)&&void 0!==t&&t.root?(0,p.dy)(a||(a=(0,c.Z)([' <ha-menu-button .hassio="','" .hass="','" .narrow="','"></ha-menu-button> '])),this.supervisor,this.hass,this.narrow):this.backPath?(0,p.dy)(r||(r=(0,c.Z)([' <a href="','"> <ha-icon-button-arrow-prev .hass="','"></ha-icon-button-arrow-prev> </a> '])),this.backPath,this.hass):(0,p.dy)(o||(o=(0,c.Z)([' <ha-icon-button-arrow-prev .hass="','" @click="','"></ha-icon-button-arrow-prev> '])),this.hass,this._backTapped),this.header,this._saveScrollPos)}},{key:"_saveScrollPos",value:function(t){this._savedScrollPos=t.target.scrollTop}},{key:"_backTapped",value:function(){this.backCallback?this.backCallback():history.back()}}],[{key:"styles",get:function(){return[m.$c,(0,p.iv)(s||(s=(0,c.Z)([":host{display:block;height:100%;background-color:var(--primary-background-color);overflow:hidden;position:relative}:host([narrow]){width:100%;position:fixed}.toolbar{display:flex;align-items:center;font-size:var(--ha-font-size-xl);height:var(--header-height);padding:8px 12px;background-color:var(--app-header-background-color);font-weight:var(--ha-font-weight-normal);color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{margin:var(--margin-title);line-height:var(--ha-line-height-normal);min-width:0;flex-grow:1;overflow-wrap:break-word;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;padding-bottom:1px}.content{position:relative;width:100%;height:calc(100% - 1px - var(--header-height));overflow-y:auto;overflow:auto;-webkit-overflow-scrolling:touch}#fab{position:absolute;right:calc(16px + var(--safe-area-inset-right));inset-inline-end:calc(16px + var(--safe-area-inset-right));inset-inline-start:initial;bottom:calc(16px + var(--safe-area-inset-bottom));z-index:1;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:8px}:host([narrow]) #fab.tabs{bottom:calc(84px + var(--safe-area-inset-bottom))}#fab[is-wide]{bottom:24px;right:24px;inset-inline-end:24px;inset-inline-start:initial}"])))]}}])}(p.oi);(0,f.__decorate)([(0,v.Cb)({attribute:!1})],_.prototype,"hass",void 0),(0,f.__decorate)([(0,v.Cb)()],_.prototype,"header",void 0),(0,f.__decorate)([(0,v.Cb)({type:Boolean,attribute:"main-page"})],_.prototype,"mainPage",void 0),(0,f.__decorate)([(0,v.Cb)({type:String,attribute:"back-path"})],_.prototype,"backPath",void 0),(0,f.__decorate)([(0,v.Cb)({attribute:!1})],_.prototype,"backCallback",void 0),(0,f.__decorate)([(0,v.Cb)({type:Boolean,reflect:!0})],_.prototype,"narrow",void 0),(0,f.__decorate)([(0,v.Cb)({type:Boolean})],_.prototype,"supervisor",void 0),(0,f.__decorate)([(0,g.i)(".content")],_.prototype,"_savedScrollPos",void 0),(0,f.__decorate)([(0,v.hO)({passive:!0})],_.prototype,"_saveScrollPos",null),_=(0,f.__decorate)([(0,v.Mo)("hass-subpage")],_)},75295:function(t,e,n){n.a(t,async function(t,e){try{var i,a,r,o,s,c,l,u,d,h,f,p,v,g,m,_,y,b,w,k,Z,x,C,A,L,M,H,z,S,V=n(29694),E=n(75778),I=n(54982),O=n(75706),T=n(54521),B=n(4490),j=n(20129),N=n(85297),W=n(53389),D=(n(12212),n(70021),n(55204),n(39710),n(26847),n(24819),n(2394),n(18574),n(81738),n(29981),n(22960),n(6989),n(7175),n(54480),n(69920),n(48694),n(67398),n(27530),n(73742)),P=n(72644),F=(n(98334),n(59048)),R=n(7616),U=n(25191),$=n(28105),q=n(37528),G=n(58125),Y=n(44272),K=n(15459),Q=n(36221),X=n(64564),J=n(65863),tt=(n(41037),n(31138),n(48017),n(5786),n(69760),n(64881),n(80298)),et=n(85993),nt=n(97133),it=n(28905),at=n(70947),rt=n(2528),ot=n(72242),st=n(99469),ct=(n(91793),n(51869),n(95814)),lt=n(25624),ut=n(2609),dt=t([tt,lt]);[tt,lt]=dt.then?(await dt)():dt;var ht="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",ft=function(t){function e(){var t;(0,T.Z)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=(0,j.Z)(this,e,[].concat(i))).narrow=!1,t.isWide=!1,t.showAdvanced=!1,t._logbookTime={recent:86400},t._memberships=(0,$.Z)(function(t,e,n){var i,a=new Map,r=(0,O.Z)(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.area_id===t&&a.set(o.id,o)}}catch(h){r.e(h)}finally{r.f()}var s,c=[],l=[],u=(0,O.Z)(n);try{for(u.s();!(s=u.n()).done;){var d=s.value;d.area_id?d.area_id===t&&c.push(d):d.device_id&&a.has(d.device_id)&&l.push(d)}}catch(h){u.e(h)}finally{u.f()}return{devices:Array.from(a.values()),entities:c,indirectEntities:l}}),t._allDeviceIds=(0,$.Z)(function(t){return t.map(function(t){return t.id})}),t._allEntities=(0,$.Z)(function(t){return t.entities.map(function(t){return t.entity_id}).concat(t.indirectEntities.map(function(t){return t.entity_id}))}),t}return(0,N.Z)(e,t),(0,B.Z)(e,[{key:"firstUpdated",value:function(t){(0,W.Z)(e,"firstUpdated",this,3)([t]),(0,ut.O)()}},{key:"updated",value:function(t){(0,W.Z)(e,"updated",this,3)([t]),t.has("areaId")&&this._findRelated()}},{key:"render",value:function(){var t,e,n,M,H,z,S,V,E,O,T,B,j=this;if(!this.hass.areas||!this.hass.devices||!this.hass.entities)return F.Ld;var N=this.hass.areas[this.areaId];if(!N)return(0,F.dy)(i||(i=(0,I.Z)([' <hass-error-screen .hass="','" .error="','"></hass-error-screen> '])),this.hass,this.hass.localize("ui.panel.config.areas.area_not_found"));var W=this._memberships(this.areaId,Object.values(this.hass.devices),this._entityReg),D=W.devices,P=W.entities;D&&(D.forEach(function(t){t.name=(0,G.wZ)(t,j.hass)}),(0,it.Wg)(D,this.hass.locale.language)),P&&(P.forEach(function(t){t.name=(0,at.vA)(j.hass,t)}),(0,at._V)(P,this.hass.locale.language));var R=(0,X.v)(P,function(t){return(0,Y.M)(t.entity_id)}),U=[],$=[],K=[],Q=[],J=[],tt=[];if((0,q.p)(this.hass,"automation")){var et,nt=this._prepareEntities(R.automation,null===(et=this._related)||void 0===et?void 0:et.automation);U=nt.groupedEntities,Q=nt.relatedEntities}if((0,q.p)(this.hass,"scene")){var rt,ot=this._prepareEntities(R.scene,null===(rt=this._related)||void 0===rt?void 0:rt.scene);$=ot.groupedEntities,J=ot.relatedEntities}if((0,q.p)(this.hass,"script")){var st,ct=this._prepareEntities(R.script,null===(st=this._related)||void 0===st?void 0:st.script);K=ct.groupedEntities,tt=ct.relatedEntities}return(0,F.dy)(a||(a=(0,I.Z)([' <hass-subpage .hass="','" .narrow="','" .header="','"> <ha-button-menu slot="toolbar-icon"> <ha-icon-button slot="trigger" .label="','" .path="','"></ha-icon-button> <ha-list-item graphic="icon" .entry="','" @click="','"> ',' <ha-svg-icon slot="graphic" .path="','"> </ha-svg-icon> </ha-list-item> <ha-list-item class="warning" graphic="icon" @click="','"> ',' <ha-svg-icon class="warning" slot="graphic" .path="','"> </ha-svg-icon> </ha-list-item> </ha-button-menu> <div class="container"> <div class="column"> ',' <ha-card outlined .header="','">',' </ha-card> <ha-card outlined .header="','"> ',' </ha-card> </div> <div class="column"> '," "," ",' </div> <div class="column"> '," </div> </div> </hass-subpage> "])),this.hass,this.narrow,(0,F.dy)(r||(r=(0,I.Z)(["","",""])),N.icon?(0,F.dy)(o||(o=(0,I.Z)(['<ha-icon .icon="','" style="margin-inline-end:8px"></ha-icon>'])),N.icon):F.Ld,N.name),this.hass.localize("ui.common.menu"),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",N,this._showSettings,this.hass.localize("ui.panel.config.areas.edit_settings"),ht,this._deleteConfirm,this.hass.localize("ui.panel.config.areas.editor.delete"),"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",N.picture?(0,F.dy)(s||(s=(0,I.Z)(['<div class="img-container"> <img alt="','" src="','"> <ha-icon-button .path="','" .entry="','" @click="','" .label="','" class="img-edit-btn"></ha-icon-button> </div>'])),N.name,N.picture,ht,N,this._showSettings,this.hass.localize("ui.panel.config.areas.edit_settings")):(0,F.dy)(c||(c=(0,I.Z)(['<mwc-button .entry="','" @click="','" .label="','"> <ha-svg-icon .path="','" slot="icon"></ha-svg-icon> </mwc-button>'])),N,this._showSettings,this.hass.localize("ui.panel.config.areas.add_picture"),"M18 15V18H15V20H18V23H20V20H23V18H20V15H18M13.3 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5V13.3C20.4 13.1 19.7 13 19 13C17.9 13 16.8 13.3 15.9 13.9L14.5 12L11 16.5L8.5 13.5L5 18H13.1C13 18.3 13 18.7 13 19C13 19.7 13.1 20.4 13.3 21Z"),this.hass.localize("ui.panel.config.devices.caption"),D.length?(0,F.dy)(l||(l=(0,I.Z)(["<ha-list> "," </ha-list>"])),D.map(function(t){return(0,F.dy)(u||(u=(0,I.Z)([' <a href="/config/devices/device/','"> <ha-list-item hasMeta> <span>','</span> <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a> '])),t.id,t.name)})):(0,F.dy)(d||(d=(0,I.Z)([' <div class="no-entries"> '," </div> "])),this.hass.localize("ui.panel.config.devices.no_devices")),this.hass.localize("ui.panel.config.areas.editor.linked_entities_caption"),P.length?(0,F.dy)(h||(h=(0,I.Z)(["<ha-list> ","</ha-list>"])),P.map(function(t){return["scene","script","automation"].includes((0,Y.M)(t.entity_id))?"":(0,F.dy)(f||(f=(0,I.Z)([' <ha-list-item @click="','" .entity="','" hasMeta> <span>','</span> <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> '])),j._openEntity,t,t.name)})):(0,F.dy)(p||(p=(0,I.Z)([' <div class="no-entries"> '," </div> "])),this.hass.localize("ui.panel.config.areas.editor.no_linked_entities")),(0,q.p)(this.hass,"automation")?(0,F.dy)(v||(v=(0,I.Z)([' <ha-card outlined .header="','"> '," "," "," </ha-card> "])),this.hass.localize("ui.panel.config.devices.automation.automations_heading"),null!==(t=U)&&void 0!==t&&t.length?(0,F.dy)(g||(g=(0,I.Z)(["<h3> ",": </h3> <ha-list> ","</ha-list>"])),this.hass.localize("ui.panel.config.areas.assigned_to_area"),U.map(function(t){return j._renderAutomation(t.name,t.entity)})):"",null!==(e=Q)&&void 0!==e&&e.length?(0,F.dy)(m||(m=(0,I.Z)(["<h3> ",": </h3> <ha-list> ","</ha-list>"])),this.hass.localize("ui.panel.config.areas.targeting_area"),Q.map(function(t){return j._renderAutomation(t.name,t.entity)})):"",null!==(n=U)&&void 0!==n&&n.length||null!==(M=Q)&&void 0!==M&&M.length?"":(0,F.dy)(_||(_=(0,I.Z)([' <div class="no-entries"> '," </div> "])),this.hass.localize("ui.panel.config.devices.automation.no_automations"))):"",(0,q.p)(this.hass,"scene")?(0,F.dy)(y||(y=(0,I.Z)([' <ha-card outlined .header="','"> '," "," "," </ha-card> "])),this.hass.localize("ui.panel.config.devices.scene.scenes_heading"),null!==(H=$)&&void 0!==H&&H.length?(0,F.dy)(b||(b=(0,I.Z)(["<h3> ",": </h3> <ha-list> ","</ha-list>"])),this.hass.localize("ui.panel.config.areas.assigned_to_area"),$.map(function(t){return j._renderScene(t.name,t.entity)})):"",null!==(z=J)&&void 0!==z&&z.length?(0,F.dy)(w||(w=(0,I.Z)(["<h3> ",": </h3> <ha-list> ","</ha-list>"])),this.hass.localize("ui.panel.config.areas.targeting_area"),J.map(function(t){return j._renderScene(t.name,t.entity)})):"",null!==(S=$)&&void 0!==S&&S.length||null!==(V=J)&&void 0!==V&&V.length?"":(0,F.dy)(k||(k=(0,I.Z)([' <div class="no-entries"> '," </div> "])),this.hass.localize("ui.panel.config.devices.scene.no_scenes"))):"",(0,q.p)(this.hass,"script")?(0,F.dy)(Z||(Z=(0,I.Z)([' <ha-card outlined .header="','"> '," "," "," </ha-card> "])),this.hass.localize("ui.panel.config.devices.script.scripts_heading"),null!==(E=K)&&void 0!==E&&E.length?(0,F.dy)(x||(x=(0,I.Z)(["<h3> ",": </h3> ",""])),this.hass.localize("ui.panel.config.areas.assigned_to_area"),K.map(function(t){return j._renderScript(t.name,t.entity)})):"",null!==(O=tt)&&void 0!==O&&O.length?(0,F.dy)(C||(C=(0,I.Z)(["<h3> ",": </h3> ",""])),this.hass.localize("ui.panel.config.areas.targeting_area"),tt.map(function(t){return j._renderScript(t.name,t.entity)})):"",null!==(T=K)&&void 0!==T&&T.length||null!==(B=tt)&&void 0!==B&&B.length?"":(0,F.dy)(A||(A=(0,I.Z)([' <div class="no-entries"> '," </div> "])),this.hass.localize("ui.panel.config.devices.script.no_scripts"))):"",(0,q.p)(this.hass,"logbook")?(0,F.dy)(L||(L=(0,I.Z)([' <ha-card outlined .header="','"> <ha-logbook .hass="','" .time="','" .entityIds="','" .deviceIds="','" virtualize narrow no-icon></ha-logbook> </ha-card> '])),this.hass.localize("panel.logbook"),this.hass,this._logbookTime,this._allEntities(W),this._allDeviceIds(W.devices)):"")}},{key:"_prepareEntities",value:function(t,e){var n=this,i=[],a=[];return null!=t&&t.length&&(t.forEach(function(t){var e=n.hass.states[t.entity_id];e&&i.push({name:(0,K.C)(e),entity:e})}),i.sort(function(t,e){return(0,Q.fe)(t.name,e.name,n.hass.locale.language)})),null!=e&&e.length&&(e.forEach(function(t){var e=n.hass.states[t];e&&a.push({name:e?(0,K.C)(e):"",entity:e})}),a.sort(function(t,e){return(0,Q.fe)(t.name,e.name,n.hass.locale.language)})),{groupedEntities:i,relatedEntities:a}}},{key:"_renderScene",value:function(t,e){return(0,F.dy)(M||(M=(0,I.Z)(['<ha-tooltip .distance="','" .disabled="','" .content="','"> <a href="','"> <ha-list-item .disabled="','" hasMeta> <span>','</span> <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a> </ha-tooltip>'])),-4,!!e.attributes.id,this.hass.localize("ui.panel.config.devices.cant_edit"),(0,U.o)(e.attributes.id?"/config/scene/edit/".concat(e.attributes.id):void 0),!e.attributes.id,t)}},{key:"_renderAutomation",value:function(t,e){return(0,F.dy)(H||(H=(0,I.Z)(['<ha-tooltip .disabled="','" .distance="','" .content="','"> <a href="','"> <ha-list-item .disabled="','" hasMeta> <span>','</span> <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a> </ha-tooltip>'])),!!e.attributes.id,-4,this.hass.localize("ui.panel.config.devices.cant_edit"),(0,U.o)(e.attributes.id?"/config/automation/edit/".concat(encodeURIComponent(e.attributes.id)):void 0),!e.attributes.id,t)}},{key:"_renderScript",value:function(t,e){var n=this._entityReg.find(function(t){return t.entity_id===e.entity_id}),i="/config/script/show/".concat(e.entity_id);return n&&(i="/config/script/edit/".concat(n.unique_id)),(0,F.dy)(z||(z=(0,I.Z)(['<a href="','"> <ha-list-item hasMeta> <span>','</span> <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a>'])),i,t)}},{key:"_findRelated",value:(D=(0,E.Z)((0,V.Z)().m(function t(){return(0,V.Z)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,rt.K)(this.hass,"area",this.areaId);case 1:this._related=t.v;case 2:return t.a(2)}},t,this)})),function(){return D.apply(this,arguments)})},{key:"_showSettings",value:function(t){var e=t.currentTarget.entry;this._openDialog(e)}},{key:"_openEntity",value:function(t){var e=t.currentTarget.entity;(0,st.A)(this,{entityId:e.entity_id})}},{key:"_openDialog",value:function(t){var e,n=this;(0,ut.E)(this,{entry:t,updateEntry:(e=(0,E.Z)((0,V.Z)().m(function e(i){return(0,V.Z)().w(function(e){for(;;)if(0===e.n)return e.a(2,(0,et.IO)(n.hass,t.area_id,i))},e)})),function(t){return e.apply(this,arguments)})})}},{key:"_deleteConfirm",value:(n=(0,E.Z)((0,V.Z)().m(function t(){var e,n=this;return(0,V.Z)().w(function(t){for(;;)switch(t.n){case 0:e=this.hass.areas[this.areaId],(0,ot.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.areas.delete.confirmation_title",{name:e.name}),text:this.hass.localize("ui.panel.config.areas.delete.confirmation_text"),dismissText:this.hass.localize("ui.common.cancel"),confirmText:this.hass.localize("ui.common.delete"),destructive:!0,confirm:function(){var t=(0,E.Z)((0,V.Z)().m(function t(){return(0,V.Z)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,et.qv)(n.hass,e.area_id);case 1:(0,J.T)(function(){return history.back()});case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()});case 1:return t.a(2)}},t,this)})),function(){return n.apply(this,arguments)})}],[{key:"styles",get:function(){return[ct.Qx,(0,F.iv)(S||(S=(0,I.Z)(['h3{margin:0;padding:0 16px;font-weight:var(--ha-font-weight-medium);color:var(--secondary-text-color)}img{border-radius:var(--ha-card-border-radius,12px);width:100%}.container{display:flex;flex-wrap:wrap;margin:auto;max-width:1000px;margin-top:32px;margin-bottom:32px}.column{padding:8px;box-sizing:border-box;width:33%;flex-grow:1}.fullwidth{padding:8px;width:100%}.column>:not(:first-child){margin-top:16px}:host([narrow]) .column{width:100%}:host([narrow]) .container{margin-top:0}a{text-decoration:none;color:var(--primary-text-color)}ha-card>a:first-child{display:block}ha-card>:first-child{margin-top:-16px}.img-container{position:relative}.img-edit-btn{position:absolute;top:4px;right:4px;inset-inline-end:4px;inset-inline-start:initial;display:none}.img-container:hover .img-edit-btn{display:block}.img-edit-btn::before{content:"";position:absolute;width:100%;height:100%;background-color:var(--card-background-color);opacity:.5;border-radius:50%}ha-logbook{height:400px}:host([narrow]) ha-logbook{height:235px;overflow:auto}.no-entries{text-align:center;padding:16px;color:var(--secondary-text-color)}mwc-button>ha-svg-icon{margin-inline-start:0;margin-inline-end:8px}'])))]}}]);var n,D}(F.oi);(0,D.__decorate)([(0,R.Cb)({attribute:!1})],ft.prototype,"hass",void 0),(0,D.__decorate)([(0,R.Cb)({attribute:!1})],ft.prototype,"areaId",void 0),(0,D.__decorate)([(0,R.Cb)({type:Boolean,reflect:!0})],ft.prototype,"narrow",void 0),(0,D.__decorate)([(0,R.Cb)({attribute:"is-wide",type:Boolean})],ft.prototype,"isWide",void 0),(0,D.__decorate)([(0,R.Cb)({attribute:!1})],ft.prototype,"showAdvanced",void 0),(0,D.__decorate)([(0,R.SB)(),(0,P.F_)({context:nt.we,subscribe:!0})],ft.prototype,"_entityReg",void 0),(0,D.__decorate)([(0,R.SB)()],ft.prototype,"_related",void 0),ft=(0,D.__decorate)([(0,R.Mo)("ha-config-area-page")],ft),e()}catch(pt){e(pt)}})},51306:function(t,e,n){n.a(t,async function(t,e){try{var i,a,r,o,s,c,l,u=n(29694),d=n(75778),h=n(54982),f=n(54521),p=n(4490),v=n(20129),g=n(85297),m=n(53389),_=(n(12212),n(25518),n(24819),n(81738),n(94814),n(22960),n(6989),n(87799),n(54480),n(69920),n(67398),n(73742)),y=n(59048),b=n(7616),w=n(20480),k=n(28105),Z=n(65797),x=(n(80471),n(5865),n(48017),n(69760),n(21409),n(993),n(85993)),C=n(55211),A=n(72242),L=(n(92622),n(3301),n(94590)),M=n(2609),H=n(27172),z=t([Z]);Z=(z.then?(await z)():z)[0];var S="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",V="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",E="__unassigned__",I={sort:!1,delay:500,delayOnTouchOnly:!0},O=function(t){function e(){var t;(0,f.Z)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=(0,v.Z)(this,e,[].concat(i))).isWide=!1,t.narrow=!1,t._areas=[],t._processAreas=(0,k.Z)(function(t,e,n,i){var a=function(t){for(var i=0,a=0,r=0,o=0,s=Object.values(e);o<s.length;o++){var c=s[o];c.area_id===t.area_id&&("service"===c.entry_type?a++:i++)}for(var l=0,u=Object.values(n);l<u.length;l++){u[l].area_id===t.area_id&&r++}return Object.assign(Object.assign({},t),{},{devices:i,services:a,entities:r})},r=(0,C.N5)(t),o=t.filter(function(t){return!t.floor_id||!r[t.floor_id]});return{floors:Object.values(i).map(function(t){return Object.assign(Object.assign({},t),{},{areas:(r[t.floor_id]||[]).map(a)})}),unassignedAreas:o.map(a)}}),t}return(0,g.Z)(e,t),(0,p.Z)(e,[{key:"willUpdate",value:function(t){if((0,m.Z)(e,"willUpdate",this,3)([t]),t.has("hass")){var n=t.get("hass");this.hass.areas!==(null==n?void 0:n.areas)&&(this._areas=Object.values(this.hass.areas))}}},{key:"render",value:function(){var t=this,e=this.hass.areas&&this.hass.devices&&this.hass.entities&&this.hass.floors?this._processAreas(this._areas,this.hass.devices,this.hass.entities,this.hass.floors):void 0;return(0,y.dy)(i||(i=(0,h.Z)([' <hass-tabs-subpage .hass="','" .narrow="','" .isWide="','" back-path="/config" .tabs="','" .route="','" has-fab> <ha-icon-button slot="toolbar-icon" .label="','" .path="','" @click="','"></ha-icon-button> <div class="container"> '," ",' </div> <ha-fab slot="fab" class="floor" .label="','" extended @click="','"> <ha-svg-icon slot="icon" .path="','"></ha-svg-icon> </ha-fab> <ha-fab slot="fab" .label="','" extended @click="','"> <ha-svg-icon slot="icon" .path="','"></ha-svg-icon> </ha-fab> </hass-tabs-subpage> '])),this.hass,this.narrow,this.isWide,L.configSections.areas,this.route,this.hass.localize("ui.common.help"),"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",this._showHelp,null==e?void 0:e.floors.map(function(e){return(0,y.dy)(a||(a=(0,h.Z)(['<div class="floor"> <div class="header"> <h2> <ha-floor-icon .floor="','"></ha-floor-icon> ',' </h2> <ha-button-menu .floor="','" @action="','"> <ha-icon-button slot="trigger" .path="','"></ha-icon-button> <ha-list-item graphic="icon"><ha-svg-icon .path="','" slot="graphic"></ha-svg-icon>','</ha-list-item> <ha-list-item class="warning" graphic="icon"><ha-svg-icon class="warning" .path="','" slot="graphic"></ha-svg-icon>','</ha-list-item> </ha-button-menu> </div> <ha-sortable handle-selector="a" draggable-selector="a" @item-added="','" group="floor" .options="','" .floor="','"> <div class="areas"> '," </div> </ha-sortable> </div>"])),e,e.name,e,t._handleFloorAction,"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",S,t.hass.localize("ui.panel.config.areas.picker.floor.edit_floor"),"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",t.hass.localize("ui.panel.config.areas.picker.floor.delete_floor"),t._areaAdded,I,e.floor_id,e.areas.map(function(e){return t._renderArea(e)}))}),null!=e&&e.unassignedAreas.length?(0,y.dy)(r||(r=(0,h.Z)(['<div class="floor"> <div class="header"> <h2> ',' </h2> </div> <ha-sortable handle-selector="a" draggable-selector="a" @item-added="','" group="floor" .options="','" .floor="','"> <div class="areas"> '," </div> </ha-sortable> </div>"])),this.hass.localize("ui.panel.config.areas.picker.unassigned_areas"),this._areaAdded,I,E,null==e?void 0:e.unassignedAreas.map(function(e){return t._renderArea(e)})):y.Ld,this.hass.localize("ui.panel.config.areas.picker.create_floor"),this._createFloor,V,this.hass.localize("ui.panel.config.areas.picker.create_area"),this._createArea,V)}},{key:"_renderArea",value:function(t){return(0,y.dy)(o||(o=(0,h.Z)(['<a href="','" .sortableData="','"> <ha-card outlined> <div style="','" class="picture ','"> ',' </div> <div class="card-header"> ',' <ha-icon-button .area="','" .path="','" @click="','"></ha-icon-button> </div> <div class="card-content"> <div> '," </div> </div> </ha-card> </a>"])),"/config/areas/area/".concat(t.area_id),t,(0,w.V)({backgroundImage:t.picture?"url(".concat(t.picture,")"):void 0}),t.picture?"":"placeholder",!t.picture&&t.icon?(0,y.dy)(s||(s=(0,h.Z)(['<ha-icon .icon="','"></ha-icon>'])),t.icon):"",t.name,t,S,this._openAreaDetails,(0,Z.z)(this.hass.locale,[t.devices&&this.hass.localize("ui.panel.config.integrations.config_entry.devices",{count:t.devices}),t.services&&this.hass.localize("ui.panel.config.integrations.config_entry.services",{count:t.services}),t.entities&&this.hass.localize("ui.panel.config.integrations.config_entry.entities",{count:t.entities})].filter(function(t){return Boolean(t)})))}},{key:"firstUpdated",value:function(t){(0,m.Z)(e,"firstUpdated",this,3)([t]),(0,M.O)()}},{key:"_openAreaDetails",value:function(t){var e=this;t.preventDefault();var n,i=t.currentTarget.area;(0,M.E)(this,{entry:i,updateEntry:(n=(0,d.Z)((0,u.Z)().m(function t(n){return(0,u.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,(0,x.IO)(e.hass,i.area_id,n))},t)})),function(t){return n.apply(this,arguments)})})}},{key:"_areaAdded",value:(l=(0,d.Z)((0,u.Z)().m(function t(e){var n,i,a;return(0,u.Z)().w(function(t){for(;;)switch(t.n){case 0:return e.stopPropagation(),n=e.currentTarget.floor,i=n===E?null:n,a=e.detail.data,this._areas=this._areas.map(function(t){return t.area_id===a.area_id?Object.assign(Object.assign({},t),{},{floor_id:i}):t}),t.n=1,(0,x.IO)(this.hass,a.area_id,{floor_id:i});case 1:return t.a(2)}},t,this)})),function(t){return l.apply(this,arguments)})},{key:"_handleFloorAction",value:function(t){var e=t.currentTarget.floor;switch(t.detail.index){case 0:this._editFloor(e);break;case 1:this._deleteFloor(e)}}},{key:"_createFloor",value:function(){this._openFloorDialog()}},{key:"_editFloor",value:function(t){this._openFloorDialog(t)}},{key:"_deleteFloor",value:(n=(0,d.Z)((0,u.Z)().m(function t(e){return(0,u.Z)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,A.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.areas.picker.floor.confirm_delete"),text:this.hass.localize("ui.panel.config.areas.picker.floor.confirm_delete_text"),confirmText:this.hass.localize("ui.common.delete"),destructive:!0});case 1:if(t.v){t.n=2;break}return t.a(2);case 2:return t.n=3,(0,C.fu)(this.hass,e.floor_id);case 3:return t.a(2)}},t,this)})),function(t){return n.apply(this,arguments)})},{key:"_createArea",value:function(){this._openAreaDialog()}},{key:"_showHelp",value:function(){(0,A.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.areas.caption"),text:(0,y.dy)(c||(c=(0,h.Z)([" "," <p> ",' </p> <a href="/config/integrations/dashboard"> '," </a> "])),this.hass.localize("ui.panel.config.areas.picker.introduction"),this.hass.localize("ui.panel.config.areas.picker.introduction2"),this.hass.localize("ui.panel.config.areas.picker.integrations_page"))})}},{key:"_openAreaDialog",value:function(t){var e,n=this;(0,M.E)(this,{entry:t,createEntry:(e=(0,d.Z)((0,u.Z)().m(function t(e){return(0,u.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,(0,x.Lo)(n.hass,e))},t)})),function(t){return e.apply(this,arguments)})})}},{key:"_openFloorDialog",value:function(t){var e,n,i=this;(0,H.y)(this,{entry:t,createEntry:(n=(0,d.Z)((0,u.Z)().m(function t(e,n){var a;return(0,u.Z)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,C.z3)(i.hass,e);case 1:a=t.v,n.forEach(function(t){(0,x.IO)(i.hass,t,{floor_id:a.floor_id})});case 2:return t.a(2)}},t)})),function(t,e){return n.apply(this,arguments)}),updateEntry:(e=(0,d.Z)((0,u.Z)().m(function e(n,a,r){var o;return(0,u.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,C.jg)(i.hass,t.floor_id,n);case 1:o=e.v,a.forEach(function(t){(0,x.IO)(i.hass,t,{floor_id:o.floor_id})}),r.forEach(function(t){(0,x.IO)(i.hass,t,{floor_id:null})});case 2:return e.a(2)}},e)})),function(t,n,i){return e.apply(this,arguments)})})}}]);var n,l}(y.oi);O.styles=(0,y.iv)(l||(l=(0,h.Z)(['.container{padding:8px 16px 16px;margin:0 auto 64px auto}.header{display:flex;align-items:center;justify-content:space-between;color:var(--secondary-text-color);padding-inline-start:8px}.header h2{font-size:var(--ha-font-size-m);font-weight:var(--ha-font-weight-medium);margin-top:28px}.header ha-icon{margin-inline-end:8px}.areas{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-gap:16px 16px;max-width:2000px;margin-bottom:16px}.areas>*{max-width:500px}ha-card{overflow:hidden}a{text-decoration:none}h1{padding-bottom:0}.picture{height:150px;width:100%;background-size:cover;background-position:center;position:relative}.placeholder{display:flex;align-items:center;justify-content:center;--mdc-icon-size:48px}.picture.placeholder::before{position:absolute;content:"";width:100%;height:100%;background-color:var(--sidebar-selected-icon-color);opacity:.12}.card-content{min-height:16px;color:var(--secondary-text-color)}.card-header{display:flex;justify-content:space-between;align-items:center;overflow-wrap:anywhere}.warning{color:var(--error-color)}']))),(0,_.__decorate)([(0,b.Cb)({attribute:!1})],O.prototype,"hass",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:"is-wide",type:Boolean})],O.prototype,"isWide",void 0),(0,_.__decorate)([(0,b.Cb)({type:Boolean})],O.prototype,"narrow",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:!1})],O.prototype,"route",void 0),(0,_.__decorate)([(0,b.SB)()],O.prototype,"_areas",void 0),O=(0,_.__decorate)([(0,b.Mo)("ha-config-areas-dashboard")],O),e()}catch(T){e(T)}})},95503:function(t,e,n){n.a(t,async function(t,i){try{n.r(e);var a=n(54521),r=n(4490),o=n(20129),s=n(85297),c=(n(12212),n(73742)),l=n(7616),u=n(407),d=n(75295),h=n(51306),f=t([d,h]);[d,h]=f.then?(await f)():f;var p=function(t){function e(){var t;(0,a.Z)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=(0,o.Z)(this,e,[].concat(i))).narrow=!1,t.isWide=!1,t.showAdvanced=!1,t.routerOptions={defaultPage:"dashboard",routes:{dashboard:{tag:"ha-config-areas-dashboard",cache:!0},area:{tag:"ha-config-area-page"}}},t}return(0,s.Z)(e,t),(0,r.Z)(e,[{key:"updatePageEl",value:function(t){t.hass=this.hass,"area"===this._currentPage&&(t.areaId=this.routeTail.path.substr(1)),t.narrow=this.narrow,t.isWide=this.isWide,t.showAdvanced=this.showAdvanced,t.route=this.routeTail}}])}(u.n);(0,c.__decorate)([(0,l.Cb)({attribute:!1})],p.prototype,"hass",void 0),(0,c.__decorate)([(0,l.Cb)({type:Boolean})],p.prototype,"narrow",void 0),(0,c.__decorate)([(0,l.Cb)({attribute:"is-wide",type:Boolean})],p.prototype,"isWide",void 0),(0,c.__decorate)([(0,l.Cb)({attribute:!1})],p.prototype,"showAdvanced",void 0),p=(0,c.__decorate)([(0,l.Mo)("ha-config-areas")],p),i()}catch(v){i(v)}})},2609:function(t,e,n){n.d(e,{E:function(){return r},O:function(){return a}});n(26847),n(54480),n(1455),n(48694),n(27530);var i=n(39884),a=function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("75696"),n.e("15601"),n.e("91789"),n.e("15634"),n.e("26452"),n.e("8605"),n.e("76782"),n.e("3401"),n.e("90093"),n.e("23759"),n.e("16376"),n.e("39432"),n.e("2769"),n.e("96910"),n.e("19596"),n.e("66156"),n.e("42281"),n.e("59905"),n.e("726"),n.e("60322")]).then(n.bind(n,14065))},r=function(t,e){(0,i.B)(t,"show-dialog",{dialogTag:"dialog-area-registry-detail",dialogImport:a,dialogParams:e})}},27172:function(t,e,n){n.d(e,{y:function(){return r}});n(26847),n(54480),n(1455),n(48694),n(27530);var i=n(39884),a=function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("75696"),n.e("15601"),n.e("91789"),n.e("15634"),n.e("76782"),n.e("3401"),n.e("26061"),n.e("16376"),n.e("2769"),n.e("42281"),n.e("6032")]).then(n.bind(n,3343))},r=function(t,e){(0,i.B)(t,"show-dialog",{dialogTag:"dialog-floor-registry-detail",dialogImport:a,dialogParams:e})}},3301:function(t,e,n){var i,a,r=n(54982),o=n(54521),s=n(4490),c=n(20129),l=n(85297),u=(n(12212),n(73742)),d=n(59048),h=n(7616),f=n(31733),p=function(t){function e(){var t;(0,o.Z)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=(0,c.Z)(this,e,[].concat(i))).isWide=!1,t.vertical=!1,t.fullWidth=!1,t}return(0,l.Z)(e,t),(0,s.Z)(e,[{key:"render",value:function(){return(0,d.dy)(i||(i=(0,r.Z)([' <div class="content ','"> <div class="header"><slot name="header"></slot></div> <div class="together layout ','"> <div class="intro"><slot name="introduction"></slot></div> <div class="panel flex-auto"><slot></slot></div> </div> </div> '])),(0,f.$)({narrow:!this.isWide,"full-width":this.fullWidth}),(0,f.$)({narrow:!this.isWide,vertical:this.vertical||!this.isWide,horizontal:!this.vertical&&this.isWide}))}}])}(d.oi);p.styles=(0,d.iv)(a||(a=(0,r.Z)([":host{display:block}.content{padding:28px 20px 0;max-width:1040px;margin:0 auto}.layout{display:flex}.horizontal{flex-direction:row}.vertical{flex-direction:column}.flex-auto{flex:1 1 auto}.header{font-family:var(--ha-font-family-body);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-size:var(--ha-font-size-2xl);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-condensed);opacity:var(--dark-primary-opacity)}.together{margin-top:var(--config-section-content-together-margin-top,32px)}.intro{font-family:var(--ha-font-family-body);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-normal);width:100%;opacity:var(--dark-primary-opacity);font-size:var(--ha-font-size-m);padding-bottom:20px}.horizontal .intro{max-width:400px;margin-right:40px;margin-inline-end:40px;margin-inline-start:initial}.panel{margin-top:-24px}.panel ::slotted(*){margin-top:24px;display:block}.narrow.content{max-width:640px}.narrow .together{margin-top:var(--config-section-narrow-content-together-margin-top,var(--config-section-content-together-margin-top,20px))}.narrow .intro{padding-bottom:20px;margin-right:0;margin-inline-end:0;margin-inline-start:initial;max-width:500px}.full-width{padding:0}.full-width .layout{flex-direction:column}"]))),(0,u.__decorate)([(0,h.Cb)({attribute:"is-wide",type:Boolean})],p.prototype,"isWide",void 0),(0,u.__decorate)([(0,h.Cb)({type:Boolean})],p.prototype,"vertical",void 0),(0,u.__decorate)([(0,h.Cb)({type:Boolean,attribute:"full-width"})],p.prototype,"fullWidth",void 0),p=(0,u.__decorate)([(0,h.Mo)("ha-config-section")],p)},25624:function(t,e,n){n.a(t,async function(t,e){try{var i,a,r,o,s,c=n(54982),l=n(75706),u=n(29694),d=n(75778),h=n(42385),f=n(54521),p=n(4490),v=n(20129),g=n(85297),m=n(53389),_=(n(40777),n(12212),n(25518),n(39710),n(2394),n(6988),n(18574),n(81738),n(94814),n(22960),n(72489),n(54480),n(69920),n(56389),n(67398),n(73742)),y=n(59048),b=n(7616),w=n(37528),k=n(6219),Z=n(40645),x=n(6514),C=n(43563),A=n(59715),L=n(99918),M=n(63583),H=t([x,M]);[x,M]=H.then?(await H)():H;var z=function(t,e){return new Date(t.getTime()-1e3*e).getTime()/1e3},S=function(t,e){return(void 0!==t||void 0!==e)&&(!t||!e||t.length!==e.length||t.some(function(t){return!e.includes(t)})||e.some(function(e){return!t.includes(e)}))},V=function(t){function e(){var t;(0,f.Z)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=(0,v.Z)(this,e,[].concat(i))).narrow=!1,t.virtualize=!1,t.noIcon=!1,t.noName=!1,t.showIndicator=!1,t.relativeTime=!1,t.showMoreLink=!0,t._traceContexts={},t._userIdToName={},t._liveUpdatesEnabled=!0,t._pendingStreamMessages=[],t._throttleGetLogbookEntries=(0,Z.P)(function(){return t._getLogBookData()},1e3),t._logbookSubscriptionId=0,t._nonExpiredRecords=function(e){return t._logbookEntries?e?t._logbookEntries.filter(function(t){return t.when>e}):t._logbookEntries:[]},t._processOrQueueStreamMessage=function(e){t._liveUpdatesEnabled?t._processStreamMessage(e):t._pendingStreamMessages.push(e)},t._processStreamMessage=function(e){var n="recent"in t.time?z(new Date,t.time.recent):void 0,i=(0,h.Z)(e.events).reverse();if(t._logbookEntries&&t._logbookEntries.length){if(i.length){var a=t._nonExpiredRecords(n);a.length?i[i.length-1].when>a[0].when?t._logbookEntries=i.concat(a):a[a.length-1].when>i[0].when?t._logbookEntries=a.concat(i):t._logbookEntries=a.concat(i).sort(function(t,e){return e.when-t.when}):t._logbookEntries=i}}else t._logbookEntries=i},t._updateTraceContexts=(0,Z.P)((0,d.Z)((0,u.Z)().m(function e(){return(0,u.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,A.U_)(t.hass);case 1:t._traceContexts=e.v;case 2:return e.a(2)}},e)})),6e4),t._updateUsers=(0,Z.P)((0,d.Z)((0,u.Z)().m(function e(){var n,i,a,r,o,s,c,d,h,f;return(0,u.Z)().w(function(e){for(;;)switch(e.n){case 0:for(i={},a=(null===(n=t.hass.user)||void 0===n?void 0:n.is_admin)&&(0,L.uh)(t.hass),r=0,o=Object.values(t.hass.states);r<o.length;r++)(s=o[r]).attributes.user_id&&"person"===(0,k.N)(s)&&(i[s.attributes.user_id]=s.attributes.friendly_name);if(!a){e.n=2;break}return e.n=1,a;case 1:c=e.v,d=(0,l.Z)(c);try{for(d.s();!(h=d.n()).done;)(f=h.value).id in i||(i[f.id]=f.name)}catch(u){d.e(u)}finally{d.f()}case 2:t._userIdToName=i;case 3:return e.a(2)}},e)})),6e4),t}return(0,g.Z)(e,t),(0,p.Z)(e,[{key:"render",value:function(){return(0,w.p)(this.hass,"logbook")?this._error?(0,y.dy)(i||(i=(0,c.Z)(['<div class="no-entries"> '," </div>"])),"".concat(this.hass.localize("ui.components.logbook.retrieval_error"),": ").concat(this._error)):void 0===this._logbookEntries?(0,y.dy)(a||(a=(0,c.Z)([' <div class="progress-wrapper"> <ha-spinner></ha-spinner> </div> ']))):0===this._logbookEntries.length?(0,y.dy)(r||(r=(0,c.Z)(['<div class="no-entries"> '," </div>"])),this.hass.localize("ui.components.logbook.entries_not_found")):(0,y.dy)(o||(o=(0,c.Z)([' <ha-logbook-renderer .hass="','" .narrow="','" .virtualize="','" .noIcon="','" .noName="','" .showIndicator="','" .relativeTime="','" .entries="','" .traceContexts="','" .userIdToName="','" @hass-logbook-live="','"></ha-logbook-renderer> '])),this.hass,this.narrow,this.virtualize,this.noIcon,this.noName,this.showIndicator,this.relativeTime,this._logbookEntries,this._traceContexts,this._userIdToName,this._handleLogbookLive):y.Ld}},{key:"refresh",value:(b=(0,d.Z)((0,u.Z)().m(function t(){var e,n=arguments;return(0,u.Z)().w(function(t){for(;;)switch(t.n){case 0:if((e=n.length>0&&void 0!==n[0]&&n[0])||!this._unsubLogbook&&void 0!==this._logbookEntries){t.n=1;break}return t.a(2);case 1:this._throttleGetLogbookEntries.cancel(),this._updateTraceContexts.cancel(),this._updateUsers.cancel(),this._unsubscribe(!0),this._liveUpdatesEnabled=!0,e?this._getLogBookData():this._throttleGetLogbookEntries();case 2:return t.a(2)}},t,this)})),function(){return b.apply(this,arguments)})},{key:"shouldUpdate",value:function(t){if(1!==t.size||!t.has("hass"))return!0;var e=t.get("hass");return!e||e.localize!==this.hass.localize}},{key:"willUpdate",value:function(t){for(var e=t.has("time"),n=0,i=["entityIds","deviceIds"];n<i.length;n++){var a=i[n];if(t.has(a)){var r=t.get(a),o=this[a];if(S(r,o)){e=!0;break}}}e&&this.refresh(!0)}},{key:"_handleLogbookLive",value:function(t){var e=this;t.detail.enable&&!this._liveUpdatesEnabled&&(this._pendingStreamMessages.forEach(function(t){return e._processStreamMessage(t)}),this._pendingStreamMessages=[]),this._liveUpdatesEnabled=t.detail.enable}},{key:"_filterAlwaysEmptyResults",get:function(){var t=this.entityIds,e=this.deviceIds;return Boolean(t||e)&&(!t||0===t.length)&&(!e||0===e.length)}},{key:"_unsubscribe",value:function(t){this._unsubLogbook&&(this._unsubLogbook.then(function(t){return t()}),this._unsubLogbook=void 0,this._logbookEntries=t?void 0:[],this._pendingStreamMessages=[])}},{key:"connectedCallback",value:function(){(0,m.Z)(e,"connectedCallback",this,3)([]),this.hasUpdated&&this._subscribeLogbookPeriod(this._calculateLogbookPeriod())}},{key:"disconnectedCallback",value:function(){(0,m.Z)(e,"disconnectedCallback",this,3)([]),this._unsubscribe(!0)}},{key:"_calculateLogbookPeriod",value:function(){var t=new Date;if("range"in this.time)return{now:t,startTime:this.time.range[0],endTime:this.time.range[1],purgeBeforePythonTime:void 0};if("recent"in this.time){var e=z(t,this.time.recent);return{now:t,startTime:new Date(1e3*e),endTime:new Date(t.getTime()+31536e6),purgeBeforePythonTime:z(t,this.time.recent)}}throw new Error("Unexpected time specified")}},{key:"_subscribeLogbookPeriod",value:(_=(0,d.Z)((0,u.Z)().m(function t(e){var n,i=this;return(0,u.Z)().w(function(t){for(;;)switch(t.n){case 0:if(!this._unsubLogbook){t.n=1;break}return t.a(2);case 1:return t.p=1,this._logbookSubscriptionId++,this._unsubLogbook=(0,C.Yc)(this.hass,function(t,e){e===i._logbookSubscriptionId&&i._processOrQueueStreamMessage(t)},e.startTime.toISOString(),e.endTime.toISOString(),this._logbookSubscriptionId,this.entityIds,this.deviceIds),t.n=2,this._unsubLogbook;case 2:t.n=4;break;case 3:t.p=3,n=t.v,this._unsubLogbook=void 0,this._error=n;case 4:return t.a(2)}},t,this,[[1,3]])})),function(t){return _.apply(this,arguments)})},{key:"_getLogBookData",value:(n=(0,d.Z)((0,u.Z)().m(function t(){var e,n;return(0,u.Z)().w(function(t){for(;;)switch(t.n){case 0:if(this._error=void 0,!this._filterAlwaysEmptyResults){t.n=1;break}return this._unsubscribe(!1),t.a(2);case 1:if(!((n=this._calculateLogbookPeriod()).startTime>n.now)){t.n=2;break}return this._unsubscribe(!1),t.a(2);case 2:this._updateUsers(),null!==(e=this.hass.user)&&void 0!==e&&e.is_admin&&this._updateTraceContexts(),this._subscribeLogbookPeriod(n);case 3:return t.a(2)}},t,this)})),function(){return n.apply(this,arguments)})}],[{key:"styles",get:function(){return[(0,y.iv)(s||(s=(0,c.Z)([":host{display:block}:host([virtualize]){height:100%}.no-entries{text-align:center;padding:16px;color:var(--secondary-text-color)}.progress-wrapper{display:flex;justify-content:center;height:100%;align-items:center}"])))]}}]);var n,_,b}(y.oi);(0,_.__decorate)([(0,b.Cb)({attribute:!1})],V.prototype,"hass",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:!1})],V.prototype,"time",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:!1})],V.prototype,"entityIds",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:!1})],V.prototype,"deviceIds",void 0),(0,_.__decorate)([(0,b.Cb)({type:Boolean})],V.prototype,"narrow",void 0),(0,_.__decorate)([(0,b.Cb)({type:Boolean,reflect:!0})],V.prototype,"virtualize",void 0),(0,_.__decorate)([(0,b.Cb)({type:Boolean,attribute:"no-icon"})],V.prototype,"noIcon",void 0),(0,_.__decorate)([(0,b.Cb)({type:Boolean,attribute:"no-name"})],V.prototype,"noName",void 0),(0,_.__decorate)([(0,b.Cb)({type:Boolean,attribute:"show-indicator"})],V.prototype,"showIndicator",void 0),(0,_.__decorate)([(0,b.Cb)({type:Boolean,attribute:"relative-time"})],V.prototype,"relativeTime",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:"show-more-link",type:Boolean})],V.prototype,"showMoreLink",void 0),(0,_.__decorate)([(0,b.SB)()],V.prototype,"_logbookEntries",void 0),(0,_.__decorate)([(0,b.SB)()],V.prototype,"_traceContexts",void 0),(0,_.__decorate)([(0,b.SB)()],V.prototype,"_userIdToName",void 0),(0,_.__decorate)([(0,b.SB)()],V.prototype,"_error",void 0),V=(0,_.__decorate)([(0,b.Mo)("ha-logbook")],V),e()}catch(E){e(E)}})},56730:function(t,e,n){n.r(e),n.d(e,{mdiHomeAssistant:function(){return i}});var i="m12.151 1.5882c-.3262 0-.6523.1291-.8996.3867l-8.3848 8.7354c-.0619.0644-.1223.1368-.1807.2154-.0588.0789-.1151.1638-.1688.2534-.2593.4325-.4552.9749-.5232 1.4555-.0026.018-.0076.0369-.0094.0548-.0121.0987-.0184.1944-.0184.2857v8.0124a1.2731 1.2731 0 001.2731 1.2731h7.8313l-3.4484-3.593a1.7399 1.7399 0 111.0803-1.125l2.6847 2.7972v-10.248a1.7399 1.7399 0 111.5276-0v7.187l2.6702-2.782a1.7399 1.7399 0 111.0566 1.1505l-3.7269 3.8831v2.7299h8.174a1.2471 1.2471 0 001.2471-1.2471v-8.0375c0-.0912-.0059-.1868-.0184-.2855-.0603-.4935-.2636-1.0617-.5326-1.5105-.0537-.0896-.1101-.1745-.1684-.253-.0588-.079-.1191-.1513-.181-.2158l-8.3848-8.7363c-.2473-.2577-.5735-.3866-.8995-.3864"},83788:function(t,e,n){n.a(t,async function(t,e){try{n(26847),n(54480),n(1455),n(48694),n(27530);"function"!=typeof window.ResizeObserver&&(window.ResizeObserver=(await n.e("89931").then(n.bind(n,11860))).default),e()}catch(i){e(i)}},1)},54643:function(t,e,n){n.d(e,{o:function(){return i}});n(26847),n(1455),n(27530);const i=async()=>{await Promise.all([n.e("59323"),n.e("24858")]).then(n.bind(n,23684))}},35580:function(t,e,n){n.d(e,{RU:function(){return a},X1:function(){return i},u4:function(){return r},zC:function(){return o}});n(44261);const i=t=>`https://brands.home-assistant.io/${t.brand?"brands/":""}${t.useFallback?"_/":""}${t.domain}/${t.darkOptimized?"dark_":""}${t.type}.png`,a=t=>`https://brands.home-assistant.io/hardware/${t.category}/${t.darkOptimized?"dark_":""}${t.manufacturer}${t.model?`_${t.model}`:""}.png`,r=t=>t.split("/")[4],o=t=>t.startsWith("https://brands.home-assistant.io/")}}]);
//# sourceMappingURL=17222.4d3dc1b7d74186a0.js.map