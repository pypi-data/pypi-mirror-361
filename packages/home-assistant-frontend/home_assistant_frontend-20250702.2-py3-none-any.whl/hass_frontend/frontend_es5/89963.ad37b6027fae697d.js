"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["89963"],{84075:function(e,n,t){t.d(n,{DJ:function(){return i},RQ:function(){return o},iJ:function(){return a},pB:function(){return r}});t(42385),t(12212),t(25518),t(70021),t(81738),t(94814),t(29981),t(87799),t(54480);var i=function(e,n,t){var i={type:"config_entries/subscribe"};return t&&t.type&&(i.type_filter=t.type),e.connection.subscribeMessage(function(e){return n(e)},i)},r=function(e,n){var t={};return n&&(n.type&&(t.type_filter=n.type),n.domain&&(t.domain=n.domain)),e.callWS(Object.assign({type:"config_entries/get"},t))},o=function(e,n){return e.callWS({type:"config_entries/get_single",entry_id:n})},a=function(e,n){return e.callApi("DELETE","config/config_entries/entry/".concat(n))}},20990:function(e,n,t){t.d(n,{D4:function(){return o},D7:function(){return u},Ky:function(){return r},V3:function(){return d},XO:function(){return a},d4:function(){return c},oi:function(){return s}});t(12212),t(24533);var i={"HA-Frontend-Base":"".concat(location.protocol,"//").concat(location.host)},r=function(e,n,t){var r;return e.callApi("POST","config/config_entries/flow",{handler:n,show_advanced_options:Boolean(null===(r=e.userData)||void 0===r?void 0:r.showAdvanced),entry_id:t},i)},o=function(e,n){return e.callApi("GET","config/config_entries/flow/".concat(n),void 0,i)},a=function(e,n,t){return e.callApi("POST","config/config_entries/flow/".concat(n),t,i)},s=function(e,n){return e.callApi("DELETE","config/config_entries/flow/".concat(n))},c=function(e,n){return e.callApi("GET","config/config_entries/flow_handlers".concat(n?"?type=".concat(n):""))},u=function(e){return e.sendMessagePromise({type:"config_entries/flow/progress"})},d=function(e,n){return e.connection.subscribeMessage(function(e){return n(e)},{type:"config_entries/flow/subscribe"})}},6291:function(e,n,t){t.d(n,{f:function(){return l}});var i=t(75706),r=t(54521),o=t(4490),a=t(20129),s=t(53389),c=t(85297),u=(t(39710),t(26847),t(81738),t(72489),t(54480),t(1455),t(56389),t(27530),t(73742)),d=t(7616),l=function(e){var n=function(e){function n(){return(0,r.Z)(this,n),(0,a.Z)(this,n,arguments)}return(0,c.Z)(n,e),(0,o.Z)(n,[{key:"connectedCallback",value:function(){(0,s.Z)(n,"connectedCallback",this,3)([]),this._checkSubscribed()}},{key:"disconnectedCallback",value:function(){if((0,s.Z)(n,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){var e=this.__unsubs.pop();e instanceof Promise?e.then(function(e){return e()}):e()}this.__unsubs=void 0}}},{key:"updated",value:function(e){if((0,s.Z)(n,"updated",this,3)([e]),e.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var t,r=(0,i.Z)(e.keys());try{for(r.s();!(t=r.n()).done;){var o=t.value;if(this.hassSubscribeRequiredHostProps.includes(o))return void this._checkSubscribed()}}catch(a){r.e(a)}finally{r.f()}}}},{key:"hassSubscribe",value:function(){return[]}},{key:"_checkSubscribed",value:function(){var e,n=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some(function(e){return void 0===n[e]})||(this.__unsubs=this.hassSubscribe())}}])}(e);return(0,u.__decorate)([(0,d.Cb)({attribute:!1})],n.prototype,"hass",void 0),n}},85771:function(e,n,t){var i,r,o=t(29694),a=t(75778),s=t(10354),c=t(54982),u=t(75706),d=t(42385),l=t(54521),f=t(4490),h=t(20129),p=t(85297),v=t(53389),_=(t(12212),t(25518),t(55204),t(26847),t(24819),t(2394),t(69643),t(18574),t(81738),t(94814),t(22960),t(6989),t(54480),t(11353),t(67886),t(65451),t(46015),t(38334),t(94880),t(75643),t(29761),t(48694),t(67398),t(27530),t(73742)),g=t(59048),b=t(7616),y=t(37528),m=t(39884),k=t(36221),Z=(t(72953),t(84075)),w=t(20990),S=t(96222),z=function(e){return e.callWS({type:"usb/scan"})},D=t(6291),x=t(35580),C=function(e){function n(){var e;(0,l.Z)(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=(0,h.Z)(this,n,[].concat(i))).darkOptimizedIcon=!1,e.clickable=!1,e}return(0,p.Z)(n,e),(0,f.Z)(n,[{key:"render",value:function(){return(0,g.dy)(i||(i=(0,c.Z)([' <div class="icon"> <img alt="" src="','" crossorigin="anonymous" referrerpolicy="no-referrer"> </div> <div class="title">',"</div> "])),(0,x.X1)({domain:this.domain,type:"icon",darkOptimized:this.darkOptimizedIcon}),this.title)}}])}(g.oi);C.styles=(0,g.iv)(r||(r=(0,c.Z)([":host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}img{max-width:100%;max-height:100%}.icon{position:relative;margin:0 auto 8px;height:40px;width:40px;display:flex;align-items:center;justify-content:center}.title{min-height:2.3em;word-break:break-word}"]))),(0,_.__decorate)([(0,b.Cb)()],C.prototype,"domain",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:!1})],C.prototype,"title",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:"dark-optimized-icon",type:Boolean})],C.prototype,"darkOptimizedIcon",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:!1,type:Boolean,reflect:!0})],C.prototype,"clickable",void 0),C=(0,_.__decorate)([(0,b.Mo)("integration-badge")],C);var B,L,A,E,O,T=t(77908),R=new Set(["backup","google_translate","hassio","met","radio_browser","rpi_power","shopping_list","sun"]),P=function(e){function n(){var e;(0,l.Z)(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=(0,h.Z)(this,n,[].concat(i)))._entries=[],e._discoveredDomains=new Set,e._discoveredDomainsReceived=!1,e}return(0,p.Z)(n,e),(0,f.Z)(n,[{key:"hassSubscribe",value:function(){var e=this;return[(0,w.V3)(this.hass,function(n){n.forEach(function(n){"removed"===n.type||R.has(n.flow.handler)||e._discoveredDomains.add(n.flow.handler)}),e.hass.loadBackendTranslation("title",Array.from(e._discoveredDomains)),e._discoveredDomainsReceived=!0}),(0,Z.DJ)(this.hass,function(n){var t=!1,i=[],r=new Set;if(n.forEach(function(n){if(null===n.type||"added"===n.type){if(R.has(n.entry.domain))return;i.push(n.entry),r.add(n.entry.domain),null===n.type&&(t=!0)}else if("removed"===n.type)e._entries=e._entries.filter(function(e){return e.entry_id!==n.entry.entry_id});else if("updated"===n.type){if(R.has(n.entry.domain))return;var o=n.entry;e._entries=e._entries.map(function(e){return e.entry_id===o.entry_id?o:e})}}),i.length||t){e.hass.loadBackendTranslation("title",Array.from(r));var o=t?[]:e._entries;e._entries=[].concat((0,d.Z)(o),i)}},{type:["device","hub","service"]})]}},{key:"render",value:function(){var e=this;if(!this._discoveredDomainsReceived)return g.Ld;var n=new Set;this._entries.forEach(function(e){n.add(e.domain)}),n=new Set([].concat((0,d.Z)(n),(0,d.Z)(this._discoveredDomains)));var t,i=[],r=(0,u.Z)(n.values());try{for(r.s();!(t=r.n()).done;){var o=t.value;i.push([o,(0,S.Lh)(this.hass.localize,o)])}}catch(l){r.e(l)}finally{r.f()}var a=(i=i.sort(function(n,t){return(0,k.$K)(n[0],t[0],e.hass.locale.language)})).length;return 0===a?(0,g.dy)(B||(B=(0,c.Z)([' <div class="all-set-icon">ðŸŽ‰</div> <h1> '," </h1> <p> ",' </p> <div class="footer"> <ha-button unelevated @click="','"> '," </ha-button> </div> "])),this.onboardingLocalize("ui.panel.page-onboarding.integration.all_set"),this.onboardingLocalize("ui.panel.page-onboarding.integration.lets_start"),this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")):(i.length>12&&(i=i.slice(0,11)),(0,g.dy)(L||(L=(0,c.Z)([" <h1> "," </h1> <p> ",' </p> <div class="badges"> '," ",' </div> <div class="footer"> <ha-button unelevated @click="','"> '," </ha-button> </div> "])),this.onboardingLocalize("ui.panel.page-onboarding.integration.header"),this.onboardingLocalize("ui.panel.page-onboarding.integration.intro"),i.map(function(n){var t,i=(0,s.Z)(n,2),r=i[0],o=i[1];return(0,g.dy)(A||(A=(0,c.Z)(['<integration-badge .domain="','" .title="','" .darkOptimizedIcon="','"></integration-badge>'])),r,o,null===(t=e.hass.themes)||void 0===t?void 0:t.darkMode)}),a>i.length?(0,g.dy)(E||(E=(0,c.Z)(['<div class="more"> '," </div>"])),this.onboardingLocalize("ui.panel.page-onboarding.integration.more_integrations",{count:a-i.length})):g.Ld,this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")))}},{key:"firstUpdated",value:function(e){(0,v.Z)(n,"firstUpdated",this,3)([e]),this.hass.loadBackendTranslation("title"),this._scanUSBDevices()}},{key:"_scanUSBDevices",value:(i=(0,a.Z)((0,o.Z)().m(function e(){return(0,o.Z)().w(function(e){for(;;)switch(e.n){case 0:if((0,y.p)(this.hass,"usb")){e.n=1;break}return e.a(2);case 1:return e.n=2,z(this.hass);case 2:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_finish",value:(t=(0,a.Z)((0,o.Z)().m(function e(){return(0,o.Z)().w(function(e){for(;;)switch(e.n){case 0:(0,m.B)(this,"onboarding-step",{type:"integration"});case 1:return e.a(2)}},e,this)})),function(){return t.apply(this,arguments)})}],[{key:"styles",get:function(){return[T.I,(0,g.iv)(O||(O=(0,c.Z)([".badges{margin-top:24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(106px,1fr));row-gap:24px}.more{display:flex;justify-content:center;align-items:center;height:100%}.all-set-icon{font-size:64px;text-align:center}"])))]}}]);var t,i}((0,D.f)(g.oi));(0,_.__decorate)([(0,b.Cb)({attribute:!1})],P.prototype,"hass",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:!1})],P.prototype,"onboardingLocalize",void 0),(0,_.__decorate)([(0,b.SB)()],P.prototype,"_entries",void 0),(0,_.__decorate)([(0,b.SB)()],P.prototype,"_discoveredDomains",void 0),(0,_.__decorate)([(0,b.SB)()],P.prototype,"_discoveredDomainsReceived",void 0),P=(0,_.__decorate)([(0,b.Mo)("onboarding-integrations")],P)},35580:function(e,n,t){t.d(n,{X1:function(){return i},u4:function(){return r},zC:function(){return o}});t(44261);const i=e=>`https://brands.home-assistant.io/${e.brand?"brands/":""}${e.useFallback?"_/":""}${e.domain}/${e.darkOptimized?"dark_":""}${e.type}.png`,r=e=>e.split("/")[4],o=e=>e.startsWith("https://brands.home-assistant.io/")}}]);
//# sourceMappingURL=89963.ad37b6027fae697d.js.map