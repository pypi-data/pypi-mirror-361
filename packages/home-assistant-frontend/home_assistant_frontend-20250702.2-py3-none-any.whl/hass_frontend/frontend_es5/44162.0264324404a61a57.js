"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["44162"],{21409:function(t,e,i){var a,n=i(54982),o=i(29694),r=i(75778),s=i(54521),c=i(4490),d=i(67063),l=i(20129),h=i(85297),u=i(53389),_=(i(12212),i(25518),i(26847),i(81738),i(94814),i(87799),i(54480),i(1455),i(48694),i(40589),i(27530),i(73742)),y=i(59048),p=i(7616),f=i(39884),v=function(t){function e(){var t;(0,s.Z)(this,e);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(t=(0,l.Z)(this,e,[].concat(a))).disabled=!1,t.noStyle=!1,t.invertSwap=!1,t.rollback=!0,t._shouldBeDestroy=!1,t._handleUpdate=function(e){(0,f.B)((0,d.Z)(t),"item-moved",{newIndex:e.newIndex,oldIndex:e.oldIndex})},t._handleAdd=function(e){(0,f.B)((0,d.Z)(t),"item-added",{index:e.newIndex,data:e.item.sortableData})},t._handleRemove=function(e){(0,f.B)((0,d.Z)(t),"item-removed",{index:e.oldIndex})},t._handleEnd=function(){var e=(0,r.Z)((0,o.Z)().m(function e(i){return(0,o.Z)().w(function(e){for(;;)switch(e.n){case 0:(0,f.B)((0,d.Z)(t),"drag-end"),t.rollback&&i.item.placeholder&&(i.item.placeholder.replaceWith(i.item),delete i.item.placeholder);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),t._handleStart=function(){(0,f.B)((0,d.Z)(t),"drag-start")},t._handleChoose=function(e){t.rollback&&(e.item.placeholder=document.createComment("sort-placeholder"),e.item.after(e.item.placeholder))},t}return(0,h.Z)(e,t),(0,c.Z)(e,[{key:"updated",value:function(t){t.has("disabled")&&(this.disabled?this._destroySortable():this._createSortable())}},{key:"disconnectedCallback",value:function(){var t=this;(0,u.Z)(e,"disconnectedCallback",this,3)([]),this._shouldBeDestroy=!0,setTimeout(function(){t._shouldBeDestroy&&(t._destroySortable(),t._shouldBeDestroy=!1)},1)}},{key:"connectedCallback",value:function(){(0,u.Z)(e,"connectedCallback",this,3)([]),this._shouldBeDestroy=!1,this.hasUpdated&&!this.disabled&&this._createSortable()}},{key:"createRenderRoot",value:function(){return this}},{key:"render",value:function(){return this.noStyle?y.Ld:(0,y.dy)(a||(a=(0,n.Z)([" <style>.sortable-fallback{display:none!important}.sortable-ghost{box-shadow:0 0 0 2px var(--primary-color);background:rgba(var(--rgb-primary-color),.25);border-radius:4px;opacity:.4}.sortable-drag{border-radius:4px;opacity:1;background:var(--card-background-color);box-shadow:0px 4px 8px 3px #00000026;cursor:grabbing}</style> "])))}},{key:"_createSortable",value:(_=(0,r.Z)((0,o.Z)().m(function t(){var e,a,n;return(0,o.Z)().w(function(t){for(;;)switch(t.n){case 0:if(!this._sortable){t.n=1;break}return t.a(2);case 1:if(e=this.children[0]){t.n=2;break}return t.a(2);case 2:return t.n=3,Promise.all([i.e("47597"),i.e("4164")]).then(i.bind(i,23038));case 3:a=t.v.default,n=Object.assign(Object.assign({scroll:!0,forceAutoScrollFallback:!0,scrollSpeed:20,animation:150},this.options),{},{onChoose:this._handleChoose,onStart:this._handleStart,onEnd:this._handleEnd,onUpdate:this._handleUpdate,onAdd:this._handleAdd,onRemove:this._handleRemove}),this.draggableSelector&&(n.draggable=this.draggableSelector),this.handleSelector&&(n.handle=this.handleSelector),void 0!==this.invertSwap&&(n.invertSwap=this.invertSwap),this.group&&(n.group=this.group),this.filter&&(n.filter=this.filter),this._sortable=new a(e,n);case 4:return t.a(2)}},t,this)})),function(){return _.apply(this,arguments)})},{key:"_destroySortable",value:function(){this._sortable&&(this._sortable.destroy(),this._sortable=void 0)}}]);var _}(y.oi);(0,_.__decorate)([(0,p.Cb)({type:Boolean})],v.prototype,"disabled",void 0),(0,_.__decorate)([(0,p.Cb)({type:Boolean,attribute:"no-style"})],v.prototype,"noStyle",void 0),(0,_.__decorate)([(0,p.Cb)({type:String,attribute:"draggable-selector"})],v.prototype,"draggableSelector",void 0),(0,_.__decorate)([(0,p.Cb)({type:String,attribute:"handle-selector"})],v.prototype,"handleSelector",void 0),(0,_.__decorate)([(0,p.Cb)({type:String,attribute:"filter"})],v.prototype,"filter",void 0),(0,_.__decorate)([(0,p.Cb)({type:String})],v.prototype,"group",void 0),(0,_.__decorate)([(0,p.Cb)({type:Boolean,attribute:"invert-swap"})],v.prototype,"invertSwap",void 0),(0,_.__decorate)([(0,p.Cb)({attribute:!1})],v.prototype,"options",void 0),(0,_.__decorate)([(0,p.Cb)({type:Boolean})],v.prototype,"rollback",void 0),v=(0,_.__decorate)([(0,p.Mo)("ha-sortable")],v)},41963:function(t,e,i){i.a(t,async function(t,e){try{var a,n,o,r=i(29694),s=i(75778),c=i(54982),d=i(54521),l=i(4490),h=i(20129),u=i(85297),_=(i(12212),i(26847),i(13571),i(87799),i(54480),i(56303),i(48694),i(52530),i(27530),i(73742)),y=i(59048),p=i(7616),f=i(88245),v=i(39884),b=i(55228),g=(i(48017),i(21409),t([b]));b=(g.then?(await g)():g)[0];var m=function(t){function e(){var t;(0,d.Z)(this,e);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(t=(0,h.Z)(this,e,[].concat(a)))._entityKeys=new WeakMap,t}return(0,u.Z)(e,t),(0,l.Z)(e,[{key:"_getKey",value:function(t){return this._entityKeys.has(t)||this._entityKeys.set(t,Math.random().toString()),this._entityKeys.get(t)}},{key:"render",value:function(){var t=this;return this.entities?(0,y.dy)(a||(a=(0,c.Z)([" <h3> ",' </h3> <ha-sortable handle-selector=".handle" @item-moved="','"> <div class="entities"> ',' </div> </ha-sortable> <ha-entity-picker class="add-entity" .hass="','" .entityFilter="','" @value-changed="','"></ha-entity-picker> '])),this.label||this.hass.localize("ui.panel.lovelace.editor.card.generic.entities")+" ("+this.hass.localize("ui.panel.lovelace.editor.card.config.required")+")",this._entityMoved,(0,f.r)(this.entities,function(e){return t._getKey(e)},function(e,i){return(0,y.dy)(n||(n=(0,c.Z)([' <div class="entity" data-entity-id="','"> <div class="handle"> <ha-svg-icon .path="','"></ha-svg-icon> </div> <ha-entity-picker .hass="','" .value="','" .index="','" .entityFilter="','" @value-changed="','" allow-custom-entity></ha-entity-picker> </div> '])),e.entity,"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z",t.hass,e.entity,i,t.entityFilter,t._valueChanged)}),this.hass,this.entityFilter,this._addEntity):y.Ld}},{key:"_addEntity",value:(i=(0,s.Z)((0,r.Z)().m(function t(e){var i,a;return(0,r.Z)().w(function(t){for(;;)switch(t.n){case 0:if(""!==(i=e.detail.value)){t.n=1;break}return t.a(2);case 1:a=this.entities.concat({entity:i}),e.target.value="",(0,v.B)(this,"entities-changed",{entities:a});case 2:return t.a(2)}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"_entityMoved",value:function(t){t.stopPropagation();var e=t.detail,i=e.oldIndex,a=e.newIndex,n=this.entities.concat();n.splice(a,0,n.splice(i,1)[0]),(0,v.B)(this,"entities-changed",{entities:n})}},{key:"_valueChanged",value:function(t){var e=t.detail.value,i=t.target.index,a=this.entities.concat();""===e||void 0===e?a.splice(i,1):a[i]=Object.assign(Object.assign({},a[i]),{},{entity:e}),(0,v.B)(this,"entities-changed",{entities:a})}}]);var i}(y.oi);m.styles=(0,y.iv)(o||(o=(0,c.Z)(["ha-entity-picker{margin-top:8px}.add-entity{display:block;margin-left:31px;margin-inline-start:31px;margin-inline-end:initial;direction:var(--direction)}.entity{display:flex;align-items:center}.entity .handle{padding-right:8px;cursor:move;cursor:grab;padding-inline-end:8px;padding-inline-start:initial;direction:var(--direction)}.entity .handle>*{pointer-events:none}.entity ha-entity-picker{flex-grow:1}"]))),(0,_.__decorate)([(0,p.Cb)({attribute:!1})],m.prototype,"hass",void 0),(0,_.__decorate)([(0,p.Cb)({attribute:!1})],m.prototype,"entities",void 0),(0,_.__decorate)([(0,p.Cb)({attribute:!1})],m.prototype,"entityFilter",void 0),(0,_.__decorate)([(0,p.Cb)()],m.prototype,"label",void 0),m=(0,_.__decorate)([(0,p.Mo)("hui-entity-editor")],m),e()}catch(x){e(x)}})},26488:function(t,e,i){i.d(e,{Q:function(){return a}});var a=["relative","total","date","time","datetime"]},23374:function(t,e,i){i.a(t,async function(t,a){try{i.r(e),i.d(e,{HuiHistoryGraphCardEditor:function(){return C}});var n,o,r=i(54982),s=i(42385),c=i(54521),d=i(4490),l=i(20129),h=i(85297),u=(i(12212),i(87799),i(73742)),_=i(59048),y=i(7616),p=i(28105),f=i(95632),v=i(39884),b=(i(87979),i(41963)),g=i(34591),m=i(90806),x=i(94177),k=i(69782),Z=t([b,k]);[b,k]=Z.then?(await Z)():Z;var w=(0,f.f0)(m.I,(0,f.Ry)({entities:(0,f.IX)(x.K),title:(0,f.jt)((0,f.Z_)()),hours_to_show:(0,f.jt)((0,f.Rx)()),refresh_interval:(0,f.jt)((0,f.Rx)()),show_names:(0,f.jt)((0,f.O7)()),logarithmic_scale:(0,f.jt)((0,f.O7)()),min_y_axis:(0,f.jt)((0,f.Rx)()),max_y_axis:(0,f.jt)((0,f.Rx)()),fit_y_data:(0,f.jt)((0,f.O7)())})),C=function(t){function e(){var t;(0,c.Z)(this,e);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(t=(0,l.Z)(this,e,[].concat(a)))._schema=(0,p.Z)(function(t){return[{name:"title",selector:{text:{}}},{name:"",type:"grid",schema:[{name:"hours_to_show",default:k.DEFAULT_HOURS_TO_SHOW,selector:{number:{min:0,step:"any",mode:"box"}}}]},{name:"logarithmic_scale",required:!1,selector:{boolean:{}}},{name:"",type:"grid",schema:[{name:"min_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}},{name:"max_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}}]}].concat((0,s.Z)(t?[{name:"fit_y_data",required:!1,selector:{boolean:{}}}]:[]))}),t._computeLabelCallback=function(e){switch(e.name){case"logarithmic_scale":case"min_y_axis":case"max_y_axis":case"fit_y_data":return t.hass.localize("ui.panel.lovelace.editor.card.history-graph.".concat(e.name));default:return t.hass.localize("ui.panel.lovelace.editor.card.generic.".concat(e.name))}},t}return(0,h.Z)(e,t),(0,d.Z)(e,[{key:"setConfig",value:function(t){(0,f.hu)(t,w),this._config=t,this._configEntities=(0,g.Q)(t.entities)}},{key:"render",value:function(){if(!this.hass||!this._config)return _.Ld;var t=this._schema(void 0!==this._config.min_y_axis||void 0!==this._config.max_y_axis);return(0,_.dy)(n||(n=(0,r.Z)([' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" @value-changed="','"></ha-form> <hui-entity-editor .hass="','" .entities="','" @entities-changed="','"></hui-entity-editor> '])),this.hass,this._config,t,this._computeLabelCallback,this._valueChanged,this.hass,this._configEntities,this._entitiesChanged)}},{key:"_valueChanged",value:function(t){(0,v.B)(this,"config-changed",{config:t.detail.value})}},{key:"_entitiesChanged",value:function(t){var e=this._config;e=Object.assign(Object.assign({},e),{},{entities:t.detail.entities}),this._configEntities=(0,g.Q)(e.entities),(0,v.B)(this,"config-changed",{config:e})}}])}(_.oi);C.styles=(0,_.iv)(o||(o=(0,r.Z)(["ha-form{margin-bottom:24px}"]))),(0,u.__decorate)([(0,y.Cb)({attribute:!1})],C.prototype,"hass",void 0),(0,u.__decorate)([(0,y.SB)()],C.prototype,"_config",void 0),(0,u.__decorate)([(0,y.SB)()],C.prototype,"_configEntities",void 0),C=(0,u.__decorate)([(0,y.Mo)("hui-history-graph-card-editor")],C),a()}catch(S){a(S)}})},34591:function(t,e,i){i.d(e,{Q:function(){return a}});i(24819),i(81738),i(6989),i(54480);function a(t){return t.map(function(t){return"string"==typeof t?{entity:t}:t})}},90806:function(t,e,i){i.d(e,{I:function(){return n}});var a=i(95632),n=(0,a.Ry)({type:(0,a.Z_)(),view_layout:(0,a.Yj)(),layout_options:(0,a.Yj)(),grid_options:(0,a.Yj)(),visibility:(0,a.Yj)()})},94177:function(t,e,i){i.d(e,{K:function(){return r}});var a=i(95632),n=i(26488),o=i(20560),r=(0,a.G0)([(0,a.Ry)({entity:(0,a.Z_)(),name:(0,a.jt)((0,a.Z_)()),icon:(0,a.jt)((0,a.Z_)()),image:(0,a.jt)((0,a.Z_)()),secondary_info:(0,a.jt)((0,a.Z_)()),format:(0,a.jt)((0,a.kE)(n.Q)),state_color:(0,a.jt)((0,a.O7)()),tap_action:(0,a.jt)(o.fJ),hold_action:(0,a.jt)(o.fJ),double_tap_action:(0,a.jt)(o.fJ),confirmation:(0,a.jt)(o.TX)}),(0,a.Z_)()])}}]);
//# sourceMappingURL=44162.0264324404a61a57.js.map