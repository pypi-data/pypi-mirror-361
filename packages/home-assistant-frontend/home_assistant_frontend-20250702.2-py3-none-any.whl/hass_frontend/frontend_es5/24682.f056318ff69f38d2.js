"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["24682"],{87639:function(e,t,n){n.d(t,{D:function(){return r}});var r=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var l=r&&!n;clearTimeout(n),n=window.setTimeout(function(){n=void 0,e.apply(void 0,o)},t),l&&e.apply(void 0,o)};return a.cancel=function(){clearTimeout(n)},a}},87979:function(e,t,n){n.d(t,{u:function(){return P}});var r,a,o,i,l,c,u,s,d,p=n(74904),m=n(10354),h=n(54982),b=n(29694),f=n(75706),v=n(75778),y=n(54521),_=n(4490),g=n(20129),x=n(85297),C=n(53389),k=(n(12212),n(26847),n(24819),n(81738),n(22960),n(6989),n(87799),n(48454),n(54480),n(1455),n(48694),n(67398),n(27530),n(73742)),w=n(59048),j=n(7616),Z=n(2595),E=n(39884),L=(n(12942),n(52658),{boolean:function(){return Promise.all([n.e("55540"),n.e("99979")]).then(n.bind(n,87925))},constant:function(){return n.e("11303").then(n.bind(n,29815))},float:function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("53390")]).then(n.bind(n,93358))},grid:function(){return n.e("45691").then(n.bind(n,767))},expandable:function(){return n.e("8397").then(n.bind(n,77691))},integer:function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("97103"),n.e("91789"),n.e("55540"),n.e("21351"),n.e("97158"),n.e("460")]).then(n.bind(n,88375))},multi_select:function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("97103"),n.e("15486"),n.e("98831"),n.e("99028"),n.e("91789"),n.e("55540"),n.e("79576"),n.e("79291"),n.e("3198")]).then(n.bind(n,90915))},positive_time_period_dict:function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("15486"),n.e("86689"),n.e("98831"),n.e("99028"),n.e("7850"),n.e("8348"),n.e("93437")]).then(n.bind(n,15542))},select:function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("97103"),n.e("15486"),n.e("86689"),n.e("15601"),n.e("98831"),n.e("99028"),n.e("7850"),n.e("91789"),n.e("55540"),n.e("20278"),n.e("42382"),n.e("46839"),n.e("16376"),n.e("1020"),n.e("64409")]).then(n.bind(n,97300))},string:function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("46816")]).then(n.bind(n,73620))},optional_actions:function(){return Promise.all([n.e("64278"),n.e("31931")]).then(n.bind(n,39804))}}),O=function(e,t){return e?!t.name||t.flatten?e:e[t.name]:null},P=function(e){function t(){var e;(0,y.Z)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=(0,g.Z)(this,t,[].concat(r))).narrow=!1,e.disabled=!1,e}return(0,x.Z)(t,e),(0,_.Z)(t,[{key:"getFormProperties",value:function(){return{}}},{key:"focus",value:(n=(0,v.Z)((0,b.Z)().m(function e(){var t,n,r,a,o;return(0,b.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:if(t=this.renderRoot.querySelector(".root")){e.n=2;break}return e.a(2);case 2:n=(0,f.Z)(t.children),e.p=3,n.s();case 4:if((r=n.n()).done){e.n=7;break}if("HA-ALERT"===(a=r.value).tagName){e.n=6;break}if(!(a instanceof w.fl)){e.n=5;break}return e.n=5,a.updateComplete;case 5:return a.focus(),e.a(3,7);case 6:e.n=4;break;case 7:e.n=9;break;case 8:e.p=8,o=e.v,n.e(o);case 9:return e.p=9,n.f(),e.f(9);case 10:return e.a(2)}},e,this,[[3,8,9,10]])})),function(){return n.apply(this,arguments)})},{key:"willUpdate",value:function(e){e.has("schema")&&this.schema&&this.schema.forEach(function(e){var t;"selector"in e||null===(t=L[e.type])||void 0===t||t.call(L)})}},{key:"render",value:function(){var e=this;return(0,w.dy)(r||(r=(0,h.Z)([' <div class="root" part="root"> '," "," </div> "])),this.error&&this.error.base?(0,w.dy)(a||(a=(0,h.Z)([' <ha-alert alert-type="error"> '," </ha-alert> "])),this._computeError(this.error.base,this.schema)):"",this.schema.map(function(t){var n,r=function(e,t){return e&&t.name?e[t.name]:null}(e.error,t),a=function(e,t){return e&&t.name?e[t.name]:null}(e.warning,t);return(0,w.dy)(o||(o=(0,h.Z)([" "," "," "])),r?(0,w.dy)(i||(i=(0,h.Z)([' <ha-alert own-margin alert-type="error"> '," </ha-alert> "])),e._computeError(r,t)):a?(0,w.dy)(l||(l=(0,h.Z)([' <ha-alert own-margin alert-type="warning"> '," </ha-alert> "])),e._computeWarning(a,t)):"","selector"in t?(0,w.dy)(c||(c=(0,h.Z)(['<ha-selector .schema="','" .hass="','" .narrow="','" .name="','" .selector="','" .value="','" .label="','" .disabled="','" .placeholder="','" .helper="','" .localizeValue="','" .required="','" .context="','"></ha-selector>'])),t,e.hass,e.narrow,t.name,t.selector,O(e.data,t),e._computeLabel(t,e.data),t.disabled||e.disabled||!1,t.required?"":t.default,e._computeHelper(t),e.localizeValue,t.required||!1,e._generateContext(t)):(0,Z.h)(e.fieldElementName(t.type),Object.assign({schema:t,data:O(e.data,t),label:e._computeLabel(t,e.data),helper:e._computeHelper(t),disabled:e.disabled||t.disabled||!1,hass:e.hass,localize:null===(n=e.hass)||void 0===n?void 0:n.localize,computeLabel:e.computeLabel,computeHelper:e.computeHelper,localizeValue:e.localizeValue,context:e._generateContext(t)},e.getFormProperties())))}))}},{key:"fieldElementName",value:function(e){return"ha-form-".concat(e)}},{key:"_generateContext",value:function(e){if(e.context){for(var t={},n=0,r=Object.entries(e.context);n<r.length;n++){var a=(0,m.Z)(r[n],2),o=a[0],i=a[1];t[o]=this.data[i]}return t}}},{key:"createRenderRoot",value:function(){var e=(0,C.Z)(t,"createRenderRoot",this,3)([]);return this.addValueChangedListener(e),e}},{key:"addValueChangedListener",value:function(e){var t=this;e.addEventListener("value-changed",function(e){e.stopPropagation();var n=e.target.schema;if(e.target!==t){var r=!n.name||"flatten"in n&&n.flatten?e.detail.value:(0,p.Z)({},n.name,e.detail.value);t.data=Object.assign(Object.assign({},t.data),r),(0,E.B)(t,"value-changed",{value:t.data})}})}},{key:"_computeLabel",value:function(e,t){return this.computeLabel?this.computeLabel(e,t):e?e.name:""}},{key:"_computeHelper",value:function(e){return this.computeHelper?this.computeHelper(e):""}},{key:"_computeError",value:function(e,t){var n=this;return Array.isArray(e)?(0,w.dy)(u||(u=(0,h.Z)(["<ul> "," </ul>"])),e.map(function(e){return(0,w.dy)(s||(s=(0,h.Z)(["<li> "," </li>"])),n.computeError?n.computeError(e,t):e)})):this.computeError?this.computeError(e,t):e}},{key:"_computeWarning",value:function(e,t){return this.computeWarning?this.computeWarning(e,t):e}}]);var n}(w.oi);P.styles=(0,w.iv)(d||(d=(0,h.Z)([".root>*{display:block}.root>:not([own-margin]):not(:last-child){margin-bottom:24px}ha-alert[own-margin]{margin-bottom:4px}"]))),(0,k.__decorate)([(0,j.Cb)({attribute:!1})],P.prototype,"hass",void 0),(0,k.__decorate)([(0,j.Cb)({type:Boolean})],P.prototype,"narrow",void 0),(0,k.__decorate)([(0,j.Cb)({attribute:!1})],P.prototype,"data",void 0),(0,k.__decorate)([(0,j.Cb)({attribute:!1})],P.prototype,"schema",void 0),(0,k.__decorate)([(0,j.Cb)({attribute:!1})],P.prototype,"error",void 0),(0,k.__decorate)([(0,j.Cb)({attribute:!1})],P.prototype,"warning",void 0),(0,k.__decorate)([(0,j.Cb)({type:Boolean})],P.prototype,"disabled",void 0),(0,k.__decorate)([(0,j.Cb)({attribute:!1})],P.prototype,"computeError",void 0),(0,k.__decorate)([(0,j.Cb)({attribute:!1})],P.prototype,"computeWarning",void 0),(0,k.__decorate)([(0,j.Cb)({attribute:!1})],P.prototype,"computeLabel",void 0),(0,k.__decorate)([(0,j.Cb)({attribute:!1})],P.prototype,"computeHelper",void 0),(0,k.__decorate)([(0,j.Cb)({attribute:!1})],P.prototype,"localizeValue",void 0),P=(0,k.__decorate)([(0,j.Mo)("ha-form")],P)},81488:function(e,t,n){n.r(t),n.d(t,{HaSelectorSelector:function(){return m}});n(26847),n(81738),n(6989),n(87799),n(27530);var r=n(73742),a=n(59048),o=n(7616),i=n(28105),l=n(39884);n(12942),n(87979);let c,u,s=e=>e;const d={number:{min:1,max:100}},p={action:[],area:[{name:"multiple",selector:{boolean:{}}}],attribute:[{name:"entity_id",selector:{entity:{}}}],boolean:[],color_temp:[{name:"unit",selector:{select:{options:["kelvin","mired"]}}},{name:"min",selector:{number:{mode:"box"}}},{name:"max",selector:{number:{mode:"box"}}}],condition:[],date:[],datetime:[],device:[{name:"multiple",selector:{boolean:{}}}],duration:[{name:"enable_day",selector:{boolean:{}}},{name:"enable_millisecond",selector:{boolean:{}}}],entity:[{name:"multiple",selector:{boolean:{}}}],floor:[{name:"multiple",selector:{boolean:{}}}],icon:[],location:[],media:[{name:"accept",selector:{text:{multiple:!0}}}],number:[{name:"min",selector:{number:{mode:"box",step:"any"}}},{name:"max",selector:{number:{mode:"box",step:"any"}}},{name:"step",selector:{number:{mode:"box",step:"any"}}}],object:[],color_rgb:[],select:[{name:"options",selector:{object:{}}},{name:"multiple",selector:{boolean:{}}}],state:[{name:"entity_id",selector:{entity:{}}}],target:[],template:[],text:[{name:"multiple",selector:{boolean:{}}},{name:"multiline",selector:{boolean:{}}},{name:"prefix",selector:{text:{}}},{name:"suffix",selector:{text:{}}}],theme:[],time:[]};class m extends a.oi{shouldUpdate(e){return 1!==e.size||!e.has("hass")}render(){let e,t;if(this._yamlMode)t="manual",e={type:t,manual:this.value};else{t=Object.keys(this.value)[0];const n=Object.values(this.value)[0];e=Object.assign({type:t},"object"==typeof n?n:[])}const n=this._schema(t,this.hass.localize);return(0,a.dy)(c||(c=s`<ha-card> <div class="card-content"> <p>${0}</p> <ha-form .hass="${0}" .data="${0}" .schema="${0}" .computeLabel="${0}" @value-changed="${0}"></ha-form></div></ha-card>`),this.label?this.label:"",this.hass,e,n,this._computeLabelCallback,this._valueChanged)}_valueChanged(e){e.stopPropagation();const t=e.detail.value,n=t.type;if(!n||"object"!=typeof t||0===Object.keys(t).length)return;const r=Object.keys(this.value)[0];if("manual"===n&&!this._yamlMode)return this._yamlMode=!0,void this.requestUpdate();if("manual"===n&&void 0===t.manual)return;let a;"manual"!==n&&(this._yamlMode=!1),delete t.type,a="manual"===n?t.manual:n===r?{[n]:Object.assign({},t.manual?t.manual[r]:t)}:{[n]:Object.assign({},d[n])},(0,l.B)(this,"value-changed",{value:a})}constructor(...e){super(...e),this.disabled=!1,this.required=!0,this._yamlMode=!1,this._schema=(0,i.Z)((e,t)=>[{name:"type",selector:{select:{mode:"dropdown",required:!0,options:Object.keys(p).concat("manual").map(e=>({label:t(`ui.components.selectors.selector.types.${e}`)||e,value:e}))}}},..."manual"===e?[{name:"manual",selector:{object:{}}}]:[],...p[e]?p[e].length>1?[{name:"",type:"expandable",title:t("ui.components.selectors.selector.options"),schema:p[e]}]:p[e]:[]]),this._computeLabelCallback=e=>this.hass.localize(`ui.components.selectors.selector.${e.name}`)||e.name}}m.styles=(0,a.iv)(u||(u=s`:host{--expansion-panel-summary-padding:0 16px}ha-alert{display:block;margin-bottom:16px}ha-card{margin:0 0 16px 0}ha-card.disabled{pointer-events:none;color:var(--disabled-text-color)}.card-content{padding:0px 16px 16px 16px}.title{font-size:var(--ha-font-size-l);padding-top:16px;overflow:hidden;text-overflow:ellipsis;margin-bottom:16px;padding-left:16px;padding-right:4px;padding-inline-start:16px;padding-inline-end:4px;white-space:nowrap}`)),(0,r.__decorate)([(0,o.Cb)({attribute:!1})],m.prototype,"hass",void 0),(0,r.__decorate)([(0,o.Cb)({attribute:!1})],m.prototype,"value",void 0),(0,r.__decorate)([(0,o.Cb)()],m.prototype,"label",void 0),(0,r.__decorate)([(0,o.Cb)()],m.prototype,"helper",void 0),(0,r.__decorate)([(0,o.Cb)({type:Boolean,reflect:!0})],m.prototype,"disabled",void 0),(0,r.__decorate)([(0,o.Cb)({type:Boolean,reflect:!0})],m.prototype,"required",void 0),m=(0,r.__decorate)([(0,o.Mo)("ha-selector-selector")],m)},97903:function(e,t,n){if(n.d(t,{q:function(){return l}}),66977!=n.j)var r=n(5657);if(66977!=n.j)var a=n(87639);var o=function(e){return e.sendMessagePromise({type:"config/device_registry/list"})},i=function(e,t){return e.subscribeEvents((0,a.D)(function(){return o(e).then(function(e){return t.setState(e,!0)})},500,!0),"device_registry_updated")},l=function(e,t){return(0,r.B)("_dr",o,i,e,t)}},5657:function(e,t,n){n.d(t,{B:function(){return o},_:function(){return a}});n(40777),n(12212);var r=n(55463),a=function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{unsubGrace:!0};if(e[t])return e[t];var i,l,c=0,u=(0,r.M)(),s=function(){if(!n)throw new Error("Collection does not support refresh");return n(e).then(function(e){return u.setState(e,!0)})},d=function(){return s().catch(function(t){if(e.connected)throw t})},p=function(){l=void 0,i&&i.then(function(e){e()}),u.clearState(),e.removeEventListener("ready",s),e.removeEventListener("disconnected",m)},m=function(){l&&(clearTimeout(l),p())};return e[t]={get state(){return u.state},refresh:s,subscribe:function(t){1===++c&&function(){if(void 0!==l)return clearTimeout(l),void(l=void 0);a&&(i=a(e,u)),n&&(e.addEventListener("ready",d),d()),e.addEventListener("disconnected",m)}();var r=u.subscribe(t);return void 0!==u.state&&setTimeout(function(){return t(u.state)},0),function(){r(),--c||(o.unsubGrace?l=setTimeout(p,5e3):p())}}},e[t]},o=function(e,t,n,r,o){return a(r,e,t,n).subscribe(o)}},55463:function(e,t,n){n.d(t,{M:function(){return r}});n(2394),n(87799),n(54480),n(1455);var r=function(e){var t=[];function n(n,r){e=r?n:Object.assign(Object.assign({},e),n);for(var a=t,o=0;o<a.length;o++)a[o](e)}return{get state(){return e},action:function(t){function r(e){n(e,!1)}return function(){for(var n=[e],a=0;a<arguments.length;a++)n.push(arguments[a]);var o=t.apply(this,n);if(null!=o)return o instanceof Promise?o.then(r):r(o)}},setState:n,clearState:function(){e=void 0},subscribe:function(e){return t.push(e),function(){!function(e){for(var n=[],r=0;r<t.length;r++)t[r]===e?e=null:n.push(t[r]);t=n}(e)}}}}}}]);
//# sourceMappingURL=24682.f056318ff69f38d2.js.map