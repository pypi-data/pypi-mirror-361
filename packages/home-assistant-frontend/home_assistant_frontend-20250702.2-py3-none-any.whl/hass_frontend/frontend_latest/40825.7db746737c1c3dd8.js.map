{"version":3,"file":"40825.7db746737c1c3dd8.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250702.2/src/common/color/colors.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250702.2/src/components/chart/ha-sankey-chart.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250702.2/src/components/chips/ha-assist-chip.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250702.2/src/components/trace/hat-graph-const.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250702.2/src/data/recorder.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250702.2/src/mixins/subscribe-mixin.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250702.2/src/panels/lovelace/cards/energy/hui-energy-sankey-card.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250702.2/src/util/text.ts"],"names":["COLORS","getColorByIndex","index","length","getGraphColorByIndex","style","themeColor","getPropertyValue","theme2hex","getAllGraphColors","memoizeOne","map","_color","newArgs","lastArgs","OVERFLOW_MARGIN","FONT_SIZE","NODE_GAP","LABEL_DISTANCE","HaSankeyChart","LitElement","render","options","grid","top","bottom","left","right","tooltip","trigger","formatter","this","_renderTooltip","appendTo","document","body","html","_createData","data","_sizeController","value","width","SankeyChart","_processLinks","nodes","rawLinks","accountedIn","Map","accountedOut","links","forEach","link","sourceNode","find","n","id","source","targetNode","target","sourceAccounted","get","targetAccounted","sourceRemaining","targetRemaining","Math","min","set","push","_findParentIndex","sections","parent","l","offset","i","section","findIndex","args","vertical","ResizeController","callback","entries","contentRect","params","valueFormatter","node","marker","label","filteredNodes","filter","indexes","Set","sort","depthMap","nodesWithIndex","a","b","aParentIndex","bParentIndex","labelSpace","NODE_SIZE","type","flat","itemStyle","color","depth","draggable","orient","nodeWidth","nodeGap","lineStyle","opacity","layoutIterations","position","distance","minMargin","overflow","labelLayout","longestWord","text","split","reduce","longest","current","wordWidth","measureTextWidth","fontSize","rect","align","lineCount","ceil","labelRect","height","lineHeight","emphasis","focus","styles","css","attribute","Boolean","String","HaAssistChip","AssistChip","renderOutline","filled","super","getContainerClasses","active","renderPrimaryContent","renderLeadingIcon","renderTrailingIcon","sharedStyles","elevatedStyles","reflect","SPACING","BRANCH_HEIGHT","StatisticMeanType","STATISTIC_TYPES","getRecorderInfo","conn","sendMessagePromise","getStatisticIds","hass","statistic_type","callWS","getStatisticMetadata","statistic_ids","fetchStatistics","startTime","endTime","period","units","types","start_time","toISOString","end_time","fetchStatistic","statistic_id","fixed_period","start","Date","end","undefined","calendar","rolling_window","validateStatistics","updateStatisticsMetadata","unit_of_measurement","clearStatistics","calculateStatisticSumGrowth","values","growth","change","calculateStatisticsSumGrowth","stats","totalGrowth","stat","statGrowth","statisticsHaveType","some","mean_stat_types","sum_stat_types","statisticsMetaHasType","metadata","includes","mean_type","has_sum","adjustStatisticsSum","adjustment","adjustment_unit_of_measurement","start_time_iso","getStatisticLabel","statisticsId","statisticsMetaData","entity","states","computeStateName","name","getDisplayUnit","unit","attributes","statistics_unit_of_measurement","isExternalStatistic","updateStatisticsIssues","SubscribeMixin","superClass","SubscribeClass","connectedCallback","_checkSubscribed","disconnectedCallback","__unsubs","unsub","pop","Promise","then","unsubFunc","updated","changedProps","has","hassSubscribeRequiredHostProps","key","keys","hassSubscribe","isConnected","prop","DEFAULT_CONFIG","group_by_floor","group_by_area","HuiEnergySankeyCard","setConfig","config","_config","getEnergyDataCollection","collection_key","subscribe","_data","getCardSize","getGridOptions","columns","min_columns","rows","min_rows","shouldUpdate","nothing","localize","prefs","energySourcesByType","summedData","compareSummedData","_","getSummedData","computedStyle","getComputedStyle","homeNode","totalFromGrid","total","from_grid","formatNumber","locale","solar","totalSolarProduction","sum","battery","netBattery","from_battery","to_battery","netBatteryOut","max","netBatteryIn","flow_to","totalToGrid","to_grid","untrackedConsumption","deviceNodes","parentLinks","device_consumption","device","idx","stat_consumption","statsMetadata","included_in_stat","devicesWithoutParent","areas","floors","_groupByFloorAndArea","Object","level","Infinity","floorId","floorNodeId","areaId","targetNodeId","areaNodeId","devices","deviceNode","deviceSections","_getDeviceSections","hasData","title","layout","_valueFormatter","no_area","no_floor","area","floor","getEntityContext","area_id","floor_id","unshift","parentSection","childSection","parentIds","remainingLinks","textMeasureCanvas","fontFamily","createElement","context","getContext","font","textMetrics","measureText","actualBoundingBoxRight","actualBoundingBoxLeft"],"mappings":"6JAGO,MAAMA,EAAS,CACpB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAGK,SAASC,EAAgBC,GAC9B,OAAOF,EAAOE,EAAQF,EAAOG,OAC/B,CAEO,SAASC,EACdF,EACAG,GAGA,MAAMC,EACJD,EAAME,iBAAiB,iBAAiBL,EAAQ,MAChDD,EAAgBC,GAClB,OAAOM,EAAAA,EAAAA,IAAUF,EACnB,CAEO,MAAMG,GAAoBC,EAAAA,EAAAA,GAC9BL,GACCL,EAAOW,IAAI,CAACC,EAAQV,IAAUE,EAAqBF,EAAOG,IAC5D,CAACQ,EAAgCC,IAE/BD,EAAQ,GAAGN,iBAAiB,qBAC5BO,EAAS,GAAGP,iBAAiB,mB,sUCzCjC,MAAMQ,EAAkB,EAClBC,EAAY,GACZC,EAAW,EACXC,EAAiB,EAGhB,MAAMC,UAAsBC,EAAAA,GAoBjCC,MAAAA,GACE,MAAMC,EAAU,CACdC,KAAM,CACJC,IAAK,EACLC,OAAQ,EACRC,KAAM,EACNC,MAAO,GAETC,QAAS,CACPC,QAAS,OACTC,UAAWC,KAAKC,eAChBC,SAAUC,SAASC,OAIvB,OAAOC,EAAAA,EAAI,yBACDL,KAAKM,YAAYN,KAAKO,KAAMP,KAAKQ,gBAAgBC,OAAOC,qBACrDnB,sCAEQ,CAACoB,EAAAA,sBAExB,CA0IQC,aAAAA,CAAcC,EAAeC,GACnC,MAAMC,EAAc,IAAIC,IAClBC,EAAe,IAAID,IACnBE,EAAyB,GA8B/B,OA7BAJ,EAASK,QAASC,IAChB,MAAMC,EAAaR,EAAMS,KAAMC,GAAMA,EAAEC,KAAOJ,EAAKK,QAC7CC,EAAab,EAAMS,KAAMC,GAAMA,EAAEC,KAAOJ,EAAKO,QACnD,IAAKN,IAAeK,EAClB,OAEF,MAAME,EAAkBX,EAAaY,IAAIR,EAAWG,KAAO,EACrDM,EAAkBf,EAAYc,IAAIH,EAAWF,KAAO,EAGpDO,EAAkBV,EAAWZ,MAAQmB,EACrCI,EAAkBN,EAAWjB,MAAQqB,EAErCrB,EAAQwB,KAAKC,IACjBd,EAAKX,OAASsB,EACdA,EACAC,GAGFjB,EAAYoB,IAAIT,EAAWF,GAAIM,EAAkBrB,GACjDQ,EAAakB,IAAId,EAAWG,GAAII,EAAkBnB,GAE9CA,EAAQ,GACVS,EAAMkB,KAAK,IACNhB,EACHX,YAICS,CACT,CAEQmB,gBAAAA,CAAiBb,EAAYN,EAAeoB,GAClD,MAAMC,EAASrB,EAAMI,KAAMkB,GAAMA,EAAEb,SAAWH,IAAKC,OACnD,IAAKc,EACH,OAAQ,EAEV,IAAIE,EAAS,EACb,IAAK,IAAIC,EAAIJ,EAASlE,OAAS,EAAGsE,GAAK,EAAGA,IAAK,CAC7C,MAAMC,EAAUL,EAASI,GACnBvE,EAAQwE,EAAQC,UAAWrB,GAAMA,EAAEC,KAAOe,GAChD,IAAe,IAAXpE,EACF,OAAOsE,EAAStE,EAElBsE,GAAUE,EAAQvE,MACpB,CACA,OAAQ,CACV,C,kBAtOK,SAAAyE,GAAA,KAGkCtC,KAAwB,CAC7DM,MAAO,GACPK,MAAO,IACT,KAEoC4B,UAAW,OAQ9BtC,gBAAkB,IAAIuC,EAAAA,EAAiB/C,KAAM,CAC5DgD,SAAWC,GAAYA,EAAQ,IAAIC,cACrC,KAyBQjD,eAAkBkD,IACxB,MAAM5C,EAAO4C,EAAO5C,KACdE,EAAQT,KAAKoD,eACfpD,KAAKoD,eAAe7C,EAAKE,OACzBF,EAAKE,MACT,GAAIF,EAAKiB,GAAI,CACX,MAAM6B,EAAOrD,KAAKO,KAAKM,MAAMS,KAAMC,GAAMA,EAAEC,KAAOjB,EAAKiB,IACvD,MAAO,GAAG2B,EAAOG,UAAUD,GAAME,OAAShD,EAAKiB,SAASf,GAC1D,CACA,GAAIF,EAAKkB,QAAUlB,EAAKoB,OAAQ,CAC9B,MAAMF,EAASzB,KAAKO,KAAKM,MAAMS,KAAMC,GAAMA,EAAEC,KAAOjB,EAAKkB,QACnDE,EAAS3B,KAAKO,KAAKM,MAAMS,KAAMC,GAAMA,EAAEC,KAAOjB,EAAKoB,QACzD,MAAO,GAAGF,GAAQ8B,OAAShD,EAAKkB,YAAYE,GAAQ4B,OAAShD,EAAKoB,aAAalB,GACjF,CACA,OAAO,MACT,KAEQH,aAAc3B,EAAAA,EAAAA,GAAW,CAAC4B,EAAuBG,EAAQ,KAC/D,MAAM8C,EAAgBjD,EAAKM,MAAM4C,OAAQlC,GAAMA,EAAEd,MAAQ,GACnDiD,EAAU,IAAI,IAAIC,IAAIH,EAAc5E,IAAK2C,GAAMA,EAAEpD,SAASyF,OAC1DC,EAAW,IAAI7C,IACfsB,EAAqB,GAC3BoB,EAAQvC,QAAQ,CAAChD,EAAOuE,KACtBmB,EAAS1B,IAAIhE,EAAOuE,GACpB,MAAMoB,EAAiBN,EAAcC,OAAQlC,GAAMA,EAAEpD,QAAUA,GAC3D2F,EAAe1F,OAAS,GAC1BkE,EAASF,KACPE,EAASlE,OAAS,EACd0F,EAAeF,KAAK,CAACG,EAAGC,KAEtB,MAAMC,EAAejE,KAAKqC,iBACxB0B,EAAEvC,GACFjB,EAAKW,MACLoB,GAEI4B,EAAelE,KAAKqC,iBACxB2B,EAAExC,GACFjB,EAAKW,MACLoB,GAEF,OAAI2B,IAAiBC,EACZ,GAEa,IAAlBD,EACK,GAEa,IAAlBC,GACM,EAEHD,EAAeC,IAExBJ,KAIV,MAAM5C,EAAQlB,KAAKY,cAAc4C,EAAejD,EAAKW,OAE/CiD,EADezD,EAAQgD,EAAQtF,OACHgG,EAAAA,GAAYjF,EAE9C,MAAO,CACLqC,GAAI,SACJ6C,KAAM,SACNxD,MAAOyB,EAASgC,OAAO1F,IAAKyE,IAAA,CAC1B7B,GAAI6B,EAAK7B,GACTf,MAAO4C,EAAK5C,MACZ8D,UAAW,CACTC,MAAOnB,EAAKmB,OAEdC,MAAOZ,EAAShC,IAAIwB,EAAKlF,UAE3B+C,QACAwD,WAAW,EACXC,OAAQ3E,KAAK8C,SAAW,WAAa,aACrC8B,UAAW,GACXC,QAAS3F,EACT4F,UAAW,CACTN,MAAO,WACPO,QAAS,IAEXC,iBAAkB,EAClBzB,MAAO,CACLxD,UAAYoD,GACV5C,EAAKM,MAAMS,KAAM+B,GAASA,EAAK7B,KAAO2B,EAAQ5C,KAAciB,KACxD+B,OAASJ,EAAQ5C,KAAciB,GACrCyD,SAAUjF,KAAK8C,SAAW,SAAW,QACrCoC,SAAU/F,EACVgG,UAAW,EACXC,SAAU,SAEZC,YAAclC,IACZ,GAAInD,KAAK8C,SAAU,CAEjB,MAAMwC,EAAcnC,EAAOoC,KACxBC,MAAM,KACNC,OACC,CAACC,EAASC,IACRD,EAAQtH,OAASuH,EAAQvH,OAASsH,EAAUC,EAC9C,IAEEC,GAAYC,EAAAA,EAAAA,GAAiBP,EAAarG,GAC1C6G,EAAW7D,KAAKC,IACpBjD,EACAkE,EAAQ4C,KAAKrF,MAAQkF,EAAa3G,GAEpC,MAAO,CACL6G,SAAUA,EAAW,EAAIA,EAAW,EACpCpF,MAAOyC,EAAO4C,KAAKrF,MACnBsF,MAAO,SAEX,CAIA,MAAMC,EAAYhE,KAAKiE,KAAK/C,EAAOgD,UAAUzF,MAAQyD,GAE/C2B,EAAW7D,KAAKC,IACpBiB,EAAQ4C,KAAKK,OAASH,EAAahH,EACnCA,GAEF,MAAO,CACL6G,WACAO,WAAYP,EACZpF,MAAOyD,EACPiC,OAAQjD,EAAO4C,KAAKK,SAGxB3G,IAAKO,KAAK8C,SAAW,EAAI9D,EACzBU,OAAQM,KAAK8C,SAAW,GAAK9D,EAC7BW,KAAMK,KAAK8C,SAAW9D,EAAkB,EACxCY,MAAOI,KAAK8C,SAAW9D,EAAkBmF,EAAahF,EACtDmH,SAAU,CACRC,MAAO,e,EA9KFnH,EAwOJoH,OAASC,EAAAA,EAAG,sI,2BAvOPC,WAAW,K,uDAEXA,WAAW,K,uDAKXrC,KAAMsC,W,2DAENtC,KAAMuC,OAAQF,WAAW,K,yRC5ChC,MAAMG,UAAqBC,EAAAA,EAwDbC,aAAAA,GACjB,OAAI/G,KAAKgH,OACA3G,EAAAA,EAAI,+BAGN4G,MAAMF,eACf,CAEmBG,mBAAAA,GACjB,MAAO,IACFD,MAAMC,sBACTC,OAAQnH,KAAKmH,OAEjB,CAEmBC,oBAAAA,GACjB,OAAO/G,EAAAA,EAAI,mDAELL,KAAKqH,mDAEarH,KAAKuD,oGAGvBvD,KAAKsH,+BAGb,CAEUA,kBAAAA,GACR,OAAOjH,EAAAA,EAAI,oCACb,C,kBAtFK,SAAAwC,GAAA,KACuCmE,QAAS,OAExBG,QAAS,C,EAH3BN,EAKKL,OAAS,CACvBe,EAAAA,EACAC,EAAAA,EACAhB,EAAAA,EACAC,EAAAA,EAAG;;;k2BAROpC,KAAMsC,QAASc,SAAS,K,yDAExBpD,KAAMsC,W,2ICdb,MAAMe,EAAU,GACVtD,EAAY,GACZuD,EAAgB,E,4OCoCjBC,EAAA,SAAAA,G,oFAAAA,C,CAAA,C,IAgBL,MAAMC,EAAwD,YACnE,sBACA,4BACA,sBACA,gBACA,oBACA,YACD,KAkFYC,EAAmBC,GAC9BA,EAAKC,mBAAiC,CACpC3D,KAAM,kBAGG4D,EAAkBA,CAC7BC,EACAC,IAEAD,EAAKE,OAA6B,CAChC/D,KAAM,8BACN8D,mBAGSE,EAAuBA,CAClCH,EACAI,IAEAJ,EAAKE,OAA6B,CAChC/D,KAAM,mCACNiE,kBAGSC,EAAkBA,CAC7BL,EACAM,EACAC,EACAH,EACAI,EAAwD,OACxDC,EACAC,IAEAV,EAAKE,OAAmB,CACtB/D,KAAM,oCACNwE,WAAYL,EAAUM,cACtBC,SAAUN,GAASK,cACnBR,gBACAI,SACAC,QACAC,UAGSI,EAAiBA,CAC5Bd,EACAe,EACAP,EAKAC,IAEAT,EAAKE,OAAkB,CACrB/D,KAAM,mCACN4E,eACAN,QACAO,aAAcR,EAAOQ,aACjB,CACEL,WACEH,EAAOQ,aAAaC,iBAAiBC,KACjCV,EAAOQ,aAAaC,MAAML,cAC1BJ,EAAOQ,aAAaC,MAC1BJ,SACEL,EAAOQ,aAAaG,eAAeD,KAC/BV,EAAOQ,aAAaG,IAAIP,cACxBJ,EAAOQ,aAAaG,UAE5BC,EACJC,SAAUb,EAAOa,SACjBC,eAAgBd,EAAOc,iBAGdC,EAAsBvB,GACjCA,EAAKE,OAAoC,CACvC/D,KAAM,iCAGGqF,EAA2BA,CACtCxB,EACAe,EACAU,IAEAzB,EAAKE,OAAkB,CACrB/D,KAAM,sCACN4E,eACAU,wBAGSC,EAAkBA,CAAC1B,EAAqBI,IACnDJ,EAAKE,OAAkB,CACrB/D,KAAM,4BACNiE,kBAGSuB,EACXC,IAEA,IAAIC,EAAwB,KAE5B,IAAKD,EACH,OAAO,KAGT,IAAK,MAAMrJ,KAASqJ,EACG,OAAjBrJ,EAAMuJ,aAAoCV,IAAjB7I,EAAMuJ,SAGpB,OAAXD,EACFA,EAAStJ,EAAMuJ,OAEfD,GAAUtJ,EAAMuJ,QAIpB,OAAOD,GAGIE,EAA+BA,CAC1C1J,EACA2J,KAEA,IAAIC,EAA6B,KAEjC,IAAK,MAAMC,KAAQF,EAAO,CACxB,KAAME,KAAQ7J,GACZ,SAEF,MAAM8J,EAAaR,EAA4BtJ,EAAK6J,IAEjC,OAAfC,IAGgB,OAAhBF,EACFA,EAAcE,EAEdF,GAAeE,EAEnB,CAEA,OAAOF,GAGIG,EAAqBA,CAChCJ,EACA7F,IACG6F,EAAMK,KAAMH,QAAwBd,IAAfc,EAAK/F,IAAsC,OAAf+F,EAAK/F,IAErDmG,EAA4C,CAAC,OAAQ,MAAO,OAC5DC,EAA2C,CAAC,MAAO,QAAS,UAErDC,EAAwBA,CACnCC,EACAtG,OAGEmG,EAAgBI,SAASvG,IACF,IAAvBsG,EAASE,eAIPJ,EAAeG,SAASvG,KAASsG,EAASG,SAMnCC,EAAsBA,CACjC7C,EACAe,EACAJ,EACAmC,EACAC,KAEA,MAAMC,EAAiB,IAAI9B,KAAKP,GAAYC,cAC5C,OAAOZ,EAAKE,OAAkB,CAC5B/D,KAAM,iCACN4E,eACAJ,WAAYqC,EACZF,aACAC,oCAISE,EAAoBA,CAC/BjD,EACAkD,EACAC,KAEA,MAAMC,EAASpD,EAAKqD,OAAOH,GAC3B,OAAIE,GACKE,EAAAA,EAAAA,GAAiBF,GAEnBD,GAAoBI,MAAQL,GAGxBM,EAAiBA,CAC5BxD,EACAkD,EACAC,KAEA,IAAIM,EAIJ,OAHIP,IACFO,EAAOzD,EAAKqD,OAAOH,IAAeQ,WAAWjC,0BAE/BL,IAATqC,EACHN,GAAoBQ,+BACpBF,GAGOG,EAAuBV,GAClCA,EAAaR,SAAS,KAEXmB,EAA0B7D,GACrCA,EAAKE,OAAkB,CAAE/D,KAAM,qC,oFC3V1B,MAAM2H,EACXC,IAEA,MAAMC,UAAuBD,EAQpBE,iBAAAA,GACLlF,MAAMkF,oBACNnM,KAAKoM,kBACP,CAEOC,oBAAAA,GAEL,GADApF,MAAMoF,uBACFrM,KAAKsM,SAAU,CACjB,KAAOtM,KAAKsM,SAASlO,QAAQ,CAC3B,MAAMmO,EAAQvM,KAAKsM,SAASE,MACxBD,aAAiBE,QACnBF,EAAMG,KAAMC,GAAcA,KAE1BJ,GAEJ,CACAvM,KAAKsM,cAAWhD,CAClB,CACF,CAEUsD,OAAAA,CAAQC,GAEhB,GADA5F,MAAM2F,QAAQC,GACVA,EAAaC,IAAI,QACnB9M,KAAKoM,wBAGP,GAAKpM,KAAK+M,+BAGV,IAAK,MAAMC,KAAOH,EAAaI,OAC7B,GAAIjN,KAAK+M,+BAA+BnC,SAASoC,GAE/C,YADAhN,KAAKoM,kBAIX,CAEUc,aAAAA,GACR,MAAO,EACT,CAEQd,gBAAAA,QAEc9C,IAAlBtJ,KAAKsM,UACJ,KAA6Ba,kBAChB7D,IAAdtJ,KAAKkI,OACLlI,KAAK+M,gCAAgCxC,KAClC6C,QAAwB9D,IAAftJ,KAAKoN,MAKnBpN,KAAKsM,SAAWtM,KAAKkN,gBACvB,EAEF,O,2BA9DcxG,WAAW,K,2BA8DlBwF,E,0QCjDT,MAAMmB,EAAkD,CACtDC,gBAAgB,EAChBC,eAAe,GAGjB,MACMC,WACIxB,EAAAA,EAAAA,GAAe3M,EAAAA,KAWhBoO,SAAAA,CAAUC,GACf1N,KAAK2N,QAAU,IAAKN,KAAmBK,EACzC,CAEOR,aAAAA,GACL,MAAO,EACLU,EAAAA,EAAAA,IAAwB5N,KAAKkI,KAAM,CACjC8E,IAAKhN,KAAK2N,SAASE,iBAClBC,UAAWvN,IACZP,KAAK+N,MAAQxN,IAGnB,CAEOyN,WAAAA,GACL,OAAO,CACT,CAEAC,cAAAA,GACE,MAAO,CACLC,QAAS,GACTC,YAAa,EACbC,KAAM,EACNC,SAAU,EAEd,CAEUC,YAAAA,CAAazB,GACrB,OAAOA,EAAaC,IAAI,YAAcD,EAAaC,IAAI,QACzD,CAEUxN,MAAAA,GACR,IAAKU,KAAK2N,QACR,OAAOY,EAAAA,GAGT,IAAKvO,KAAK+N,MACR,OAAO1N,EAAAA,EAAI,GAAGL,KAAKkI,KAAKsG,SACtB,4CAIJ,MAAMC,EAAQzO,KAAK+N,MAAMU,MACnB7F,GAAQ8F,EAAAA,EAAAA,IAAoBD,IAC5B,WAAEE,EAAYC,kBAAmBC,IAAMC,EAAAA,EAAAA,IAAc9O,KAAK+N,OAE1DgB,EAAgBC,iBAAiBhP,MAEjCa,EAAgB,GAChBK,EAAgB,GAEhB+N,EAAiB,CACrBzN,GAAI,OACJ+B,MAAOvD,KAAKkI,KAAKsG,SACf,2DAEF/N,MAAO,EACP+D,MAAOuK,EAAcvQ,iBAAiB,mBACtCL,MAAO,GAIT,GAFA0C,EAAMuB,KAAK6M,GAEPrG,EAAMpJ,KAAM,CACd,MAAM0P,EAAgBP,EAAWQ,MAAMC,WAAa,EAEpDvO,EAAMuB,KAAK,CACTZ,GAAI,OACJ+B,MAAOvD,KAAKkI,KAAKsG,SACf,2DAEF/N,MAAOyO,EACPrP,QAAS,IAAGwP,EAAAA,EAAAA,IAAaH,EAAelP,KAAKkI,KAAKoH,cAClD9K,MAAOuK,EAAcvQ,iBACnB,mCAEFL,MAAO,IAGT+C,EAAMkB,KAAK,CACTX,OAAQ,OACRE,OAAQ,QAEZ,CAGA,GAAIiH,EAAM2G,MAAO,CACf,MAAMC,EAAuBb,EAAWQ,MAAMI,OAAS,EAEvD1O,EAAMuB,KAAK,CACTZ,GAAI,QACJ+B,MAAOvD,KAAKkI,KAAKsG,SACf,4DAEF/N,MAAO+O,EACP3P,QAAS,IAAGwP,EAAAA,EAAAA,IAAaG,EAAsBxP,KAAKkI,KAAKoH,cACzD9K,MAAOuK,EAAcvQ,iBAAiB,wBACtCL,MAAO,IAGT+C,EAAMkB,KAAK,CACTX,OAAQ,QACRE,OAAQ,QAEZ,CAOA,GAJAsN,EAASxO,MAAQI,EACd4C,OAAQJ,GAAwB,IAAfA,EAAKlF,OACtBsH,OAAO,CAACgK,EAAKpM,IAASoM,GAAOpM,EAAK5C,OAAS,GAAI,GAE9CmI,EAAM8G,QAAS,CAEjB,MAEMC,GAFkBhB,EAAWQ,MAAMS,cAAgB,IAClCjB,EAAWQ,MAAMU,YAAc,GAEhDC,EAAgB7N,KAAK8N,IAAIJ,EAAY,GACrCK,EAAe/N,KAAK8N,KAAKJ,EAAY,GAC3CV,EAASxO,OAASkP,EAElB9O,EAAMuB,KAAK,CACTZ,GAAI,UACJ+B,MAAOvD,KAAKkI,KAAKsG,SACf,8DAEF/N,MAAOqP,EACPjQ,QAAS,IAAGwP,EAAAA,EAAAA,IAAaS,EAAe9P,KAAKkI,KAAKoH,cAClD9K,MAAOuK,EAAcvQ,iBAAiB,8BACtCL,MAAO,IAET+C,EAAMkB,KAAK,CACTX,OAAQ,UACRE,OAAQ,SAIVd,EAAMuB,KAAK,CACTZ,GAAI,aACJ+B,MAAOvD,KAAKkI,KAAKsG,SACf,8DAEF/N,MAAOuP,EACPnQ,QAAS,IAAGwP,EAAAA,EAAAA,IAAaW,EAAchQ,KAAKkI,KAAKoH,cACjD9K,MAAOuK,EAAcvQ,iBAAiB,6BACtCL,MAAO,IAET0C,EAAMM,QAASkC,IAEM,IAAfA,EAAKlF,OACP+C,EAAMkB,KAAK,CACTX,OAAQ4B,EAAK7B,GACbG,OAAQ,gBAIhB,CAGA,GAAIiH,EAAMpJ,MAAQoJ,EAAMpJ,KAAK,GAAGyQ,QAAS,CACvC,MAAMC,EAAcvB,EAAWQ,MAAMgB,SAAW,EAEhDtP,EAAMuB,KAAK,CACTZ,GAAI,cACJ+B,MAAOvD,KAAKkI,KAAKsG,SACf,2DAEF/N,MAAOyP,EACPrQ,QAAS,IAAGwP,EAAAA,EAAAA,IAAaa,EAAalQ,KAAKkI,KAAKoH,cAChD9K,MAAOuK,EAAcvQ,iBAAiB,8BACtCL,MAAO,IAET0C,EAAMM,QAASkC,IAEM,IAAfA,EAAKlF,OAA2B,SAAZkF,EAAK7B,IAC3BN,EAAMkB,KAAK,CACTX,OAAQ4B,EAAK7B,GACbG,OAAQ,kBAKdsN,EAASxO,OAASyP,CACpB,CAEA,IAAIE,EAAuBnB,EAASxO,MACpC,MAAM4P,EAAsB,GACtBC,EAAsC,CAAC,EAC7C7B,EAAM8B,mBAAmBpP,QAAQ,CAACqP,EAAQC,KACxC,MAAMhQ,EACJ+P,EAAOE,oBAAoB1Q,KAAK+N,MAAO7D,QACnCL,EAAAA,EAAAA,IACE7J,KAAK+N,MAAO7D,MAAMsG,EAAOE,oBAE3B,EACN,GAAIjQ,EAAQ,IACV,OAEF,MAAM4C,EAAO,CACX7B,GAAIgP,EAAOE,iBACXnN,MACEiN,EAAO/E,OACPN,EAAAA,EAAAA,IACEnL,KAAKkI,KACLsI,EAAOE,iBACP1Q,KAAK+N,MAAO4C,cAAcH,EAAOE,mBAErCjQ,QACAZ,QAAS,IAAGwP,EAAAA,EAAAA,IAAa5O,EAAOT,KAAKkI,KAAKoH,cAC1C9K,OAAOnG,EAAAA,EAAAA,IAAqBoS,EAAK1B,GACjC5Q,MAAO,EACPoE,OAAQiO,EAAOI,kBAEbvN,EAAKd,QACP+N,EAAYjN,EAAK7B,IAAM6B,EAAKd,OAC5BrB,EAAMkB,KAAK,CACTX,OAAQ4B,EAAKd,OACbZ,OAAQ0B,EAAK7B,MAGf4O,GAAwB3P,EAE1B4P,EAAYjO,KAAKiB,KAEnB,MAAMwN,EAAuBR,EAAY5M,OACtCJ,IAAUiN,EAAYjN,EAAK7B,MAGxB,cAAE+L,EAAa,eAAED,GAAmBtN,KAAK2N,QAC/C,GAAIJ,GAAiBD,EAAgB,CACnC,MAAM,MAAEwD,EAAK,OAAEC,GAAW/Q,KAAKgR,qBAAqBH,GAEpDI,OAAOhE,KAAK8D,GACTnN,KACC,CAACG,EAAGC,KACDhE,KAAKkI,KAAK6I,OAAO/M,IAAIkN,QAAUC,MAC/BnR,KAAKkI,KAAK6I,OAAOhN,IAAImN,QAAUC,MAEnChQ,QAASiQ,IACR,IAAIC,EAAc,SAASD,IACX,aAAZA,GAA2B9D,GAI7BzM,EAAMuB,KAAK,CACTZ,GAAI6P,EACJ9N,MAAOvD,KAAKkI,KAAK6I,OAAOK,GAAS3F,KACjChL,MAAOsQ,EAAOK,GAAS3Q,MACvBZ,QAAS,IAAGwP,EAAAA,EAAAA,IAAa0B,EAAOK,GAAS3Q,MAAOT,KAAKkI,KAAKoH,cAC1DnR,MAAO,EACPqG,MAAOuK,EAAcvQ,iBAAiB,qBAExC0C,EAAMkB,KAAK,CACTX,OAAQ,OACRE,OAAQ0P,KAZVA,EAAc,OAehBN,EAAOK,GAASN,MAAM3P,QAASmQ,IAC7B,IAAIC,EAEJ,GAAe,YAAXD,GAAyB/D,EAGtB,CAEL,MAAMiE,EAAa,QAAQF,IAC3BzQ,EAAMuB,KAAK,CACTZ,GAAIgQ,EACJjO,MAAOvD,KAAKkI,KAAK4I,MAAMQ,GAAS7F,KAChChL,MAAOqQ,EAAMQ,GAAQ7Q,MACrBZ,QAAS,IAAGwP,EAAAA,EAAAA,IAAayB,EAAMQ,GAAQ7Q,MAAOT,KAAKkI,KAAKoH,cACxDnR,MAAO,EACPqG,MAAOuK,EAAcvQ,iBAAiB,qBAExC0C,EAAMkB,KAAK,CACTX,OAAQ4P,EACR1P,OAAQ6P,EACR/Q,MAAOqQ,EAAMQ,GAAQ7Q,QAEvB8Q,EAAeC,CACjB,MAlBED,EAAeF,EAqBjBP,EAAMQ,GAAQG,QAAQtQ,QAASqP,IAC7BtP,EAAMkB,KAAK,CACTX,OAAQ8P,EACR5P,OAAQ6O,EAAOhP,GACff,MAAO+P,EAAO/P,aAK1B,MACEoQ,EAAqB1P,QAASuQ,IAC5BxQ,EAAMkB,KAAK,CACTX,OAAQ,OACRE,OAAQ+P,EAAWlQ,GACnBf,MAAOiR,EAAWjR,UAIxB,MAAMkR,EAAiB3R,KAAK4R,mBAAmBtB,EAAaD,GAC5DsB,EAAexQ,QAAQ,CAACwB,EAASxE,KAC/BwE,EAAQxB,QAASkC,IACfxC,EAAMuB,KAAK,IAAKiB,EAAMlF,MAAO,EAAIA,QAKjCiS,EAAuB,GACzBvP,EAAMuB,KAAK,CACTZ,GAAI,YACJ+B,MAAOvD,KAAKkI,KAAKsG,SACf,oFAEF/N,MAAO2P,EACPvQ,QAAS,IAAGwP,EAAAA,EAAAA,IAAae,EAAsBpQ,KAAKkI,KAAKoH,cACzD9K,MAAOuK,EAAcvQ,iBAAiB,6BACtCL,MAAO,EAAIwT,EAAevT,SAE5B8C,EAAMkB,KAAK,CACTX,OAAQ,OACRE,OAAQ,YACRlB,MAAO2P,KAEAA,EAAuB,IAEhCnB,EAASxO,OAAS2P,GAEpBnB,EAASpP,QAAU,IAAGwP,EAAAA,EAAAA,IAAaJ,EAASxO,MAAOT,KAAKkI,KAAKoH,cAE7D,MAAMuC,EAAUhR,EAAM0J,KAAMlH,GAASA,EAAK5C,MAAQ,GAElD,OAAOJ,EAAAA,EAAI,sBACUL,KAAK2N,QAAQmE,sCAE1BD,EACExR,EAAAA,EAAI,2BACM,CAAEQ,QAAOK,wBACmB,aAAxBlB,KAAK2N,QAAQoE,4BACP/R,KAAKgS,sCAEzB3R,EAAAA,EAAI,GAAGL,KAAKkI,KAAKsG,SACf,uEAKd,CAKUwC,oBAAAA,CAAqBX,GAC7B,MAAMS,EAA4D,CAChEmB,QAAS,CACPxR,MAAO,EACPgR,QAAS,KAGPV,EAA6D,CACjEmB,SAAU,CACRzR,MAAO,EACPqQ,MAAO,CAAC,aAwCZ,OArCAT,EAAYlP,QAASuQ,IACnB,MAAMpG,EAAStL,KAAKkI,KAAKqD,OAAOmG,EAAWlQ,KACrC,KAAE2Q,EAAI,MAAEC,IAAUC,EAAAA,EAAAA,GAAiB/G,EAAQtL,KAAKkI,MAClDiK,GACEA,EAAKG,WAAWxB,GAClBA,EAAMqB,EAAKG,SAAS7R,OAASiR,EAAWjR,MACxCqQ,EAAMqB,EAAKG,SAASb,QAAQrP,KAAKsP,IAEjCZ,EAAMqB,EAAKG,SAAW,CACpB7R,MAAOiR,EAAWjR,MAClBgR,QAAS,CAACC,IAIVU,EACEA,EAAMG,YAAYxB,GACpBA,EAAOqB,EAAMG,UAAU9R,OAASiR,EAAWjR,MACtCsQ,EAAOqB,EAAMG,UAAUzB,MAAMlG,SAASuH,EAAKG,UAC9CvB,EAAOqB,EAAMG,UAAUzB,MAAM1O,KAAK+P,EAAKG,UAGzCvB,EAAOqB,EAAMG,UAAY,CACvB9R,MAAOiR,EAAWjR,MAClBqQ,MAAO,CAACqB,EAAKG,WAIjBvB,EAAOmB,SAASzR,OAASiR,EAAWjR,MAC/BsQ,EAAOmB,SAASpB,MAAMlG,SAASuH,EAAKG,UACvCvB,EAAOmB,SAASpB,MAAM0B,QAAQL,EAAKG,YAIvCxB,EAAMmB,QAAQxR,OAASiR,EAAWjR,MAClCqQ,EAAMmB,QAAQR,QAAQrP,KAAKsP,MAGxB,CAAEZ,QAAOC,SAClB,CAEUa,kBAAAA,CACRtB,EACAD,GAEA,MAAMoC,EAAwB,GACxBC,EAAuB,GACvBC,EAAY1B,OAAOnH,OAAOwG,GAC1BsC,EAAqC,CAAC,EAS5C,OARAvC,EAAYlP,QAASuQ,IACfiB,EAAU/H,SAAS8G,EAAWlQ,KAChCiR,EAAcrQ,KAAKsP,GACnBkB,EAAelB,EAAWlQ,IAAM8O,EAAYoB,EAAWlQ,KAEvDkR,EAAatQ,KAAKsP,KAGlBe,EAAcrU,OAAS,EAClB,IACF4B,KAAK4R,mBAAmBgB,EAAgBH,GAC3CC,GAGG,CAACrC,EACV,C,kBAxbF,SAAAxN,GAAA,KAWYkK,+BAAiC,CAAC,WAAU,KA8V9CiF,gBAAmBvR,GACzB,IAAG4O,EAAAA,EAAAA,IAAa5O,EAAOT,KAAKkI,KAAKoH,a,EAzW/B9B,EAybGhH,OAASC,EAAAA,EAAG,qN,2BArbPC,WAAW,K,uPCpCzB,IAAImM,EASG,SAAShN,EACdN,EACAO,EACAgN,EAAa,4BAERD,IACHA,EAAoB1S,SAAS4S,cAAc,WAE7C,MAAMC,EAAUH,EAAkBI,WAAW,MAC7C,IAAKD,EACH,OAAO,EAGTA,EAAQE,KAAO,GAAGpN,OAAcgN,IAChC,MAAMK,EAAcH,EAAQI,YAAY7N,GACxC,OAAOtD,KAAKiE,KACVjE,KAAK8N,IACHoD,EAAYE,uBAAyBF,EAAYG,sBACjDH,EAAYzS,OAGlB,C"}