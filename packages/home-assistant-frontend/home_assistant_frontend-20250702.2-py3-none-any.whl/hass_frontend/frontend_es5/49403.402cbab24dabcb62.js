(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["49403"],{5778:function(t,e,n){"use strict";var i,r=n(77528),a=n(29694),o=n(42385),l=n(75778),c=n(54521),s=n(4490),d=n(67063),u=n(20129),f=n(85297),p=n(53389),h=(n(12212),n(25518),n(55204),n(39710),n(26847),n(24819),n(44438),n(69643),n(81738),n(94814),n(6989),n(93190),n(54480),n(1455),n(65640),n(28660),n(64455),n(56303),n(56389),n(48694),n(27530),n(73742)),g=n(59048),v=n(7616),m=n(82040),b=n.n(m),y=n(39884),x=(n(41465),n(34845),n(95729),n(36330),n(38221),n(75863),n(86190)),_=function(){var t=(0,l.Z)((0,a.Z)().m(function t(e,r,o){return(0,a.Z)().w(function(t){for(;;)if(0===t.n)return i||(i=(0,x.Ud)(new Worker(new URL(n.p+n.u("45845"),n.b)))),t.a(2,i.renderMarkdown(e,r,o))},t)}));return function(e,n,i){return t.apply(this,arguments)}}(),w=new(n(28773).L)(1e3),k={reType:RegExp("(?<input>(\\[!(?<type>caution|important|note|tip|warning)\\])(?:\\s|\\\\n)?)","i"),typeToHaAlert:{caution:"error",important:"info",note:"info",tip:"success",warning:"warning"}},C=function(t){function e(){var t;(0,c.Z)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=(0,u.Z)(this,e,[].concat(i))).allowSvg=!1,t.allowDataUrl=!1,t.breaks=!1,t.lazyImages=!1,t.cache=!1,t._resize=function(){return(0,y.B)((0,d.Z)(t),"content-resize")},t}return(0,f.Z)(e,t),(0,s.Z)(e,[{key:"disconnectedCallback",value:function(){if((0,p.Z)(e,"disconnectedCallback",this,3)([]),this.cache){var t=this._computeCacheKey();w.set(t,this.innerHTML)}}},{key:"createRenderRoot",value:function(){return this}},{key:"update",value:function(t){(0,p.Z)(e,"update",this,3)([t]),void 0!==this.content&&this._render()}},{key:"willUpdate",value:function(t){if(!this.innerHTML&&this.cache){var e=this._computeCacheKey();w.has(e)&&(this.innerHTML=w.get(e),this._resize())}}},{key:"_computeCacheKey",value:function(){return b()({content:this.content,allowSvg:this.allowSvg,allowDataUrl:this.allowDataUrl,breaks:this.breaks})}},{key:"_render",value:(i=(0,l.Z)((0,a.Z)().m(function t(){var e,i,l=this;return(0,a.Z)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,_(String(this.content),{breaks:this.breaks,gfm:!0},{allowSvg:this.allowSvg,allowDataUrl:this.allowDataUrl});case 1:this.innerHTML=t.v,this._resize(),e=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,null),i=(0,a.Z)().m(function t(){var i,r,c,s,d;return(0,a.Z)().w(function(t){for(;;)switch(t.n){case 0:(i=e.currentNode)instanceof HTMLAnchorElement&&i.host!==document.location.host?(i.target="_blank",i.rel="noreferrer noopener"):i instanceof HTMLImageElement?(l.lazyImages&&(i.loading="lazy"),i.addEventListener("load",l._resize)):i instanceof HTMLQuoteElement?(c=(null===(r=i.firstElementChild)||void 0===r||null===(r=r.firstChild)||void 0===r?void 0:r.textContent)&&k.reType.exec(i.firstElementChild.firstChild.textContent))&&(s=c.groups.type,(d=document.createElement("ha-alert")).alertType=k.typeToHaAlert[s.toLowerCase()],d.append.apply(d,(0,o.Z)(Array.from(i.childNodes).map(function(t){var e=Array.from(t.childNodes);if(!l.breaks&&e.length){var n,i=e[0];i.nodeType===Node.TEXT_NODE&&i.textContent===c.input&&null!==(n=i.textContent)&&void 0!==n&&n.includes("\n")&&(i.textContent=i.textContent.split("\n").slice(1).join("\n"))}return e}).reduce(function(t,e){return t.concat(e)},[]).filter(function(t){return t.textContent&&t.textContent!==c.input}))),e.parentNode().replaceChild(d,i)):i instanceof HTMLElement&&["ha-alert","ha-qr-code","ha-icon","ha-svg-icon"].includes(i.localName)&&n(23265)("./".concat(i.localName));case 1:return t.a(2)}},t)});case 2:if(!e.nextNode()){t.n=4;break}return t.d((0,r.Z)(i()),3);case 3:t.n=2;break;case 4:return t.a(2)}},t,this)})),function(){return i.apply(this,arguments)})}]);var i}(g.fl);(0,h.__decorate)([(0,v.Cb)()],C.prototype,"content",void 0),(0,h.__decorate)([(0,v.Cb)({attribute:"allow-svg",type:Boolean})],C.prototype,"allowSvg",void 0),(0,h.__decorate)([(0,v.Cb)({attribute:"allow-data-url",type:Boolean})],C.prototype,"allowDataUrl",void 0),(0,h.__decorate)([(0,v.Cb)({type:Boolean})],C.prototype,"breaks",void 0),(0,h.__decorate)([(0,v.Cb)({type:Boolean,attribute:"lazy-images"})],C.prototype,"lazyImages",void 0),(0,h.__decorate)([(0,v.Cb)({type:Boolean})],C.prototype,"cache",void 0),C=(0,h.__decorate)([(0,v.Mo)("ha-markdown-element")],C)},45861:function(t,e,n){"use strict";var i,r,a=n(54982),o=n(54521),l=n(4490),c=n(20129),s=n(85297),d=(n(12212),n(73742)),u=n(59048),f=n(7616),p=(n(5778),function(t){function e(){var t;(0,o.Z)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=(0,c.Z)(this,e,[].concat(i))).allowSvg=!1,t.allowDataUrl=!1,t.breaks=!1,t.lazyImages=!1,t.cache=!1,t}return(0,s.Z)(e,t),(0,l.Z)(e,[{key:"render",value:function(){return this.content?(0,u.dy)(i||(i=(0,a.Z)(['<ha-markdown-element .content="','" .allowSvg="','" .allowDataUrl="','" .breaks="','" .lazyImages="','" .cache="','"></ha-markdown-element>'])),this.content,this.allowSvg,this.allowDataUrl,this.breaks,this.lazyImages,this.cache):u.Ld}}])}(u.oi));p.styles=(0,u.iv)(r||(r=(0,a.Z)([":host{display:block}ha-markdown-element{-ms-user-select:text;-webkit-user-select:text;-moz-user-select:text}ha-markdown-element>:first-child{margin-top:0}ha-markdown-element>:last-child{margin-bottom:0}ha-alert{display:block;margin:4px 0}a{color:var(--primary-color)}img{max-width:100%}code,pre{background-color:var(--markdown-code-background-color,none);border-radius:3px}svg{background-color:var(--markdown-svg-background-color,none);color:var(--markdown-svg-color,none)}code{font-size:var(--ha-font-size-s);padding:.2em .4em}pre code{padding:0}pre{padding:16px;overflow:auto;line-height:var(--ha-line-height-condensed);font-family:var(--ha-font-family-code)}h1,h2,h3,h4,h5,h6{line-height:initial}h2{font-size:var(--ha-font-size-xl);font-weight:var(--ha-font-weight-bold)}hr{border-color:var(--divider-color);border-bottom:none;margin:16px 0}"]))),(0,d.__decorate)([(0,f.Cb)()],p.prototype,"content",void 0),(0,d.__decorate)([(0,f.Cb)({attribute:"allow-svg",type:Boolean})],p.prototype,"allowSvg",void 0),(0,d.__decorate)([(0,f.Cb)({attribute:"allow-data-url",type:Boolean})],p.prototype,"allowDataUrl",void 0),(0,d.__decorate)([(0,f.Cb)({type:Boolean})],p.prototype,"breaks",void 0),(0,d.__decorate)([(0,f.Cb)({type:Boolean,attribute:"lazy-images"})],p.prototype,"lazyImages",void 0),(0,d.__decorate)([(0,f.Cb)({type:Boolean})],p.prototype,"cache",void 0),p=(0,d.__decorate)([(0,f.Mo)("ha-markdown")],p)},37492:function(t,e,n){"use strict";n.d(e,{f:function(){return h}});n(26847),n(27530);var i=n(73742),r=n(94068),a=n(16880),o=n(59048),l=n(7616),c=n(83054);let s,d,u,f,p=t=>t;class h extends r.P{updated(t){super.updated(t),(t.has("invalid")||t.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||this.validationMessage||"Invalid":""),(this.invalid||this.validateOnInitialRender||t.has("invalid")&&void 0!==t.get("invalid"))&&this.reportValidity()),t.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),t.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),t.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}renderIcon(t,e=!1){const n=e?"trailing":"leading";return(0,o.dy)(s||(s=p` <span class="mdc-text-field__icon mdc-text-field__icon--${0}" tabindex="${0}"> <slot name="${0}Icon"></slot> </span> `),n,e?1:-1,n)}constructor(...t){super(...t),this.icon=!1,this.iconTrailing=!1}}h.styles=[a.W,(0,o.iv)(d||(d=p`.mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:ltr}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){max-width:calc(100% - 16px)}.mdc-floating-label--float-above{max-width:calc((100% - 16px)/ .75);transition:none}input{text-align:var(--text-field-text-align,start)}input[type=color]{height:20px}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=color]::-webkit-color-swatch-wrapper{padding:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{padding-inline-end:16px;padding-inline-start:initial;inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start);box-sizing:border-box;text-overflow:ellipsis}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px);padding-inline-end:var(--text-field-prefix-padding-right,2px);padding-inline-start:initial}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}#helper-text ha-markdown{display:inline-block}`)),"rtl"===c.E.document.dir?(0,o.iv)(u||(u=p`.mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl;--direction:rtl}`)):(0,o.iv)(f||(f=p``))],(0,i.__decorate)([(0,l.Cb)({type:Boolean})],h.prototype,"invalid",void 0),(0,i.__decorate)([(0,l.Cb)({attribute:"error-message"})],h.prototype,"errorMessage",void 0),(0,i.__decorate)([(0,l.Cb)({type:Boolean})],h.prototype,"icon",void 0),(0,i.__decorate)([(0,l.Cb)({type:Boolean})],h.prototype,"iconTrailing",void 0),(0,i.__decorate)([(0,l.Cb)()],h.prototype,"autocomplete",void 0),(0,i.__decorate)([(0,l.Cb)()],h.prototype,"autocorrect",void 0),(0,i.__decorate)([(0,l.Cb)({attribute:"input-spellcheck"})],h.prototype,"inputSpellcheck",void 0),(0,i.__decorate)([(0,l.IO)("input")],h.prototype,"formElement",void 0),h=(0,i.__decorate)([(0,l.Mo)("ha-textfield")],h)},23156:function(t,e,n){"use strict";n.a(t,async function(t,i){try{n.r(e),n.d(e,{MoreInfoConfigurator:function(){return x}});var r,a,o,l,c,s,d=n(54982),u=n(54521),f=n(4490),p=n(20129),h=n(85297),g=(n(73249),n(84730),n(12212),n(24819),n(81738),n(6989),n(54480),n(73742)),v=(n(98334),n(59048)),m=n(7616),b=(n(12942),n(6514)),y=(n(45861),n(37492),t([b]));b=(y.then?(await y)():y)[0];var x=function(t){function e(){var t;(0,u.Z)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=(0,p.Z)(this,e,[].concat(i)))._isConfiguring=!1,t._fieldInput={},t}return(0,h.Z)(e,t),(0,f.Z)(e,[{key:"render",value:function(){var t,e=this;return"configure"!==(null===(t=this.stateObj)||void 0===t?void 0:t.state)?v.Ld:(0,v.dy)(r||(r=(0,d.Z)([' <div class="container"> <ha-markdown breaks .content="','"></ha-markdown> '," "," "," </div> "])),this.stateObj.attributes.description,this.stateObj.attributes.errors?(0,v.dy)(a||(a=(0,d.Z)(['<ha-alert alert-type="error"> '," </ha-alert>"])),this.stateObj.attributes.errors):"",this.stateObj.attributes.fields.map(function(t){return(0,v.dy)(o||(o=(0,d.Z)(['<ha-textfield .label="','" .name="','" .type="','" @change="','"></ha-textfield>'])),t.name,t.id,t.type,e._fieldChanged)}),this.stateObj.attributes.submit_caption?(0,v.dy)(l||(l=(0,d.Z)(['<p class="submit"> <mwc-button raised .disabled="','" @click="','"> '," "," </mwc-button> </p>"])),this._isConfiguring,this._submitClicked,this._isConfiguring?(0,v.dy)(c||(c=(0,d.Z)(['<ha-spinner size="tiny" aria-label="Configuring"></ha-spinner>']))):"",this.stateObj.attributes.submit_caption):"")}},{key:"_fieldChanged",value:function(t){var e=t.target;this._fieldInput[e.name]=e.value}},{key:"_submitClicked",value:function(){var t=this,e={configure_id:this.stateObj.attributes.configure_id,fields:this._fieldInput};this._isConfiguring=!0,this.hass.callService("configurator","configure",e).then(function(){t._isConfiguring=!1},function(){t._isConfiguring=!1})}}])}(v.oi);x.styles=(0,v.iv)(s||(s=(0,d.Z)([".container{display:flex;flex-direction:column}p{margin:8px 0}a{color:var(--primary-color)}p>img{max-width:100%}p.center{text-align:center}p.submit{text-align:center;height:41px}ha-spinner{--ha-spinner-indicator-color:var(--primary-text-color);margin-right:auto;margin-left:auto}"]))),(0,g.__decorate)([(0,m.Cb)({attribute:!1})],x.prototype,"hass",void 0),(0,g.__decorate)([(0,m.Cb)({attribute:!1})],x.prototype,"stateObj",void 0),(0,g.__decorate)([(0,m.SB)()],x.prototype,"_isConfiguring",void 0),x=(0,g.__decorate)([(0,m.Mo)("more-info-configurator")],x),i()}catch(_){i(_)}})},28773:function(t,e,n){"use strict";n.d(e,{L:function(){return a}});var i=n(54521),r=n(4490),a=(n(26847),n(7175),n(54480),n(48694),n(27530),function(){return(0,r.Z)(function t(e){(0,i.Z)(this,t),this._cache=new Map,this._expiration=e},[{key:"get",value:function(t){return this._cache.get(t)}},{key:"set",value:function(t,e){var n=this;this._cache.set(t,e),this._expiration&&window.setTimeout(function(){return n._cache.delete(t)},this._expiration)}},{key:"has",value:function(t){return this._cache.has(t)}}])}())},23265:function(t,e,n){var i={"./ha-icon":["46358","82343","25817"],"./ha-icon-button-toggle":["68695","54472"],"./ha-svg-icon":["993"],"./ha-icon-button-group":["15053","59877"],"./ha-svg-icon.ts":["993"],"./ha-icon.ts":["46358","82343","25817"],"./ha-icon-overflow-menu":["65014","97103","91789","22092","79576","37165"],"./ha-icon-next":["5786","41374"],"./ha-icon-picker":["65981","73614","2243","97103","15601","16376","82343","38778"],"./ha-qr-code.ts":["2183","16892","22954"],"./ha-icon-button-arrow-prev.ts":["45109","86454"],"./ha-icon-button-arrow-prev":["45109","86454"],"./ha-icon-overflow-menu.ts":["65014","97103","91789","22092","79576","37165"],"./ha-alert":["12942","43404"],"./ha-icon-button-next":["22852","8145"],"./ha-icon-button":["48017"],"./ha-icon-button-next.ts":["22852","8145"],"./ha-icon-picker.ts":["65981","73614","2243","97103","15601","16376","82343","38778"],"./ha-icon-button-group.ts":["15053","59877"],"./ha-icon-button-toggle.ts":["68695","54472"],"./ha-icon-button-arrow-next.ts":["51383","30113"],"./ha-icon-button-prev.ts":["29813","54260"],"./ha-icon-prev":["21940","55974"],"./ha-icon-prev.ts":["21940","55974"],"./ha-icon-button.ts":["48017"],"./ha-alert.ts":["12942","43404"],"./ha-icon-button-prev":["29813","54260"],"./ha-qr-code":["2183","16892","22954"],"./ha-icon-next.ts":["5786","41374"],"./ha-icon-button-arrow-next":["51383","30113"]};function r(t){if(!n.o(i,t))return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=i[t],r=e[0];return Promise.all(e.slice(1).map(n.e)).then(function(){return n(r)})}r.keys=function(){return Object.keys(i)},r.id=23265,t.exports=r},94388:function(t,e,n){function i(e){return t.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,i(e)}n(73249),n(84730),n(79133),n(26847),n(54480),n(48694),n(27530),t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},68076:function(t,e,n){"use strict";n(77341)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},77451:function(t,e,n){"use strict";var i=n(77341),r=n(30456),a=n(42749),o=n(61360),l=TypeError,c=Object.defineProperty,s=r.self!==r;try{if(o){var d=Object.getOwnPropertyDescriptor(r,"self");!s&&d&&d.get&&d.enumerable||a(r,"self",{get:function(){return r},set:function(t){if(this!==r)throw new l("Illegal invocation");c(r,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else i({global:!0,simple:!0,forced:s},{self:r})}catch(u){}},86190:function(t,e,n){"use strict";n.d(e,{Ud:function(){return b}});var i=n(10354),r=n(74904),a=n(18840),o=n(42385),l=n(75706),c=n(61943),s=(n(73249),n(84730),n(40777),n(12212),n(63430),n(26847),n(24819),n(44438),n(69643),n(13715),n(81738),n(6989),n(93190),n(7175),n(68076),n(87799),n(54480),n(1455),n(65640),n(28660),n(64455),n(32192),n(56303),n(48694),n(52530),n(27530),Symbol("Comlink.proxy")),d=Symbol("Comlink.endpoint"),u=Symbol("Comlink.releaseProxy"),f=Symbol("Comlink.finalizer"),p=Symbol("Comlink.thrown"),h=function(t){return"object"===(0,c.Z)(t)&&null!==t||"function"==typeof t},g=new Map([["proxy",{canHandle:function(t){return h(t)&&t[s]},serialize:function(t){var e=new MessageChannel,n=e.port1,i=e.port2;return v(t,n),[i,[i]]},deserialize:function(t){return t.start(),b(t)}}],["throw",{canHandle:function(t){return h(t)&&p in t},serialize:function(t){var e=t.value;return[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]]},deserialize:function(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["*"];e.addEventListener("message",function c(d){if(d&&d.data)if(function(t,e){var n,i=(0,l.Z)(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(e===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(e))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(n,d.origin)){var u,h=Object.assign({path:[]},d.data),g=h.id,b=h.type,y=h.path,x=(d.data.argumentList||[]).map(S);try{var _=y.slice(0,-1).reduce(function(t,e){return t[e]},t),w=y.reduce(function(t,e){return t[e]},t);switch(b){case"GET":u=w;break;case"SET":_[y.slice(-1)[0]]=S(d.data.value),u=!0;break;case"APPLY":u=w.apply(_,x);break;case"CONSTRUCT":var k;u=function(t){return Object.assign(t,(0,r.Z)({},s,!0))}((0,a.Z)(w,(0,o.Z)(x)));break;case"ENDPOINT":var C=new MessageChannel,M=C.port1,T=C.port2;v(t,T),u=function(t,e){return E.set(t,e),t}(M,[M]);break;case"RELEASE":u=void 0;break;default:return}}catch(k){u=(0,r.Z)({value:k},p,0)}Promise.resolve(u).catch(function(t){return(0,r.Z)({value:t},p,0)}).then(function(n){var r=Z(n),a=(0,i.Z)(r,2),o=a[0],l=a[1];e.postMessage(Object.assign(Object.assign({},o),{id:g}),l),"RELEASE"===b&&(e.removeEventListener("message",c),m(e),f in t&&"function"==typeof t[f]&&t[f]())}).catch(function(t){var n=Z((0,r.Z)({value:new TypeError("Unserializable return value")},p,0)),a=(0,i.Z)(n,2),o=a[0],l=a[1];e.postMessage(Object.assign(Object.assign({},o),{id:g}),l)})}else console.warn("Invalid origin '".concat(d.origin,"' for comlink proxy"))}),e.start&&e.start()}function m(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function b(t,e){var n=new Map;return t.addEventListener("message",function(t){var e=t.data;if(e&&e.id){var i=n.get(e.id);if(i)try{i(e)}finally{n.delete(e.id)}}}),k(t,n,[],e)}function y(t){if(t)throw new Error("Proxy has been released and is not useable")}function x(t){return M(t,new Map,{type:"RELEASE"}).then(function(){m(t)})}var _=new WeakMap,w="FinalizationRegistry"in globalThis&&new FinalizationRegistry(function(t){var e=(_.get(t)||0)-1;_.set(t,e),0===e&&x(t)});function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!1,a=new Proxy(arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},{get:function(i,l){if(y(r),l===u)return function(){!function(t){w&&w.unregister(t)}(a),x(t),e.clear(),r=!0};if("then"===l){if(0===n.length)return{then:function(){return a}};var c=M(t,e,{type:"GET",path:n.map(function(t){return t.toString()})}).then(S);return c.then.bind(c)}return k(t,e,[].concat((0,o.Z)(n),[l]))},set:function(a,l,c){y(r);var s=Z(c),d=(0,i.Z)(s,2),u=d[0],f=d[1];return M(t,e,{type:"SET",path:[].concat((0,o.Z)(n),[l]).map(function(t){return t.toString()}),value:u},f).then(S)},apply:function(a,o,l){y(r);var c=n[n.length-1];if(c===d)return M(t,e,{type:"ENDPOINT"}).then(S);if("bind"===c)return k(t,e,n.slice(0,-1));var s=C(l),u=(0,i.Z)(s,2),f=u[0],p=u[1];return M(t,e,{type:"APPLY",path:n.map(function(t){return t.toString()}),argumentList:f},p).then(S)},construct:function(a,o){y(r);var l=C(o),c=(0,i.Z)(l,2),s=c[0],d=c[1];return M(t,e,{type:"CONSTRUCT",path:n.map(function(t){return t.toString()}),argumentList:s},d).then(S)}});return function(t,e){var n=(_.get(e)||0)+1;_.set(e,n),w&&w.register(t,e,t)}(a,t),a}function C(t){var e,n=t.map(Z);return[n.map(function(t){return t[0]}),(e=n.map(function(t){return t[1]}),Array.prototype.concat.apply([],e))]}var E=new WeakMap;function Z(t){var e,n=(0,l.Z)(g);try{for(n.s();!(e=n.n()).done;){var r=(0,i.Z)(e.value,2),a=r[0],o=r[1];if(o.canHandle(t)){var c=o.serialize(t),s=(0,i.Z)(c,2);return[{type:"HANDLER",name:a,value:s[0]},s[1]]}}}catch(d){n.e(d)}finally{n.f()}return[{type:"RAW",value:t},E.get(t)||[]]}function S(t){switch(t.type){case"HANDLER":return g.get(t.name).deserialize(t.value);case"RAW":return t.value}}function M(t,e,n,i){return new Promise(function(r){var a=new Array(4).fill(0).map(function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)}).join("-");e.set(a,r),t.start&&t.start(),t.postMessage(Object.assign({id:a},n),i)})}}}]);
//# sourceMappingURL=49403.402cbab24dabcb62.js.map