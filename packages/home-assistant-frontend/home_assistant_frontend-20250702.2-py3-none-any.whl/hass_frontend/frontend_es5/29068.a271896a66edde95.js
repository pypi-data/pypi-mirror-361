"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["29068"],{61540:function(e,t,n){n.d(t,{$y:function(){return i},fs:function(){return o},j:function(){return a}});n(54480),n(1455);var r=function(e,t,n){return new Promise(function(r,a){var o=document.createElement(e),i="src",s="body";switch(o.onload=function(){return r(t)},o.onerror=function(){return a(t)},e){case"script":o.async=!0,n&&(o.type=n);break;case"link":o.type="text/css",o.rel="stylesheet",i="href",s="head"}o[i]=t,document[s].appendChild(o)})},a=function(e){return r("link",e)},o=function(e){return r("script",e)},i=function(e){return r("script",e,"module")}},97541:function(e,t,n){n.r(t),n.d(t,{HaPanelCustom:function(){return v}});var r=n(75706),a=n(54521),o=n(4490),i=n(20129),s=n(85297),l=n(53389),u=(n(12212),n(39710),n(26847),n(54480),n(20655),n(27530),n(73742)),c=n(59048),h=n(7616),p=n(67050),f=n(65829),d=(n(1455),n(61540)),m={},_=function(e){return e.html_url?{type:"html",url:e.html_url}:e.module_url&&e.js_url?{type:"js",url:e.js_url}:e.module_url?{type:"module",url:e.module_url}:{type:"js",url:e.js_url}},y=(n(81738),n(22960),n(24533),n(67398),function(e,t){"setProperties"in e?e.setProperties(t):Object.keys(t).forEach(function(n){e[n]=t[n]})}),v=function(e){function t(){var e;(0,a.Z)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=(0,i.Z)(this,t,[].concat(r))).narrow=!1,e.navigate=function(e,t){return(0,p.c)(e,t)},e}return(0,s.Z)(t,e),(0,o.Z)(t,[{key:"createRenderRoot",value:function(){return this}},{key:"registerIframe",value:function(e,t){e(this.panel,{hass:this.hass,narrow:this.narrow,route:this.route}),this._setProperties=t}},{key:"disconnectedCallback",value:function(){(0,l.Z)(t,"disconnectedCallback",this,3)([]),this._cleanupPanel()}},{key:"update",value:function(e){if((0,l.Z)(t,"update",this,3)([e]),e.has("panel")){var n=e.get("panel");if(!(0,f.v)(n,this.panel))return n&&this._cleanupPanel(),void this._createPanel(this.panel)}if(this._setProperties){var a,o={},i=(0,r.Z)(e.keys());try{for(i.s();!(a=i.n()).done;){var s=a.value;o[s]=this[s]}}catch(u){i.e(u)}finally{i.f()}this._setProperties(o)}}},{key:"_cleanupPanel",value:function(){for(delete window.customPanel,this._setProperties=void 0;this.lastChild;)this.removeChild(this.lastChild)}},{key:"_createPanel",value:function(e){var t=this,n=e.config._panel_custom,r=_(n),a=document.createElement("a");if(a.href=r.url,n.trust_external||["localhost","127.0.0.1",location.hostname].includes(a.hostname)||confirm("".concat(this.hass.localize("ui.panel.custom.external_panel.question_trust",{name:n.name,link:a.href}),"\n\n           ").concat(this.hass.localize("ui.panel.custom.external_panel.complete_access"),"\n\n           (").concat(this.hass.localize("ui.panel.custom.external_panel.hide_message"),")")))if(n.embed_iframe){var o,i;window.customPanel=this;var s=this.panel.title?'title="'.concat(this.panel.title,'"'):"";this.innerHTML="\n      <style>\n        iframe {\n          border: 0;\n          width: 100%;\n          height: 100%;\n          display: block;\n          background-color: var(--primary-background-color);\n        }\n      </style>\n      <iframe ".concat(s,"></iframe>").trim();var l=this.querySelector("iframe").contentWindow.document;l.open(),l.write("<!doctype html><script src='".concat(window.customPanelJS,"'><\/script>")),l.close()}else(o=n,i=_(o),"js"===i.type?(i.url in m||(m[i.url]=(0,d.fs)(i.url)),m[i.url]):"module"===i.type?(0,d.$y)(i.url):Promise.reject("No valid url found in panel config.")).then(function(){var r=function(e){var t="html_url"in e?"ha-panel-".concat(e.name):e.name;return document.createElement(t)}(n);t._setProperties=function(e){return y(r,e)},y(r,{panel:e,hass:t.hass,narrow:t.narrow,route:t.route}),t.appendChild(r)},function(){alert("Unable to load custom panel from ".concat(a.href))})}}])}(c.fl);(0,u.__decorate)([(0,h.Cb)({attribute:!1})],v.prototype,"hass",void 0),(0,u.__decorate)([(0,h.Cb)({type:Boolean})],v.prototype,"narrow",void 0),(0,u.__decorate)([(0,h.Cb)({attribute:!1})],v.prototype,"route",void 0),(0,u.__decorate)([(0,h.Cb)({attribute:!1})],v.prototype,"panel",void 0),customElements.define("ha-panel-custom",v)}}]);
//# sourceMappingURL=29068.a271896a66edde95.js.map