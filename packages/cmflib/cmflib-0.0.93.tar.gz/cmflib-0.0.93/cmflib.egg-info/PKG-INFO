Metadata-Version: 2.4
Name: cmflib
Version: 0.0.93
Summary: Track metadata for AI pipeline
Author: Hewlett Packard Enterprise
Project-URL: Homepage, https://github.com/HewlettPackard/cmf
Project-URL: BugTracker, https://github.com/HewlettPackard/cmf/issues
Classifier: Programming Language :: Python :: 3
Classifier: Operating System :: POSIX :: Linux
Requires-Python: <3.11,>=3.9
Description-Content-Type: text/markdown
Requires-Dist: ml-metadata==1.15.0
Requires-Dist: dvc[s3,ssh]==3.51.1
Requires-Dist: pandas
Requires-Dist: retrying
Requires-Dist: pyarrow
Requires-Dist: neo4j==5.26
Requires-Dist: tabulate
Requires-Dist: click
Requires-Dist: minio
Requires-Dist: paramiko==3.4.1
Requires-Dist: scikit_learn
Requires-Dist: scitokens
Requires-Dist: cryptography
Requires-Dist: ray==2.34.0
Requires-Dist: readchar

# Common Metadata Framework (CMF)

[![Deploy Docs](https://github.com/HewlettPackard/cmf/actions/workflows/deploy_docs_to_gh_pages.yaml/badge.svg)](https://github.com/HewlettPackard/cmf/actions)
[![PyPI version](https://badge.fury.io/py/cmflib.svg)](https://pypi.org/project/cmflib/)
[![Docs](https://img.shields.io/badge/docs-online-blue.svg)](https://hewlettpackard.github.io/cmf/)
[![License](https://img.shields.io/github/license/HewlettPackard/cmf)](./LICENSE)

**Common Metadata Framework (CMF)** is a metadata tracking and versioning system for ML pipelines. It tracks code, data, and pipeline metrics‚Äîoffering Git-like metadata management across distributed environments.

---

## üöÄ Features

- ‚úÖ Track artifacts (datasets, models, metrics) using content-based hashes  
- ‚úÖ Automatically logs code versions (Git) and data versions (DVC)  
- ‚úÖ Push/pull metadata via CLI across distributed sites  
- ‚úÖ REST API for direct server interaction  
- ‚úÖ Implicit & explicit tracking of pipeline execution  
- ‚úÖ Fine-grained or coarse-grained metric logging  

---

## üì¶ Installation

### Requirements

- Linux/Ubuntu/Debian
- Python >=3.9, <3.11
- Git (latest)

### Virtual Environment

<details><summary>Conda</summary>

```bash
conda create -n cmf python=3.10
conda activate cmf
```
</details>

<details><summary>Virtualenv</summary>

```bash
virtualenv --python=3.10 .cmf
source .cmf/bin/activate
```
</details>

### Install CMF

<details><summary>Latest from GitHub</summary>

```bash
pip install git+https://github.com/HewlettPackard/cmf
```
</details>

<details><summary>Stable from PyPI</summary>

```bash
pip install cmflib
```
</details>

### Server Setup

üìñ Follow the guide in <a href="docs/cmf_server/cmf-server.md" target="_blank">docs/cmf_server/cmf-server.md</a>

---

## üìò Documentation

- [Getting Started](https://hewlettpackard.github.io/cmf/)
- [API Reference](https://hewlettpackard.github.io/cmf/api/public/cmf)
- [Full Docs](./docs/README.md)
- [Command Reference](https://hewlettpackard.github.io/cmf/cmf_client/cmf_client)
- [Related Docs](https://deepwiki.com/HewlettPackard/cmf)

---

## üß† How It Works

CMF tracks pipeline stages, inputs/outputs, metrics, and code. It supports decentralized execution across datacenters, edge, and cloud.

- Artifacts are versioned using DVC (`.dvc` files).
- Code is tracked with Git.
- Metadata is logged to relational DB (e.g., SQLite, PostgreSQL)
- Sync metadata with `cmf metadata push` and `cmf metadata pull`.

---

## üèõ Architecture

CMF is composed of:

- **cmflib** - metadata library provides API to log/query metadata
- **cmf-client** ‚Äì CLI to sync metadata with server, push/pull artifacts to the user-specified repo, push/pull code from git.
- **cmf-server** ‚Äì REST API for metadata merge
- **Central Repositories** ‚Äì Git (code), DVC (artifacts), CMF (metadata)

<p align="center">
  <img src="docs/assets/framework.png" height="350" />
</p>

<p align="center">
  <img src="docs/assets/distributed_architecture.png" height="300" />
</p>

---

## üîß Sample Usage

```python

from cmflib.cmf import Cmf
from ml_metadata.proto import metadata_store_pb2 as mlpb
cmf = Cmf(filepath="mlmd", pipeline_name="test_pipeline")
context: mlpb.proto.Context = cmf.create_context(
    pipeline_stage="prepare",
    custom_properties ={"user-metadata1": "metadata_value"}
)
execution: mlpb.proto.Execution = cmf.create_execution(
    execution_type="Prepare",
    custom_properties = {"split": split, "seed": seed}
)
artifact: mlpb.proto.Artifact = metawriter.log_dataset(
	"artifacts/data.xml.gz", "input",
	custom_properties={"user-metadata1": "metadata_value"}
)
```

```bash
cmf                          # CLI to manage metadata and artifacts
cmf init                     # Initialize artifact repository
cmf init show                # Show current CMF config
cmf metadata push            # Push metadata to server
cmf metadata pull            # Pull metadata from server
```
	
‚û°Ô∏è For the complete list of commands, please refer to the <a href="https://hewlettpackard.github.io/cmf/cmf_client/cmf_client">Command Reference</a>


---

## ‚úÖ Benefits

- Full ML pipeline observability
- Unified metadata, artifact, and code tracking
- Scalable metadata syncing
- Team collaboration on metadata

---

## üé§ Talks & Publications

- üéô [Monterey Data Conference 2022](https://drive.google.com/file/d/1Oqs0AN0RsAjt_y9ZjzYOmBxI8H0yqSpB/view)

---

## üåê Related Projects

- [üìö Common Metadata Ontology](https://hewlettpackard.github.io/cmf/common-metadata-ontology/readme/)
- [üß† AI Metadata Knowledge Graph (AIMKG)](https://github.com/HewlettPackard/ai-metadata-knowledge-graph)
---

## ü§ù Community

- üí¨ [Join CMF on Slack](https://commonmetadata.slack.com/)
- üìß Contact: **annmary.roy@hpe.com**

---

## üìÑ License

Licensed under the [Apache 2.0 License](./LICENSE)

---

> ¬© Hewlett Packard Enterprise. Built for reproducibility in ML.
