"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["11702"],{7214:function(t,e,n){n.d(e,{Cj:function(){return l},F7:function(){return s},Hs:function(){return Z},Kd:function(){return S},Kj:function(){return p},Nw:function(){return y},PA:function(){return o},Py:function(){return c},Qm:function(){return w},Z0:function(){return g},_Y:function(){return _},_m:function(){return a},dL:function(){return d},dO:function(){return k},hN:function(){return f},h_:function(){return h},j2:function(){return C},q6:function(){return v},uR:function(){return u}});var i=n(75706),r=(n(39710),n(81738),n(72489),n(54480),n(56389),n(15459)),s=function(t){return t[t.NONE=0]="NONE",t[t.ARITHMETIC=1]="ARITHMETIC",t[t.CIRCULAR=2]="CIRCULAR",t}({}),o=99387==n.j?["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"]:null,a=function(t){return t.sendMessagePromise({type:"recorder/info"})},u=function(t,e){return t.callWS({type:"recorder/list_statistic_ids",statistic_type:e})},c=function(t,e){return t.callWS({type:"recorder/get_statistics_metadata",statistic_ids:e})},d=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"hour",s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;return t.callWS({type:"recorder/statistics_during_period",start_time:e.toISOString(),end_time:null==n?void 0:n.toISOString(),statistic_ids:i,period:r,units:s,types:o})},_=function(t,e,n,i){return t.callWS({type:"recorder/statistic_during_period",statistic_id:e,units:i,fixed_period:n.fixed_period?{start_time:n.fixed_period.start instanceof Date?n.fixed_period.start.toISOString():n.fixed_period.start,end_time:n.fixed_period.end instanceof Date?n.fixed_period.end.toISOString():n.fixed_period.end}:void 0,calendar:n.calendar,rolling_window:n.rolling_window})},h=function(t){return t.callWS({type:"recorder/validate_statistics"})},l=function(t,e,n){return t.callWS({type:"recorder/update_statistics_metadata",statistic_id:e,unit_of_measurement:n})},f=function(t,e){return t.callWS({type:"recorder/clear_statistics",statistic_ids:e})},p=function(t){var e=null;if(!t)return null;var n,r=(0,i.Z)(t);try{for(r.s();!(n=r.n()).done;){var s=n.value;null!==s.change&&void 0!==s.change&&(null===e?e=s.change:e+=s.change)}}catch(o){r.e(o)}finally{r.f()}return e},v=function(t,e){var n,r=null,s=(0,i.Z)(e);try{for(s.s();!(n=s.n()).done;){var o=n.value;if(o in t){var a=p(t[o]);null!==a&&(null===r?r=a:r+=a)}}}catch(u){s.e(u)}finally{s.f()}return r},y=function(t,e){return t.some(function(t){return void 0!==t[e]&&null!==t[e]})},m=["mean","min","max"],b=["sum","state","change"],g=function(t,e){return!(!m.includes(e)||0===t.mean_type)||!(!b.includes(e)||!t.has_sum)},C=function(t,e,n,i,r){var s=new Date(n).toISOString();return t.callWS({type:"recorder/adjust_sum_statistics",statistic_id:e,start_time:s,adjustment:i,adjustment_unit_of_measurement:r})},S=function(t,e,n){var i=t.states[e];return i?(0,r.C)(i):(null==n?void 0:n.name)||e},k=function(t,e,n){var i,r;e&&(i=null===(r=t.states[e])||void 0===r?void 0:r.attributes.unit_of_measurement);return void 0===i?null==n?void 0:n.statistics_unit_of_measurement:i},Z=function(t){return t.includes(":")},w=function(t){return t.callWS({type:"recorder/update_statistics_issues"})}},6291:function(t,e,n){n.d(e,{f:function(){return _}});var i=n(75706),r=n(54521),s=n(4490),o=n(20129),a=n(53389),u=n(85297),c=(n(39710),n(26847),n(81738),n(72489),n(54480),n(1455),n(56389),n(27530),n(73742)),d=n(7616),_=function(t){var e=function(t){function e(){return(0,r.Z)(this,e),(0,o.Z)(this,e,arguments)}return(0,u.Z)(e,t),(0,s.Z)(e,[{key:"connectedCallback",value:function(){(0,a.Z)(e,"connectedCallback",this,3)([]),this._checkSubscribed()}},{key:"disconnectedCallback",value:function(){if((0,a.Z)(e,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){var t=this.__unsubs.pop();t instanceof Promise?t.then(function(t){return t()}):t()}this.__unsubs=void 0}}},{key:"updated",value:function(t){if((0,a.Z)(e,"updated",this,3)([t]),t.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var n,r=(0,i.Z)(t.keys());try{for(r.s();!(n=r.n()).done;){var s=n.value;if(this.hassSubscribeRequiredHostProps.includes(s))return void this._checkSubscribed()}}catch(o){r.e(o)}finally{r.f()}}}},{key:"hassSubscribe",value:function(){return[]}},{key:"_checkSubscribed",value:function(){var t,e=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(t=this.hassSubscribeRequiredHostProps)&&void 0!==t&&t.some(function(t){return void 0===e[t]})||(this.__unsubs=this.hassSubscribe())}}])}(t);return(0,c.__decorate)([(0,d.Cb)({attribute:!1})],e.prototype,"hass",void 0),e}},87079:function(t,e,n){n.a(t,async function(t,i){try{n.r(e),n.d(e,{HuiEnergyCompareCard:function(){return Z}});var r,s,o,a,u=n(54982),c=n(54521),d=n(4490),_=n(20129),h=n(85297),l=(n(12212),n(73742)),f=n(7722),p=n(56858),v=n(59048),y=n(7616),m=n(40142),b=n(6640),g=n(6291),C=n(93647),S=(n(12942),n(39884)),k=t([m,b]);[m,b]=k.then?(await k)():k;var Z=function(t){function e(){var t;(0,c.Z)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=(0,_.Z)(this,e,[].concat(i))).hidden=!0,t.connectedWhileHidden=!0,t.hassSubscribeRequiredHostProps=["_config"],t}return(0,h.Z)(e,t),(0,d.Z)(e,[{key:"getCardSize",value:function(){return 1}},{key:"setConfig",value:function(t){this._config=t}},{key:"hassSubscribe",value:function(){var t=this;return[(0,b.UB)(this.hass,{key:this._config.collection_key}).subscribe(function(e){return t._update(e)})]}},{key:"shouldUpdate",value:function(t){return(0,C.SN)(this,t)||t.size>1||!t.has("hass")}},{key:"render",value:function(){if(!this._startCompare||!this._endCompare)return v.Ld;var t=(0,f.j)(this._endCompare,this._startCompare);return(0,v.dy)(r||(r=(0,u.Z)([' <ha-alert dismissable @alert-dismissed-clicked="','"> '," </ha-alert> "])),this._stopCompare,this.hass.localize("ui.panel.energy.compare.info",{start:(0,v.dy)(s||(s=(0,u.Z)(["<b>","","</b>"])),(0,m.p6)(this._start,this.hass.locale,this.hass.config),t>0?" -\n          ".concat((0,m.p6)(this._end||(0,p.i)(new Date),this.hass.locale,this.hass.config)):""),end:(0,v.dy)(o||(o=(0,u.Z)(["<b>","","</b>"])),(0,m.p6)(this._startCompare,this.hass.locale,this.hass.config),t>0?" -\n          ".concat((0,m.p6)(this._endCompare,this.hass.locale,this.hass.config)):"")}))}},{key:"_update",value:function(t){this._start=t.start,this._end=t.end,this._startCompare=t.startCompare,this._endCompare=t.endCompare;var e=this.hidden;this.hidden=!this._startCompare,e!==this.hidden&&(0,S.B)(this,"card-visibility-changed")}},{key:"_stopCompare",value:function(){var t=(0,b.UB)(this.hass,{key:this._config.collection_key});t.setCompare(!1),t.refresh()}}])}((0,g.f)(v.oi));Z.styles=(0,v.iv)(a||(a=(0,u.Z)(["mwc-button{width:max-content}"]))),(0,l.__decorate)([(0,y.Cb)({attribute:!1})],Z.prototype,"hass",void 0),(0,l.__decorate)([(0,y.SB)()],Z.prototype,"_config",void 0),(0,l.__decorate)([(0,y.SB)()],Z.prototype,"_start",void 0),(0,l.__decorate)([(0,y.SB)()],Z.prototype,"_end",void 0),(0,l.__decorate)([(0,y.SB)()],Z.prototype,"_startCompare",void 0),(0,l.__decorate)([(0,y.SB)()],Z.prototype,"_endCompare",void 0),(0,l.__decorate)([(0,y.Cb)({type:Boolean,reflect:!0})],Z.prototype,"hidden",void 0),Z=(0,l.__decorate)([(0,y.Mo)("hui-energy-compare-card")],Z),i()}catch(w){i(w)}})}}]);
//# sourceMappingURL=11702.436044691e42ed72.js.map