"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["709"],{44329:function(e,t,a){a.a(e,async function(e,t){try{var r,o,n,s,i=a(54982),c=a(29694),l=a(75778),d=a(54521),u=a(4490),h=a(67063),_=a(20129),p=a(85297),y=(a(12212),a(73742)),f=a(59048),v=a(7616),g=a(39884),w=a(78206),b=(a(12942),a(31138),a(37492),a(95814)),m=a(31307),k=a(52668),P=e([w]);w=(P.then?(await P)():P)[0];var Z=function(e){function t(){var e;(0,d.Z)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=(0,_.Z)(this,t,[].concat(r))).translationKeyPanel="config.cloud.forgot_password",e.cardLess=!1,e._inProgress=!1,e._resetPassword=function(){var t=(0,l.Z)((0,c.Z)().m(function t(a){var r;return(0,c.Z)().w(function(t){for(;;)switch(t.n){case 0:if(e._inProgress=!0,t.p=1,!e.hass){t.n=3;break}return t.n=2,(0,m.u_)(e.hass,a);case 2:t.n=4;break;case 3:return t.n=4,(0,k.cG)(a);case 4:(0,g.B)((0,h.Z)(e),"cloud-email-changed",{value:a}),e._inProgress=!1,(0,g.B)((0,h.Z)(e),"cloud-done",{flashMessage:e.localize("ui.panel.".concat(e.translationKeyPanel,".check_your_email"))}),t.n=8;break;case 5:if(t.p=5,r=t.v,e._inProgress=!1,"usernotfound"!==(r&&r.body&&r.body.code)||a===a.toLowerCase()){t.n=7;break}return t.n=6,e._resetPassword(a.toLowerCase());case 6:t.n=8;break;case 7:e._error=r&&r.body&&r.body.message?r.body.message:"Unknown error";case 8:return t.a(2)}},t,null,[[1,5]])}));return function(e){return t.apply(this,arguments)}}(),e}return(0,p.Z)(t,e),(0,u.Z)(t,[{key:"render",value:function(){return this.cardLess?this._renderContent():(0,f.dy)(r||(r=(0,i.Z)([' <ha-card outlined .header="','"> '," </ha-card> "])),this.localize("ui.panel.".concat(this.translationKeyPanel,".subtitle")),this._renderContent())}},{key:"_renderContent",value:function(){var e;return(0,f.dy)(o||(o=(0,i.Z)([' <div class="card-content"> <p> '," </p> ",' <ha-textfield autofocus id="email" label="','" .value="','" type="email" required .disabled="','" @keydown="','" .validationMessage="','"></ha-textfield> </div> <div class="card-actions"> <ha-progress-button @click="','" .progress="','"> '," </ha-progress-button> </div> "])),this.localize("ui.panel.".concat(this.translationKeyPanel,".instructions")),this._error?(0,f.dy)(n||(n=(0,i.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):f.Ld,this.localize("ui.panel.".concat(this.translationKeyPanel,".email")),null!==(e=this.email)&&void 0!==e?e:"",this._inProgress,this._keyDown,this.localize("ui.panel.".concat(this.translationKeyPanel,".email_error_msg")),this._handleEmailPasswordReset,this._inProgress,this.localize("ui.panel.".concat(this.translationKeyPanel,".send_reset_email")))}},{key:"_keyDown",value:function(e){"Enter"===e.key&&this._handleEmailPasswordReset()}},{key:"_handleEmailPasswordReset",value:(a=(0,l.Z)((0,c.Z)().m(function e(){var t,a;return(0,c.Z)().w(function(e){for(;;)switch(e.n){case 0:if(t=this.emailField,a=t.value,t.reportValidity()){e.n=1;break}return t.focus(),e.a(2);case 1:this._inProgress=!0,this._resetPassword(a);case 2:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})}],[{key:"styles",get:function(){return[b.Qx,(0,f.iv)(s||(s=(0,i.Z)(["ha-card{max-width:600px;margin:0 auto;margin-top:24px}h1{margin:0}ha-textfield{width:100%}.card-actions{display:flex;justify-content:flex-end;align-items:center}"])))]}}]);var a}(f.oi);(0,y.__decorate)([(0,v.Cb)({attribute:!1})],Z.prototype,"hass",void 0),(0,y.__decorate)([(0,v.Cb)({attribute:!1})],Z.prototype,"localize",void 0),(0,y.__decorate)([(0,v.Cb)({attribute:"translation-key-panel"})],Z.prototype,"translationKeyPanel",void 0),(0,y.__decorate)([(0,v.Cb)()],Z.prototype,"email",void 0),(0,y.__decorate)([(0,v.Cb)({type:Boolean,attribute:"card-less"})],Z.prototype,"cardLess",void 0),(0,y.__decorate)([(0,v.SB)()],Z.prototype,"_inProgress",void 0),(0,y.__decorate)([(0,v.SB)()],Z.prototype,"_error",void 0),(0,y.__decorate)([(0,v.IO)("#email",!0)],Z.prototype,"emailField",void 0),Z=(0,y.__decorate)([(0,v.Mo)("cloud-forgot-password-card")],Z),t()}catch(C){t(C)}})},9504:function(e,t,a){a.a(e,async function(e,r){try{a.r(t),a.d(t,{CloudForgotPassword:function(){return v}});var o,n,s=a(54982),i=a(54521),c=a(4490),l=a(20129),d=a(85297),u=(a(12212),a(73742)),h=a(59048),_=a(7616),p=a(44329),y=(a(51869),a(95814)),f=e([p]);p=(f.then?(await f)():f)[0];var v=function(e){function t(){var e;(0,i.Z)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=(0,l.Z)(this,t,[].concat(r))).narrow=!1,e._requestInProgress=!1,e}return(0,d.Z)(t,e),(0,c.Z)(t,[{key:"render",value:function(){return(0,h.dy)(o||(o=(0,s.Z)([' <hass-subpage .hass="','" .narrow="','" .header="','"> <div class="content"> <cloud-forgot-password-card .hass="','" .localize="','" .email="','"></cloud-forgot-password-card> </div> </hass-subpage> '])),this.hass,this.narrow,this.hass.localize("ui.panel.config.cloud.forgot_password.title"),this.hass,this.hass.localize,this.email)}}],[{key:"styles",get:function(){return[y.Qx,(0,h.iv)(n||(n=(0,s.Z)([".content{padding-bottom:24px}"])))]}}])}(h.oi);(0,u.__decorate)([(0,_.Cb)({attribute:!1})],v.prototype,"hass",void 0),(0,u.__decorate)([(0,_.Cb)({type:Boolean})],v.prototype,"narrow",void 0),(0,u.__decorate)([(0,_.Cb)()],v.prototype,"email",void 0),(0,u.__decorate)([(0,_.SB)()],v.prototype,"_requestInProgress",void 0),v=(0,u.__decorate)([(0,_.Mo)("cloud-forgot-password")],v),r()}catch(g){r(g)}})}}]);
//# sourceMappingURL=709.94014a1f5f7f0fa3.js.map