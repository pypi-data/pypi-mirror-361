# 헥토파이낸셜 MCP 서버 사용 지침

이 문서는 헥토파이낸셜 MCP 서버를 사용할 때 따라야 할 지침을 정의합니다.

> 최종 수정일: 2025-01-11

---

## 📌 1. 기본 원칙

- **반드시 MCP Tool(`list_docs`, `search_docs`, `get_docs`)을 사용하여 최신 문서 상태를 확인하고 응답을 구성한다.**
- **모든 질문에 대해 반드시 문서 검색을 먼저 실행하고, 검색 결과를 기반으로 답변을 작성한다.**
- **문서 원문에서 직접 인용한 내용만 응답한다.**
- **문서에 없는 정보는 생성하지 않는다.**
  - 반드시 다음과 같이 안내: `"문서에 해당 내용이 없습니다."`

---

## 🛠️ 2. 제공 도구

### 📋 list_docs
전체 문서 목록을 조회합니다.

**파라미터:**
- `category` (선택): 카테고리별 필터링
  - `"PG"`: 전자결제 연동 문서
  - `"내통장결제"`: 내통장결제 서비스 문서
  - `"간편현금결제"`: 간편현금결제 서비스 문서
  - 다중 카테고리: `["PG", "내통장결제"]`

**사용 예시:**
```python
list_docs()                              # 전체 문서 목록
list_docs(category="PG")                 # PG 카테고리만
list_docs(category=["PG", "내통장결제"])  # 다중 카테고리
```

### 🔍 search_docs
키워드 기반 문서 검색을 수행합니다.

**파라미터:**
- `query` (필수): 검색 키워드
- `category` (선택): 카테고리 필터
  - 단일: `"PG"`, `"내통장결제"`, `"간편현금결제"`
  - 다중: `["PG", "내통장결제"]`

**사용 예시:**
```python
search_docs("신용카드 결제")
search_docs("내통장결제 API", category="내통장결제")
search_docs("결제 API", category=["PG", "내통장결제"])
```

**검색 결과 구조:**
```json
{
  "검색어": ["신용카드", "결제"],
  "검색결과": [
    {
      "문서제목": "# 헥토파이낸셜 PG 연동 가이드",
      "문서ID": "0",
      "카테고리": "PG",
      "본문": "[신용카드 결제 연동 > 신용카드 결제창 연동]\n신용카드 결제창을 통해 PG 결제를 처리합니다."
    }
  ],
  "안내": "관련성이 높은 문서 섹션을 정렬하여 제공합니다."
}
```

### 📄 get_docs
특정 문서의 전체 내용을 조회합니다.

**파라미터:**
- `doc_id` (필수): 문서 ID 또는 파일 경로
  - 숫자 문자열: `"1"`, `"2"`
  - 파일 경로: `"pg/hecto_financial_pg.md"`

**사용 예시:**
```python
get_docs("1")
get_docs("pg/hecto_financial_pg.md")
```

---

## 🎯 3. 사용 패턴

| 상황 | 권장 순서 |
|------|-----------|
| 키워드로 정보 찾기 | `search_docs` → `get_docs` |
| 문서 목록 확인 | `list_docs` → `get_docs` |
| 특정 문서 조회 | `get_docs` |
| 카테고리별 검색 | `search_docs` (category 파라미터 사용) |

---

## 📚 4. 문서 카테고리

| 카테고리 | 설명 | 포함 내용 |
|----------|------|-----------|
| **PG** | 전자결제 연동 | 신용카드 결제, PG 연동 API |
| **내통장결제** | 내통장결제 서비스 | 계좌인증, 내통장결제 API |
| **간편현금결제** | 간편현금결제 서비스 | 간편결제, 현금결제 API |

---

## ⚠️ 5. 오류 응답

| 상황 | 응답 형식 |
|------|-----------|
| 검색어 없음 | `{"오류": "검색어를 입력해 주세요."}` |
| 문서 없음 | `{"오류": "문서를 찾을 수 없습니다."}` |
| 검색 결과 없음 | `{"검색결과": [], "안내": "검색 결과가 없습니다."}` |

---

## 🧷 6. 응답 작성 지침

1. **정확성**: 문서 원문에서만 인용
2. **완전성**: 관련된 모든 정보 포함
3. **명확성**: 단계별로 명확하게 설명
4. **실용성**: 실제 사용 가능한 코드와 예시 제공

---

## 💡 7. 모범 사례

### 사용자 질문: "신용카드 결제 연동 방법을 알려주세요"

**권장 응답 순서:**
1. `search_docs("신용카드 결제 연동", category="PG")`
2. 검색 결과 기반으로 답변 작성
3. 필요시 `get_docs`로 상세 정보 확인

**잘못된 응답:**
- 문서 검색 없이 일반적인 정보 제공
- 문서에 없는 내용 추측하여 답변
- 다른 회사 연동 방식으로 답변

**올바른 응답:**
- 헥토파이낸셜 문서에서 직접 인용
- 실제 API 명세와 코드 예시 제공
- 단계별 연동 과정 설명