"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["88645"],{37814:function(e,t,i){i.a(e,async function(e,n){try{i.r(t),i.d(t,{HuiConditionalElementEditor:function(){return p}});var o,s,a=i(54982),c=i(54521),l=i(4490),h=i(20129),d=i(85297),g=(i(12212),i(13571),i(87799),i(73742)),r=i(59048),u=i(7616),f=i(95632),_=i(39884),m=(i(87979),i(85273),i(58646)),v=i(52558),b=e([m,v]);[m,v]=b.then?(await b)():b;var C=(0,f.Ry)({type:(0,f.i0)("conditional"),conditions:(0,f.jt)((0,f.IX)((0,f.Yj)())),elements:(0,f.jt)((0,f.IX)((0,f.Yj)())),title:(0,f.jt)((0,f.Z_)())}),E=[{name:"title",selector:{text:{}}}],p=function(e){function t(){var e;(0,c.Z)(this,t);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=(0,h.Z)(this,t,[].concat(n)))._computeLabelCallback=function(t){return e.hass.localize("ui.panel.lovelace.editor.card.generic.".concat(t.name))||e.hass.localize("ui.panel.lovelace.editor.elements.".concat(t.name))||t.name},e}return(0,d.Z)(t,e),(0,l.Z)(t,[{key:"setConfig",value:function(e){(0,f.hu)(e,C),this._config=e}},{key:"render",value:function(){return this.hass&&this._config?this._subElementEditorConfig?(0,r.dy)(o||(o=(0,a.Z)([' <hui-sub-element-editor .hass="','" .config="','" @go-back="','" @config-changed="','"> </hui-sub-element-editor> '])),this.hass,this._subElementEditorConfig,this._goBack,this._handleSubElementChanged):(0,r.dy)(s||(s=(0,a.Z)([' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" @value-changed="','"></ha-form> <ha-card-conditions-editor .hass="','" .conditions="','" @value-changed="','"> </ha-card-conditions-editor> <hui-picture-elements-card-row-editor .hass="','" .elements="','" @elements-changed="','" @edit-detail-element="','"></hui-picture-elements-card-row-editor> '])),this.hass,this._config,E,this._computeLabelCallback,this._formChanged,this.hass,this._config.conditions||[],this._conditionChanged,this.hass,this._config.elements||[],this._elementsChanged,this._editDetailElement):r.Ld}},{key:"_formChanged",value:function(e){(0,_.B)(this,"config-changed",{config:e.detail.value})}},{key:"_conditionChanged",value:function(e){if(e.stopPropagation(),this._config){var t=e.detail.value;this._config=Object.assign(Object.assign({},this._config),{},{conditions:t}),(0,_.B)(this,"config-changed",{config:this._config})}}},{key:"_elementsChanged",value:function(e){var t,i;e.stopPropagation();var n=(null===(t=this._config)||void 0===t||null===(t=t.elements)||void 0===t?void 0:t.length)||0,o=Object.assign(Object.assign({},this._config),{},{elements:e.detail.elements});(0,_.B)(this,"config-changed",{config:o});var s=(null===(i=e.detail.elements)||void 0===i?void 0:i.length)||0;if(s===n+1){var a=s-1;this._subElementEditorConfig={index:a,type:"element",elementConfig:Object.assign({},e.detail.elements[a])}}}},{key:"_handleSubElementChanged",value:function(e){var t;if(e.stopPropagation(),this._config&&this.hass){var i=null===(t=this._subElementEditorConfig)||void 0===t?void 0:t.type,n=e.detail.config;if("element"===i){var o=this._config.elements.concat();n?o[this._subElementEditorConfig.index]=n:(o.splice(this._subElementEditorConfig.index,1),this._goBack()),this._config=Object.assign(Object.assign({},this._config),{},{elements:o})}this._subElementEditorConfig=Object.assign(Object.assign({},this._subElementEditorConfig),{},{elementConfig:n}),(0,_.B)(this,"config-changed",{config:this._config})}}},{key:"_editDetailElement",value:function(e){this._subElementEditorConfig=e.detail.subElementConfig}},{key:"_goBack",value:function(e){null==e||e.stopPropagation(),this._subElementEditorConfig=void 0}}])}(r.oi);(0,g.__decorate)([(0,u.Cb)({attribute:!1})],p.prototype,"hass",void 0),(0,g.__decorate)([(0,u.SB)()],p.prototype,"_config",void 0),(0,g.__decorate)([(0,u.SB)()],p.prototype,"_subElementEditorConfig",void 0),p=(0,g.__decorate)([(0,u.Mo)("hui-conditional-element-editor")],p),n()}catch(y){n(y)}})}}]);
//# sourceMappingURL=88645.c8af596bcd3032f4.js.map