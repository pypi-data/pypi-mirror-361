(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2179f1"],{c806:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e._self._c;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("AI推理")]),a("el-breadcrumb-item",[e._v("本地部署")])],1),a("el-card",[a("el-collapse",{attrs:{accordion:""},on:{change:e.handleChange},model:{value:e.activeNames,callback:function(a){e.activeNames=a},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"部署配置",name:"1"}},[a("a",{attrs:{href:"https://llama-cpp-python.readthedocs.io/en/latest/server",target:"_blank"}},[e._v("配置参考")]),e.loading?a("div",[e._v("加载中...")]):a("CodeHighlight",{ref:"codeHighlight",attrs:{"show-edit-sys":!0,code:e.config.code,"file-path":e.config.filePath,language:e.config.language,showHeader:!0,maxHeight:e.isFullscreen?"none":"500px"},on:{save:e.onSave,change:e.onChange}})],1),a("el-collapse-item",{attrs:{title:"执行部署",name:"2"}},[a("div",[e._v("服务端口: "),a("el-tag",[e._v(e._s(e.llamaServer.server_port))]),e._v(" 服务状态: "),a("el-tag",{attrs:{type:"running"===e.llamaServer.server_status?"success":"danger"}},[e._v(e._s(e.llamaServer.server_status)+" ")])],1),a("div",{staticStyle:{margin:"10px 0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},domProps:{textContent:e._s("running"===e.llamaServer.server_status?"停止服务":"启动服务")},on:{click:e.startOrStopServer}}),a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-refresh"},on:{click:e.getLLamaServerInfo}},[e._v("刷新 ")])],1)])],1)],1)],1)},r=[],o=t("6226"),i=t("4989"),s=t("ff51"),c={name:"deploy",components:{CodeHighlight:o["a"]},data:function(){return{activeNames:["1"],deployType:"llama.cpp",deployTypeList:["llama.cpp"],isFullscreen:!1,loading:!0,llamaServer:{},config:{code:"",language:"json",filePath:""}}},mounted:function(){this.getLlamaCppConfig(),this.getLLamaServerInfo()},methods:{startOrStopServer:function(){var e=this;if("running"!==this.llamaServer.server_status){var a=Object(s["d"])("启动中...");i["a"].startLLamaServer().then((function(t){Object(s["a"])(a),e.getLLamaServerInfo()})).catch((function(a){e.$message.error(a)}))}else{var t=Object(s["d"])("停止中...");i["a"].stopLLamaServer().then((function(a){Object(s["a"])(t),e.getLLamaServerInfo()})).catch((function(a){e.$message.error(a)}))}},getLLamaServerInfo:function(){var e=this;i["a"].getLLamaServerInfo().then((function(a){e.llamaServer=a})).catch((function(a){e.$message.error(a)}))},handleChange:function(e){console.log(e)},onSave:function(e){var a=this;i["a"].saveLlamaCppConfig(e).then((function(e){"success"===e&&a.$message.success("修改成功")})).catch((function(e){a.$message.error(e)}))},onChange:function(e){},getLlamaCppConfig:function(){var e=this;i["a"].getLlamaCppConfig().then((function(a){e.config.filePath=a.file_path,e.config.code=a.conf,e.config.language="json",e.loading=!1})).catch((function(a){e.$message.error(a)}))},getOriginCode:function(){var e=this.$refs.codeHighlight;return e.editedCode},getHtmlCode:function(){var e=this.$refs.codeHighlight;return e.formattedCode}}},l=c,g=t("2877"),f=Object(g["a"])(l,n,r,!1,null,"4bb6cc0a",null);a["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d2179f1.e50c42ab.js.map