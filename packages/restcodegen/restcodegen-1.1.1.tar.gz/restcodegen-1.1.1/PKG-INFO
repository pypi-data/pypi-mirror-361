Metadata-Version: 2.1
Name: restcodegen
Version: 1.1.1
Summary: 
Author: Menshikov Valeriy Sergeevich
Author-email: valeriy.menshikov.1989@gmail.com
Requires-Python: >=3.10,<4.0
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Requires-Dist: click (>=8.1.8,<10.0.0)
Requires-Dist: curlify2 (>=2.0.0,<3.0.0)
Requires-Dist: datamodel-code-generator (>=0.26.5,<1.0.0)
Requires-Dist: httpx (>=0.28.1,<1.0.0)
Requires-Dist: jinja2 (>=3.1.5,<4.0.0)
Requires-Dist: loguru (>=0.7.3,<1.0.0)
Requires-Dist: pydantic-settings (>=2.7.1,<3.0.0)
Requires-Dist: ruff (>=0.9.2,<1.0.0)
Requires-Dist: structlog (>=25.1.0,<27.0.0)
Description-Content-Type: text/markdown

# RestCodeGen

[![PyPI version](https://img.shields.io/pypi/v/restcodegen.svg)](https://pypi.org/project/restcodegen)
[![Python versions](https://img.shields.io/pypi/pyversions/restcodegen.svg)](https://pypi.python.org/pypi/restcodegen)
[![GitHub Actions](https://img.shields.io/github/actions/workflow/status/ValeriyMenshikov/restcodegen/python-test.yml?branch=main)](https://github.com/ValeriyMenshikov/restcodegen/actions/workflows/python-test.yml)
[![Coverage Status](https://coveralls.io/repos/github/ValeriyMenshikov/restcodegen/badge.svg?branch=main)](https://coveralls.io/github/ValeriyMenshikov/restcodegen?branch=main)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://github.com/ValeriyMenshikov/restcodegen/blob/main/LICENSE)
[![Downloads](https://img.shields.io/pypi/dm/restcodegen.svg)](https://pypistats.org/packages/restcodegen)
[![Code style: ruff](https://img.shields.io/badge/code%20style-ruff-000000.svg)](https://github.com/astral-sh/ruff)

<p align="center">
  <b>Generate Python clients from OpenAPI specifications with ease</b>
</p>

## ğŸš€ Overview

RestCodeGen is a powerful tool for automatically generating Python client libraries from OpenAPI 3 specifications. It streamlines the process of interacting with REST APIs, allowing developers and testers to quickly integrate with services that provide OpenAPI documentation.

### âœ¨ Key Features

- **Easy Client Generation**: Create Python clients with a single command
- **Async Support**: Generate both synchronous and asynchronous clients
- **Selective API Generation**: Choose specific API tags to include
- **Built-in Logging**: Integrated with structlog for comprehensive request/response tracking
- **Customizable**: Use your own HTTPX client for advanced configurations
- **Type Hints**: All generated code includes proper type annotations

## ğŸ“¦ Installation

RestCodeGen requires Python 3.11 or higher. Install it using pip:

```bash
pip install restcodegen
```

Or with Poetry:

```bash
poetry add restcodegen
```

## ğŸ”§ Usage

### Basic Command

```bash
restcodegen generate -u "http://example.com/openapi.json" -s "my-service" -a false
```

### Command Parameters

| Parameter | Short | Description | Required | Default |
|-----------|-------|-------------|----------|---------|
| `--url` | `-u` | URL of the OpenAPI specification | Yes | - |
| `--service-name` | `-s` | Name of the service | Yes | - |
| `--async-mode` | `-a` | Enable asynchronous client generation | No | `false` |
| `--api-tags` | `-t` | Comma-separated list of API tags to generate | No | All APIs |

### Example

Generate a client for the Petstore API:

```bash
restcodegen generate -u "https://petstore3.swagger.io/api/v3/openapi.json" -s "petstore" -a false
```

## ğŸ“ Generated Structure

After successful execution, a client library will be created with the following structure:

```
â””â”€â”€ clients                      
     â””â”€â”€ http     
        â”œâ”€â”€ schemas               # OpenAPI 3.0.0 schemas for all generated APIs                   
        â””â”€â”€ service_name          # Service name     
            â”œâ”€â”€ apis              # API client classes                    
            â””â”€â”€ models            # Pydantic models   
```

## ğŸ’» Using the Generated Client

The generated client includes built-in logging with `structlog` and supports custom HTTPX clients:

```python
from restcodegen.restclient import Client, Configuration
from clients.http.petstore import PetApi
import structlog

# Configure logging
structlog.configure(
    processors=[
        structlog.processors.JSONRenderer(
            indent=4,
            ensure_ascii=True,
        )
    ]
)

# Create and use the client
if __name__ == '__main__':
    # Configure the base URL
    configuration = Configuration(host="https://petstore3.swagger.io/api/v3")
    
    # Use the built-in client
    api_client = Client(configuration)
    
    # Or use your custom HTTPX client
    # import httpx
    # api_client = httpx.Client()  # or httpx.AsyncClient() for async mode
    
    # Initialize the API
    pet_api = PetApi(api_client)
    
    # Make API calls
    response = pet_api.get_pet_pet_id(pet_id=1)
    print(response)
```

## ğŸ”„ Development Workflow

1. Install development dependencies:
   ```bash
   poetry install
   ```

2. Run tests:
   ```bash
   poetry run pytest
   ```

3. Check code quality:
   ```bash
   poetry run ruff check .
   poetry run mypy .
   ```

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ¤ Contributing

Contributions are welcome! Feel free to open issues or submit pull requests.

## ğŸ“¬ Contact

For questions or feedback, please open an issue in the repository.

---

<p align="center">
  <i>RestCodeGen - Making API integration simple and efficient</i>
</p>

