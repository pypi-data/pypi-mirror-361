cd /Users/les/Projects/jinja2-async-environment && pdm run pytest
direnv: loading ~/Projects/jinja2-async-environment/.envrc                      
direnv: export +PDM_ACTIVE ~PATH
(jinja2-async-environment) [jinja2-async-environment] cd /Users/les/Projects/jinja2-async-environment && pdm run pytest
========================================================================= test session starts =========================================================================
platform darwin -- Python 3.13.3, pytest-8.3.5, pluggy-1.5.0
rootdir: /Users/les/Projects/jinja2-async-environment
configfile: pyproject.toml
testpaths: tests, jinja2_async_environment
plugins: anyio-4.9.0, timeout-2.4.0, asyncio-0.26.0, mock-3.14.0, cov-6.1.1
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collected 12 items / 9 errors                                                                                                                                         
/Users/les/Projects/jinja2-async-environment/.venv/lib/python3.13/site-packages/coverage/report_core.py:110: CoverageWarning: Couldn't parse Python file '/Users/les/Projects/jinja2-async-environment/jinja2_async_environment/environment.py' (couldnt-parse)
  coverage._warn(msg, slug="couldnt-parse")

=============================================================================== ERRORS ================================================================================
_______________________________________________________________ ERROR collecting tests/test_bccache.py ________________________________________________________________
.venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
.venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
.venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:185: in exec_module
    exec(co, module.__dict__)
tests/test_bccache.py:6: in <module>
    from jinja2_async_environment.bccache import AsyncBytecodeCache
jinja2_async_environment/__init__.py:2: in <module>
    from .environment import AsyncEnvironment
E     File "/Users/les/Projects/jinja2-async-environment/jinja2_async_environment/environment.py", line 72
E       return result
E       ^^^^^^^^^^^^^
E   SyntaxError: 'return' with value in async generator
____________________________________________________________ ERROR collecting tests/test_choice_loader.py _____________________________________________________________
.venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
.venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
.venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:185: in exec_module
    exec(co, module.__dict__)
tests/test_choice_loader.py:8: in <module>
    from jinja2_async_environment.environment import AsyncEnvironment
jinja2_async_environment/__init__.py:2: in <module>
    from .environment import AsyncEnvironment
E     File "/Users/les/Projects/jinja2-async-environment/jinja2_async_environment/environment.py", line 72
E       return result
E       ^^^^^^^^^^^^^
E   SyntaxError: 'return' with value in async generator
_______________________________________________________________ ERROR collecting tests/test_compiler.py _______________________________________________________________
.venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
.venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
.venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:185: in exec_module
    exec(co, module.__dict__)
tests/test_compiler.py:6: in <module>
    from jinja2_async_environment.compiler import AsyncCodeGenerator, AsyncFrame
jinja2_async_environment/__init__.py:2: in <module>
    from .environment import AsyncEnvironment
E     File "/Users/les/Projects/jinja2-async-environment/jinja2_async_environment/environment.py", line 72
E       return result
E       ^^^^^^^^^^^^^
E   SyntaxError: 'return' with value in async generator
_____________________________________________________________ ERROR collecting tests/test_dict_loader.py ______________________________________________________________
.venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
.venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
.venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:185: in exec_module
    exec(co, module.__dict__)
tests/test_dict_loader.py:7: in <module>
    from jinja2_async_environment.environment import AsyncEnvironment
jinja2_async_environment/__init__.py:2: in <module>
    from .environment import AsyncEnvironment
E     File "/Users/les/Projects/jinja2-async-environment/jinja2_async_environment/environment.py", line 72
E       return result
E       ^^^^^^^^^^^^^
E   SyntaxError: 'return' with value in async generator
_____________________________________________________________ ERROR collecting tests/test_environment.py ______________________________________________________________
.venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
.venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
.venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:185: in exec_module
    exec(co, module.__dict__)
tests/test_environment.py:9: in <module>
    from jinja2_async_environment.environment import AsyncEnvironment
jinja2_async_environment/__init__.py:2: in <module>
    from .environment import AsyncEnvironment
E     File "/Users/les/Projects/jinja2-async-environment/jinja2_async_environment/environment.py", line 72
E       return result
E       ^^^^^^^^^^^^^
E   SyntaxError: 'return' with value in async generator
___________________________________________________________ ERROR collecting tests/test_function_loader.py ____________________________________________________________
.venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
.venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
.venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:185: in exec_module
    exec(co, module.__dict__)
tests/test_function_loader.py:7: in <module>
    from jinja2_async_environment.environment import AsyncEnvironment
jinja2_async_environment/__init__.py:2: in <module>
    from .environment import AsyncEnvironment
E     File "/Users/les/Projects/jinja2-async-environment/jinja2_async_environment/environment.py", line 72
E       return result
E       ^^^^^^^^^^^^^
E   SyntaxError: 'return' with value in async generator
_______________________________________________________________ ERROR collecting tests/test_loaders.py ________________________________________________________________
.venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
.venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
.venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:185: in exec_module
    exec(co, module.__dict__)
tests/test_loaders.py:8: in <module>
    from jinja2_async_environment.environment import AsyncEnvironment
jinja2_async_environment/__init__.py:2: in <module>
    from .environment import AsyncEnvironment
E     File "/Users/les/Projects/jinja2-async-environment/jinja2_async_environment/environment.py", line 72
E       return result
E       ^^^^^^^^^^^^^
E   SyntaxError: 'return' with value in async generator
____________________________________________________________ ERROR collecting tests/test_package_loader.py ____________________________________________________________
.venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
.venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
.venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:185: in exec_module
    exec(co, module.__dict__)
tests/test_package_loader.py:7: in <module>
    from jinja2_async_environment.environment import AsyncEnvironment
jinja2_async_environment/__init__.py:2: in <module>
    from .environment import AsyncEnvironment
E     File "/Users/les/Projects/jinja2-async-environment/jinja2_async_environment/environment.py", line 72
E       return result
E       ^^^^^^^^^^^^^
E   SyntaxError: 'return' with value in async generator
__________________________________________________________ ERROR collecting tests/test_template_rendering.py __________________________________________________________
.venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
.venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
.venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:185: in exec_module
    exec(co, module.__dict__)
tests/test_template_rendering.py:6: in <module>
    from jinja2_async_environment.environment import AsyncEnvironment
jinja2_async_environment/__init__.py:2: in <module>
    from .environment import AsyncEnvironment
E     File "/Users/les/Projects/jinja2-async-environment/jinja2_async_environment/environment.py", line 72
E       return result
E       ^^^^^^^^^^^^^
E   SyntaxError: 'return' with value in async generator
=========================================================================== tests coverage ============================================================================
__________________________________________________________ coverage: platform darwin, python 3.13.3-final-0 ___________________________________________________________

Name                                   Stmts   Miss  Cover
----------------------------------------------------------
jinja2_async_environment/bccache.py       45     20    56%
jinja2_async_environment/compiler.py     185    185     0%
jinja2_async_environment/loaders.py      218    218     0%
----------------------------------------------------------
TOTAL                                    448    423     6%
======================================================================= short test summary info =======================================================================
ERROR tests/test_bccache.py
ERROR tests/test_choice_loader.py
ERROR tests/test_compiler.py
ERROR tests/test_dict_loader.py
ERROR tests/test_environment.py
ERROR tests/test_function_loader.py
ERROR tests/test_loaders.py
ERROR tests/test_package_loader.py
ERROR tests/test_template_rendering.py
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! Interrupted: 9 errors during collection !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
========================================================================== 9 errors in 2.19s ==========================================================================
(jinja2-async-environment) [jinja2-async-environment]                                                                                                        main  ✭ ✱
