{"version":3,"file":"53537.203e8506164da7ca.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250702.2/src/data/recorder.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250702.2/src/panels/lovelace/cards/energy/common/energy-chart-options.ts","/unknown/node_modules/date-fns/addYears.js","/unknown/node_modules/date-fns/differenceInCalendarYears.js","/unknown/node_modules/date-fns/differenceInYears.js"],"names":["StatisticMeanType","STATISTIC_TYPES","getRecorderInfo","conn","sendMessagePromise","type","getStatisticIds","hass","statistic_type","callWS","getStatisticMetadata","statistic_ids","fetchStatistics","startTime","endTime","period","arguments","length","undefined","units","types","start_time","toISOString","end_time","fetchStatistic","statistic_id","fixed_period","start","Date","end","calendar","rolling_window","validateStatistics","updateStatisticsMetadata","unit_of_measurement","clearStatistics","calculateStatisticSumGrowth","values","growth","_step","_iterator","_createForOfIteratorHelper","s","n","done","value","change","err","e","f","calculateStatisticsSumGrowth","data","stats","_step2","totalGrowth","_iterator2","stat","statGrowth","statisticsHaveType","some","mean_stat_types","sum_stat_types","statisticsMetaHasType","metadata","includes","mean_type","has_sum","adjustStatisticsSum","adjustment","adjustment_unit_of_measurement","start_time_iso","getStatisticLabel","statisticsId","statisticsMetaData","entity","states","computeStateName","name","getDisplayUnit","unit","_hass$states$statisti","attributes","statistics_unit_of_measurement","isExternalStatistic","updateStatisticsIssues","getSuggestedMax","dayDifference","suggestedMax","getHours","subHours","setMinutes","setDate","setHours","getTime","getSuggestedPeriod","getCommonOptions","locale","config","compareStart","compareEnd","formatTotal","differenceInDays","compare","xAxis","min","max","yAxis","nameGap","nameTextStyle","align","axisLabel","formatter","formatNumber","Math","abs","splitLine","show","grid","top","bottom","left","right","containLabel","tooltip","trigger","params","Array","isArray","mainItems","compareItems","forEach","param","_param$seriesId","seriesId","startsWith","push","map","items","formatTooltip","filter","Boolean","join","_params$","_params$0$value$","_params$0$value","_params$0$value2","date","concat","formatDateMonthYear","formatDateVeryShort","formatTime","addHours","title","sumPositive","countPositive","sumNegative","countNegative","_param$value","y","componentSubType","marker","seriesName","footer","fillDataGapsAndRoundCaps","datasets","from","Set","dataset","datapoint","Number","flat","sort","a","b","bucket","index","capRounded","capRoundedNegative","i","_item$value","_datasets$i$stack","_item$value2","_item$value3","_item$value4","_datasets$i$data","dataPoint","item","_typeof","x","stack","splice","itemStyle","borderWidth","Object","assign","borderRadius","getCompareTransform","ts","compareYearDiff","differenceInYears","startOfYear","addYears","compareMonthDiff","differenceInMonths","startOfMonth","addMonths","compareDayDiff","startOfDay","addDays","compareOffset","addMilliseconds","amount","options","differenceInCalendarYears","laterDate","earlierDate","_normalizeDates","normalizeDates","in","_normalizeDates2","_slicedToArray","laterDate_","earlierDate_","getFullYear","sign","compareAsc","diff","setFullYear","result"],"mappings":"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"}