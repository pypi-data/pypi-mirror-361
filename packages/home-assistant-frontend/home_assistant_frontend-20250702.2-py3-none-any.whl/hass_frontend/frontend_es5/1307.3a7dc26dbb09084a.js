"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["1307"],{39046:function(a,e,t){var i=t(4490),s=t(54521),n=t(20129),o=t(85297),r=(t(12212),t(63430),t(96821),t(73742)),l=t(50604),d=t(7616),c=function(a){function e(){var a;(0,s.Z)(this,e);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(a=(0,n.Z)(this,e,[].concat(i))).name="fadeIn",a.fill="both",a.play=!0,a.iterations=1,a}return(0,o.Z)(e,a),(0,i.Z)(e)}(l.Z);(0,r.__decorate)([(0,d.Cb)()],c.prototype,"name",void 0),(0,r.__decorate)([(0,d.Cb)()],c.prototype,"fill",void 0),(0,r.__decorate)([(0,d.Cb)({type:Boolean})],c.prototype,"play",void 0),(0,r.__decorate)([(0,d.Cb)({type:Number})],c.prototype,"iterations",void 0),c=(0,r.__decorate)([(0,d.Mo)("ha-fade-in")],c)},36570:function(a,e,t){t.d(e,{yt:function(){return n},fU:function(){return r},kP:function(){return o}});t(40777),t(81738),t(29981),t(1455);var i=t(43893),s=(t(29694),t(75778),t(31021));const n=async a=>(0,i.I)(a.config.version,2021,2,4)?a.callWS({type:"supervisor/api",endpoint:"/addons",method:"get"}):(0,s.rY)(await a.callApi("GET","hassio/addons")),o=async(a,e)=>(0,i.I)(a.config.version,2021,2,4)?a.callWS({type:"supervisor/api",endpoint:`/addons/${e}/start`,method:"post",timeout:null}):a.callApi("POST",`hassio/addons/${e}/start`),r=async(a,e)=>{(0,i.I)(a.config.version,2021,2,4)?await a.callWS({type:"supervisor/api",endpoint:`/addons/${e}/install`,method:"post",timeout:null}):await a.callApi("POST",`hassio/addons/${e}/install`)}},63366:function(a,e,t){var i,s,n,o=t(54982),r=t(54521),l=t(4490),d=t(20129),c=t(85297),h=(t(12212),t(25518),t(70021),t(39710),t(24819),t(2394),t(18574),t(81738),t(94814),t(29981),t(6989),t(54480),t(56389),t(73742)),u=t(59048),p=t(7616),m=t(28105),f=t(39884),g=t(36221),v=(t(63752),t(53166),t(681),function(a){function e(){var a;(0,r.Z)(this,e);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(a=(0,d.Z)(this,e,[].concat(i))).hideVersion=!1,a.disabled=!1,a._addons=(0,m.Z)(function(e){return e.sort(function(e,t){var i;return(0,g.$K)(e.name,t.name,null===(i=a.hass)||void 0===i||null===(i=i.locale)||void 0===i?void 0:i.language)})}),a}return(0,c.Z)(e,a),(0,l.Z)(e,[{key:"render",value:function(){var a=this;return(0,u.dy)(i||(i=(0,o.Z)([' <div class="items"> '," </div> "])),this._addons(this.addons).map(function(e){var t,i;return(0,u.dy)(s||(s=(0,o.Z)([' <ha-formfield> <ha-backup-formfield-label slot="label" .label="','" .version="','" .iconPath="','" .imageUrl="','"> </ha-backup-formfield-label> <ha-checkbox .id="','" .checked="','" @change="','" .disabled="','"></ha-checkbox> </ha-formfield> '])),e.name,a.hideVersion?void 0:e.version,e.iconPath||"M20.5,11H19V7C19,5.89 18.1,5 17,5H13V3.5A2.5,2.5 0 0,0 10.5,1A2.5,2.5 0 0,0 8,3.5V5H4A2,2 0 0,0 2,7V10.8H3.5C5,10.8 6.2,12 6.2,13.5C6.2,15 5,16.2 3.5,16.2H2V20A2,2 0 0,0 4,22H7.8V20.5C7.8,19 9,17.8 10.5,17.8C12,17.8 13.2,19 13.2,20.5V22H17A2,2 0 0,0 19,20V16H20.5A2.5,2.5 0 0,0 23,13.5A2.5,2.5 0 0,0 20.5,11Z",null!==(t=a.addons)&&void 0!==t&&null!==(t=t.find(function(a){return a.slug===e.slug}))&&void 0!==t&&t.icon?"/api/hassio/addons/".concat(e.slug,"/icon"):void 0,e.slug,(null===(i=a.value)||void 0===i?void 0:i.includes(e.slug))||!1,a._checkboxChanged,a.disabled)}))}},{key:"_checkboxChanged",value:function(a){var e;a.stopPropagation();var t=null!==(e=this.value)&&void 0!==e?e:[],i=a.currentTarget;i.checked?t.push(i.id):t=t.filter(function(a){return a!==i.id}),(0,f.B)(this,"value-changed",{value:t})}}])}(u.oi));v.styles=(0,u.iv)(n||(n=(0,o.Z)([".items{display:flex;flex-direction:column}"]))),(0,h.__decorate)([(0,p.Cb)({attribute:!1})],v.prototype,"hass",void 0),(0,h.__decorate)([(0,p.Cb)({attribute:!1})],v.prototype,"addons",void 0),(0,h.__decorate)([(0,p.Cb)({attribute:!1})],v.prototype,"value",void 0),(0,h.__decorate)([(0,p.Cb)({attribute:"hide-version",type:Boolean})],v.prototype,"hideVersion",void 0),(0,h.__decorate)([(0,p.Cb)({type:Boolean})],v.prototype,"disabled",void 0),v=(0,h.__decorate)([(0,p.Mo)("ha-backup-addons-picker")],v)},2581:function(a,e,t){var i,s,n,o,r,l=t(54982),d=t(29694),c=t(74904),h=t(75778),u=t(42385),p=t(54521),m=t(4490),f=t(20129),g=t(85297),v=t(53389),b=(t(12212),t(25518),t(39710),t(24819),t(2394),t(44438),t(81738),t(94814),t(6989),t(93190),t(87799),t(54480),t(56389),t(73742)),_=t(59048),y=t(7616),k=t(28105),Z=t(37528),C=t(39884),x=t(53049),A=(t(63752),t(53166),t(36570)),V=t(56730),H=(t(63366),t(681),"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"),w={config:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",database:"M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M9 17H7V10H9V17M13 17H11V7H13V17M17 17H15V13H17V17Z",media:"M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M12,14.5V5.5L18,10L12,14.5Z",share:H,ssl:"M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1Z"},z=function(a){function e(){var a;(0,p.Z)(this,e);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(a=(0,f.Z)(this,e,[].concat(i))).requiredItems=[],a.translationKeyPanel="config.backup",a.addonsDisabled=!1,a._addonIcons={},a._homeAssistantItems=(0,k.Z)(function(e,t){var i=[];return e.homeassistant_included&&i.push({label:t("ui.panel.".concat(a.translationKeyPanel,".data_picker.").concat(e.database_included?"settings_and_history":"settings")),id:"config",version:e.homeassistant_version}),i.push.apply(i,(0,u.Z)(e.folders.map(function(e){return{label:a._localizeFolder(e),id:e}}))),i}),a._addonsItems=(0,k.Z)(function(a,e,t){return a.addons.map(function(a){return{name:a.name,slug:a.slug,version:a.version,icon:t[a.slug]}})}),a._parseValue=(0,k.Z)(function(a){if(!a)return{homeassistant:[],addons:[]};var e=[],t=[];a.homeassistant_included&&e.push("config");var i=a.folders;e.push.apply(e,(0,u.Z)(i));var s=a.addons.map(function(a){return a.slug});return t.push.apply(t,(0,u.Z)(s)),{homeassistant:e,addons:t}}),a._formatValue=(0,k.Z)(function(a,e){return{homeassistant_version:e.homeassistant_version,homeassistant_included:a.homeassistant.includes("config"),database_included:e.database_included&&a.homeassistant.includes("config"),addons:e.addons.filter(function(e){return a.addons.includes(e.slug)}),folders:e.folders.filter(function(e){return a.homeassistant.includes(e)})}}),a}return(0,g.Z)(e,a),(0,m.Z)(e,[{key:"firstUpdated",value:function(a){(0,v.Z)(e,"firstUpdated",this,3)([a]),this.hass&&(0,Z.p)(this.hass,"hassio")&&this._fetchAddonInfo()}},{key:"_fetchAddonInfo",value:(t=(0,h.Z)((0,d.Z)().m(function a(){var e,t;return(0,d.Z)().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,(0,A.yt)(this.hass);case 1:e=a.v,t=e.addons,this._addonIcons=t.reduce(function(a,e){return Object.assign(Object.assign({},a),{},(0,c.Z)({},e.slug,e.icon))},{});case 2:return a.a(2)}},a,this)})),function(){return t.apply(this,arguments)})},{key:"_localizeFolder",value:function(a){var e=this.localize||this.hass.localize;switch(a){case"media":return e("ui.panel.".concat(this.translationKeyPanel,".data_picker.media"));case"share":return e("ui.panel.".concat(this.translationKeyPanel,".data_picker.share_folder"));case"ssl":return e("ui.panel.".concat(this.translationKeyPanel,".data_picker.ssl"));case"addons/local":return e("ui.panel.".concat(this.translationKeyPanel,".data_picker.local_addons"))}return(0,x.f)(a)}},{key:"_homeassistantChanged",value:function(a){var e=this._parseValue(this.value),t=a.currentTarget;t.checked?e.homeassistant.push(t.id):e.homeassistant=e.homeassistant.filter(function(a){return a!==t.id});var i=this._formatValue(e,this.data);(0,C.B)(this,"value-changed",{value:i})}},{key:"_addonsChanged",value:function(a){a.stopPropagation();var e=this._parseValue(this.value),t=a.detail.value;e.addons=t;var i=this._formatValue(e,this.data);(0,C.B)(this,"value-changed",{value:i})}},{key:"_sectionChanged",value:function(a){var e=this._parseValue(this.value),t=this._parseValue(this.data),i=a.currentTarget,s=i.id;i.checked?e[s]=t[s]:e[s]=[];var n=this._formatValue(e,this.data);(0,C.B)(this,"value-changed",{value:n})}},{key:"render",value:function(){var a=this,e=this.localize||this.hass.localize,t=this._homeAssistantItems(this.data,e),r=this._addonsItems(this.data,e,this._addonIcons),d=this._parseValue(this.value);return(0,_.dy)(i||(i=(0,l.Z)([" "," "," "])),t.length?(0,_.dy)(s||(s=(0,l.Z)([' <div class="section"> <ha-formfield> <ha-backup-formfield-label slot="label" label="Home Assistant" .iconPath="','"> </ha-backup-formfield-label> <ha-checkbox .id="','" .checked="','" .indeterminate="','" @change="','" ?disabled="','"></ha-checkbox> </ha-formfield> <div class="items"> '," </div> </div> "])),V.mdiHomeAssistant,"homeassistant",d.homeassistant.length===t.length,d.homeassistant.length>0&&d.homeassistant.length<t.length,this._sectionChanged,this.requiredItems.length>0,t.map(function(e){return(0,_.dy)(n||(n=(0,l.Z)([' <ha-formfield> <ha-backup-formfield-label slot="label" .label="','" .version="','" .iconPath="','"> </ha-backup-formfield-label> <ha-checkbox .id="','" .checked="','" @change="','" .disabled="','"></ha-checkbox> </ha-formfield> '])),e.label,e.version,w[e.id]||H,e.id,d.homeassistant.includes(e.id),a._homeassistantChanged,a.requiredItems.includes(e.id))})):_.Ld,r.length?(0,_.dy)(o||(o=(0,l.Z)([' <div class="section"> <ha-formfield> <ha-backup-formfield-label slot="label" .label="','" .iconPath="','"> </ha-backup-formfield-label> <ha-checkbox .id="','" .checked="','" .indeterminate="','" @change="','" .disabled="','"></ha-checkbox> </ha-formfield> <ha-backup-addons-picker .hass="','" .value="','" @value-changed="','" .addons="','" .disabled="','"> </ha-backup-addons-picker> </div> '])),e("ui.panel.".concat(this.translationKeyPanel,".data_picker.addons")),"M20.5,11H19V7C19,5.89 18.1,5 17,5H13V3.5A2.5,2.5 0 0,0 10.5,1A2.5,2.5 0 0,0 8,3.5V5H4A2,2 0 0,0 2,7V10.8H3.5C5,10.8 6.2,12 6.2,13.5C6.2,15 5,16.2 3.5,16.2H2V20A2,2 0 0,0 4,22H7.8V20.5C7.8,19 9,17.8 10.5,17.8C12,17.8 13.2,19 13.2,20.5V22H17A2,2 0 0,0 19,20V16H20.5A2.5,2.5 0 0,0 23,13.5A2.5,2.5 0 0,0 20.5,11Z","addons",d.addons.length===r.length,d.addons.length>0&&d.addons.length<r.length,this._sectionChanged,this.addonsDisabled,this.hass,d.addons,this._addonsChanged,r,this.addonsDisabled):_.Ld)}}]);var t}(_.oi);z.styles=(0,_.iv)(r||(r=(0,l.Z)([".section{margin-left:-16px;margin-inline-start:-16px;margin-inline-end:initial}.items{padding-left:40px;padding-inline-start:40px;padding-inline-end:initial;display:flex;flex-direction:column}ha-backup-addons-picker{display:block;padding-left:40px;padding-inline-start:40px;padding-inline-end:initial}"]))),(0,b.__decorate)([(0,y.Cb)({attribute:!1})],z.prototype,"hass",void 0),(0,b.__decorate)([(0,y.Cb)({attribute:!1})],z.prototype,"data",void 0),(0,b.__decorate)([(0,y.Cb)({attribute:!1})],z.prototype,"value",void 0),(0,b.__decorate)([(0,y.Cb)({attribute:!1})],z.prototype,"localize",void 0),(0,b.__decorate)([(0,y.Cb)({type:Array,attribute:"required-items"})],z.prototype,"requiredItems",void 0),(0,b.__decorate)([(0,y.Cb)({attribute:"translation-key-panel"})],z.prototype,"translationKeyPanel",void 0),(0,b.__decorate)([(0,y.Cb)({type:Boolean,attribute:!1})],z.prototype,"addonsDisabled",void 0),(0,b.__decorate)([(0,y.SB)()],z.prototype,"_addonIcons",void 0),z=(0,b.__decorate)([(0,y.Mo)("ha-backup-data-picker")],z)},32201:function(a,e,t){var i,s,n=t(54982),o=t(54521),r=t(4490),l=t(20129),d=t(85297),c=(t(12212),t(73742)),h=t(28105),u=t(59048),p=t(7616),m=(t(31138),t(62223),t(53898),t(72953),t(2581),t(39884)),f=function(a){function e(){var a;(0,o.Z)(this,e);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(a=(0,l.Z)(this,e,[].concat(i))).haRequired=!1,a.translationKeyPanel="config.backup",a._isHomeAssistantRequired=(0,h.Z)(function(a){return a?["config"]:[]}),a}return(0,d.Z)(e,a),(0,r.Z)(e,[{key:"willUpdate",value:function(){!this.hasUpdated&&this.haRequired&&(this._selectedData={homeassistant_included:!0,folders:[],addons:[],homeassistant_version:this.backup.homeassistant_version,database_included:this.backup.database_included})}},{key:"render",value:function(){return(0,u.dy)(i||(i=(0,n.Z)([' <ha-card> <div class="card-header"> ',' </div> <div class="card-content"> <ha-backup-data-picker .translationKeyPanel="','" .localize="','" .hass="','" .data="','" .value="','" @value-changed="','" .requiredItems="','"> </ha-backup-data-picker> </div> <div class="card-actions"> <ha-button @click="','" .disabled="','" destructive> '," </ha-button> </div> </ha-card> "])),this.localize("ui.panel.".concat(this.translationKeyPanel,".details.restore.title")),this.translationKeyPanel,this.localize,this.hass,this.backup,this._selectedData,this._selectedBackupChanged,this._isHomeAssistantRequired(this.haRequired),this._restore,this._isRestoreDisabled,this.localize("ui.panel.".concat(this.translationKeyPanel,".details.restore.action")))}},{key:"_restore",value:function(){(0,m.B)(this,"backup-restore",{selectedData:this._selectedData})}},{key:"_selectedBackupChanged",value:function(a){a.stopPropagation(),this._selectedData=a.detail.value}},{key:"_isRestoreDisabled",get:function(){var a,e;return!this._selectedData||this.haRequired&&!this._selectedData.homeassistant_included||!(null!==(a=this._selectedData)&&void 0!==a&&a.database_included||null!==(e=this._selectedData)&&void 0!==e&&e.homeassistant_included||this._selectedData.addons.length||this._selectedData.folders.length)}}])}(u.oi);f.styles=(0,u.iv)(s||(s=(0,n.Z)([":host{max-width:690px;width:100%;margin:0 auto;gap:24px;display:grid}.card-content{padding:0 20px}.card-actions{display:flex;justify-content:flex-end}ha-md-list{background:0 0;padding:0}ha-md-list-item{--md-list-item-leading-space:0;--md-list-item-trailing-space:0;--md-list-item-two-line-container-height:64px}ha-md-list-item [slot=supporting-text]{display:flex;align-items:center;flex-direction:row;gap:8px;line-height:var(--ha-line-height-condensed)}"]))),(0,c.__decorate)([(0,p.Cb)({attribute:!1})],f.prototype,"hass",void 0),(0,c.__decorate)([(0,p.Cb)({attribute:!1})],f.prototype,"localize",void 0),(0,c.__decorate)([(0,p.Cb)({type:Object})],f.prototype,"backup",void 0),(0,c.__decorate)([(0,p.Cb)({type:Boolean,attribute:"ha-required"})],f.prototype,"haRequired",void 0),(0,c.__decorate)([(0,p.Cb)({attribute:"translation-key-panel"})],f.prototype,"translationKeyPanel",void 0),(0,c.__decorate)([(0,p.SB)()],f.prototype,"_selectedData",void 0),f=(0,c.__decorate)([(0,p.Mo)("ha-backup-details-restore")],f)},12937:function(a,e,t){t.a(a,async function(a,e){try{var i,s,n,o,r,l=t(54982),d=t(54521),c=t(4490),h=t(20129),u=t(85297),p=(t(12212),t(24819),t(2394),t(81738),t(6989),t(54480),t(73742)),m=t(59048),f=t(7616),g=t(74266),v=t(53049),b=(t(12942),t(31138),t(62223),t(53898),t(76609)),_=t(84872),y=a([g,b]);[g,b]=y.then?(await y)():y;var k=function(a){function e(){var a;(0,d.Z)(this,e);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(a=(0,h.Z)(this,e,[].concat(i))).isHassio=!1,a}return(0,u.Z)(e,a),(0,c.Z)(e,[{key:"render",value:function(){var a,e,t=this,s=new Date(this.backup.date),n=(0,g.o0)(s,this.hass.locale,this.hass.config),o=[];return null!==(a=this.backup.failed_addons)&&void 0!==a&&a.length&&o.push({title:this.hass.localize("ui.panel.config.backup.details.summary.error.failed_addons"),items:this.backup.failed_addons.map(function(a){return"".concat(a.name||a.slug," (").concat(a.version,")")})}),null!==(e=this.backup.failed_folders)&&void 0!==e&&e.length&&o.push({title:this.hass.localize("ui.panel.config.backup.details.summary.error.failed_folders"),items:this.backup.failed_folders.map(function(a){return t._localizeFolder(a)})}),(0,m.dy)(i||(i=(0,l.Z)([' <ha-card> <div class="card-header"> ',' </div> <div class="card-content"> ',' <ha-md-list class="summary"> <ha-md-list-item> <span slot="headline"> ',' </span> <span slot="supporting-text"> ',' </span> </ha-md-list-item> <ha-md-list-item> <span slot="headline"> ',' </span> <span slot="supporting-text"> ',' </span> </ha-md-list-item> <ha-md-list-item> <span slot="headline"> ',' </span> <span slot="supporting-text">',"</span> </ha-md-list-item> </ha-md-list> </div> </ha-card> "])),this.hass.localize("ui.panel.config.backup.details.summary.title"),o.length?this._renderErrorSummary(o):m.Ld,this.hass.localize("ui.panel.config.backup.backup_type"),this.hass.localize("ui.panel.config.backup.type.".concat((0,b.Vn)(this.backup,this.isHassio))),this.hass.localize("ui.panel.config.backup.details.summary.size"),(0,_.d)((0,b.En)(this.backup)),this.hass.localize("ui.panel.config.backup.details.summary.created"),n)}},{key:"_renderErrorSummary",value:function(a){return(0,m.dy)(s||(s=(0,l.Z)([' <ha-alert alert-type="error" .title="','"> '," </ha-alert> "])),this.hass.localize("ui.panel.config.backup.details.summary.error.title"),a.map(function(a){var e=a.title,t=a.items;return(0,m.dy)(n||(n=(0,l.Z)([" <br> <b>",":</b> <ul> "," </ul> "])),e,t.map(function(a){return(0,m.dy)(o||(o=(0,l.Z)(["<li>","</li>"])),a)}))}))}},{key:"_localizeFolder",value:function(a){switch(a){case"media":return this.hass.localize("ui.panel.config.backup.data_picker.media");case"share":return this.hass.localize("ui.panel.config.backup.data_picker.share_folder");case"ssl":return this.hass.localize("ui.panel.config.backup.data_picker.ssl");case"addons/local":return this.hass.localize("ui.panel.config.backup.data_picker.local_addons")}return(0,v.f)(a)}}])}(m.oi);k.styles=(0,m.iv)(r||(r=(0,l.Z)([":host{max-width:690px;width:100%;margin:0 auto;gap:24px;display:grid}.card-content{padding:0 20px}.card-actions{display:flex;justify-content:flex-end}ha-md-list{background:0 0;padding:0}ha-md-list-item{--md-list-item-leading-space:0;--md-list-item-trailing-space:0;--md-list-item-two-line-container-height:64px}ha-md-list.summary ha-md-list-item{--md-list-item-supporting-text-size:1rem;--md-list-item-label-text-size:0.875rem;--md-list-item-label-text-color:var(--secondary-text-color);--md-list-item-supporting-text-color:var(--primary-text-color)}ha-md-list-item [slot=supporting-text]{display:flex;align-items:center;flex-direction:row;gap:8px;line-height:var(--ha-line-height-condensed)}"]))),(0,p.__decorate)([(0,f.Cb)({attribute:!1})],k.prototype,"hass",void 0),(0,p.__decorate)([(0,f.Cb)({type:Object})],k.prototype,"backup",void 0),(0,p.__decorate)([(0,f.Cb)({type:Boolean,attribute:"hassio"})],k.prototype,"isHassio",void 0),k=(0,p.__decorate)([(0,f.Mo)("ha-backup-details-summary")],k),e()}catch(Z){e(Z)}})},681:function(a,e,t){var i,s,n,o,r,l=t(54982),d=t(54521),c=t(4490),h=t(20129),u=t(85297),p=t(73742),m=t(59048),f=t(7616),g=(t(993),function(a){function e(){return(0,d.Z)(this,e),(0,h.Z)(this,e,arguments)}return(0,u.Z)(e,a),(0,c.Z)(e,[{key:"render",value:function(){return(0,m.dy)(i||(i=(0,l.Z)([" ",' <span class="label"> '," "," </span> "])),this.imageUrl?(0,m.dy)(s||(s=(0,l.Z)(['<img loading="lazy" alt="" src="','" class="icon">'])),this.imageUrl):this.iconPath?(0,m.dy)(n||(n=(0,l.Z)([' <ha-svg-icon .path="','" class="icon"></ha-svg-icon> '])),this.iconPath):m.Ld,this.label,this.version?(0,m.dy)(o||(o=(0,l.Z)(['<span class="version">(',")</span>"])),this.version):m.Ld)}}])}(m.oi));g.styles=(0,m.iv)(r||(r=(0,l.Z)([":host{display:flex;flex-direction:row;gap:16px;align-items:center}.label{margin-right:4px;margin-inline-end:4px;margin-inline-start:initial;font-size:var(--ha-font-size-m);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-normal);letter-spacing:.5px}.version{color:var(--secondary-text-color)}.icon{--mdi-icon-size:24px;width:24px;height:24px}"]))),(0,p.__decorate)([(0,f.Cb)({type:String})],g.prototype,"label",void 0),(0,p.__decorate)([(0,f.Cb)({type:String,attribute:"image-url"})],g.prototype,"imageUrl",void 0),(0,p.__decorate)([(0,f.Cb)({type:String,attribute:"icon-path"})],g.prototype,"iconPath",void 0),(0,p.__decorate)([(0,f.Cb)({type:String})],g.prototype,"version",void 0),g=(0,p.__decorate)([(0,f.Mo)("ha-backup-formfield-label")],g)},16483:function(a,e,t){t.d(e,{U:function(){return n}});t(26847),t(54480),t(1455),t(48694),t(27530);var i=t(39884),s=function(){return Promise.all([t.e("5055"),t.e("4072")]).then(t.bind(t,64213))},n=function(a,e){(0,i.B)(a,"show-dialog",{dialogTag:"ha-dialog-restore-backup",dialogImport:s,dialogParams:e})}},80311:function(a,e,t){t.a(a,async function(a,i){try{t.r(e);var s,n,o,r,l,d,c,h,u,p,m,f,g,v,b=t(29694),_=t(75778),y=t(54982),k=t(54521),Z=t(4490),C=t(20129),x=t(85297),A=t(53389),V=t(42385),H=(t(12212),t(25518),t(39710),t(24819),t(18574),t(81738),t(94814),t(6989),t(87799),t(24533),t(54480),t(56389),t(73742)),w=t(59048),z=t(7616),L=t(44272),M=t(67050),B=(t(12942),t(72953),t(41037),t(31138),t(39046),t(6514)),P=(t(48017),t(69760),t(62223),t(53898),t(12937)),I=(t(32201),t(76609)),D=(t(51869),t(35580)),S=t(16483),K=t(39884),q=t(72242),U=t(14440),j=t(37528),O=a([B,P,U,I]);[B,P,U,I]=O.then?(await O)():O;var R="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",T="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",E=function(a){var e,t=Object.keys(a.agents),i=null!==(e=a.failed_agent_ids)&&void 0!==e?e:[];return[].concat((0,V.Z)(t.filter(function(a){return!i.includes(a)})),(0,V.Z)(i)).map(function(e){var t,s=null!==(t=a.agents[e])&&void 0!==t?t:{protected:!1,size:0};return Object.assign(Object.assign({},s),{},{id:e,success:!i.includes(e)})}).sort(function(a,e){return(0,I.Ef)(a.id,e.id)})},F=function(a){function e(){var a;(0,k.Z)(this,e);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(a=(0,C.Z)(this,e,[].concat(i))).narrow=!1,a.agents=[],a._agents=[],a}return(0,x.Z)(e,a),(0,Z.Z)(e,[{key:"firstUpdated",value:function(a){(0,A.Z)(e,"firstUpdated",this,3)([a]),this.backupId?this._fetchBackup():this._error="Backup id not defined"}},{key:"render",value:function(){var a,e=this;if(!this.hass)return w.Ld;var t=(0,j.p)(this.hass,"hassio");return(0,w.dy)(s||(s=(0,y.Z)([' <hass-subpage back-path="/config/backup/backups" .hass="','" .narrow="','" .header="','"> <ha-button-menu slot="toolbar-icon" @action="','"> <ha-icon-button slot="trigger" .label="','" .path="','"></ha-icon-button> <ha-list-item graphic="icon"> <ha-svg-icon slot="graphic" .path="','"></ha-svg-icon> ',' </ha-list-item> <ha-list-item graphic="icon" class="warning"> <ha-svg-icon slot="graphic" .path="','"></ha-svg-icon> ',' </ha-list-item> </ha-button-menu> <div class="content"> '," "," </div> </hass-subpage> "])),this.hass,this.narrow,(null===(a=this._backup)||void 0===a?void 0:a.name)||this.hass.localize("ui.panel.config.backup.details.header"),this._handleAction,this.hass.localize("ui.common.menu"),R,T,this.hass.localize("ui.common.download"),"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",this.hass.localize("ui.common.delete"),this._error&&(0,w.dy)(n||(n=(0,y.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error),null===this._backup?(0,w.dy)(o||(o=(0,y.Z)([' <ha-alert alert-type="warning" .title="','"> '," </ha-alert> "])),this.hass.localize("ui.panel.config.backup.details.not_found"),this.hass.localize("ui.panel.config.backup.details.not_found_description",{backupId:this.backupId})):this._backup?(0,w.dy)(l||(l=(0,y.Z)([' <ha-backup-details-summary .backup="','" .hass="','" .localize="','" .isHassio="','"></ha-backup-details-summary> <ha-backup-details-restore .backup="','" @backup-restore="','" .hass="','" .localize="','"></ha-backup-details-restore> <ha-card> <div class="card-header"> ',' </div> <div class="card-content"> <ha-md-list> '," </ha-md-list> </div> </ha-card> "])),this._backup,this.hass,this.hass.localize,t,this._backup,this._restore,this.hass,this.hass.localize,this.hass.localize("ui.panel.config.backup.details.locations.title"),this._agents.map(function(a){var t,i=a.id,s=(0,L.M)(i),n=(0,I.Sw)(e.hass.localize,i,e.agents),o=a.success,r=!a.success,l=!a.protected;return(0,w.dy)(d||(d=(0,y.Z)([" <ha-md-list-item> ",' <div slot="headline">','</div> <div slot="supporting-text"> '," </div>  "," </ha-md-list-item> "])),(0,I.V1)(i)?(0,w.dy)(c||(c=(0,y.Z)([' <ha-svg-icon .path="','" slot="start"> </ha-svg-icon> '])),"M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M12,4A6,6 0 0,0 6,10C6,13.31 8.69,16 12.1,16L11.22,13.77C10.95,13.29 11.11,12.68 11.59,12.4L12.45,11.9C12.93,11.63 13.54,11.79 13.82,12.27L15.74,14.69C17.12,13.59 18,11.9 18,10A6,6 0 0,0 12,4M12,9A1,1 0 0,1 13,10A1,1 0 0,1 12,11A1,1 0 0,1 11,10A1,1 0 0,1 12,9M7,18A1,1 0 0,0 6,19A1,1 0 0,0 7,20A1,1 0 0,0 8,19A1,1 0 0,0 7,18M12.09,13.27L14.58,19.58L17.17,18.08L12.95,12.77L12.09,13.27Z"):(0,I.BR)(i)?(0,w.dy)(h||(h=(0,y.Z)([' <ha-svg-icon .path="','" slot="start"></ha-svg-icon> '])),"M4,5C2.89,5 2,5.89 2,7V17C2,18.11 2.89,19 4,19H20C21.11,19 22,18.11 22,17V7C22,5.89 21.11,5 20,5H4M4.5,7A1,1 0 0,1 5.5,8A1,1 0 0,1 4.5,9A1,1 0 0,1 3.5,8A1,1 0 0,1 4.5,7M7,7H20V17H7V7M8,8V16H11V8H8M12,8V16H15V8H12M16,8V16H19V8H16M9,9H10V10H9V9M13,9H14V10H13V9M17,9H18V10H17V9Z"):(0,w.dy)(u||(u=(0,y.Z)([' <img .src="','" crossorigin="anonymous" referrerpolicy="no-referrer" alt="','" slot="start"> '])),(0,D.X1)({domain:s,type:"icon",useFallback:!0,darkOptimized:null===(t=e.hass.themes)||void 0===t?void 0:t.darkMode}),"".concat(s," logo")),n,r?(0,w.dy)(p||(p=(0,y.Z)([' <span class="dot error"></span> <span> '," </span> "])),e.hass.localize("ui.panel.config.backup.details.locations.backup_failed")):l?(0,w.dy)(m||(m=(0,y.Z)([' <span class="dot warning"></span> <span> ',"</span> "])),e.hass.localize("ui.panel.config.backup.details.locations.unencrypted")):(0,w.dy)(f||(f=(0,y.Z)([' <span class="dot success"></span> <span>',"</span> "])),e.hass.localize("ui.panel.config.backup.details.locations.encrypted")),o?(0,w.dy)(g||(g=(0,y.Z)([' <ha-button-menu slot="end" @action="','" .agent="','" fixed> <ha-icon-button slot="trigger" .label="','" .path="','"></ha-icon-button> <ha-list-item graphic="icon"> <ha-svg-icon slot="graphic" .path="','"></ha-svg-icon> '," </ha-list-item> </ha-button-menu> "])),e._handleAgentAction,i,e.hass.localize("ui.common.menu"),R,T,e.hass.localize("ui.panel.config.backup.details.locations.download")):w.Ld)})):(0,w.dy)(r||(r=(0,y.Z)(['<ha-fade-in .delay="','"><ha-spinner></ha-spinner></ha-fade-in>'])),1e3))}},{key:"_restore",value:function(a){this._backup&&a.detail.selectedData&&(0,S.U)(this,{backup:this._backup,selectedData:a.detail.selectedData})}},{key:"_fetchBackup",value:(v=(0,_.Z)((0,b.Z)().m(function a(){var e,t;return(0,b.Z)().w(function(a){for(;;)switch(a.n){case 0:return a.p=0,a.n=1,(0,I.Ye)(this.hass,this.backupId);case 1:e=a.v,this._backup=e.backup,this._agents=E(e.backup),a.n=3;break;case 2:a.p=2,t=a.v,this._error=(null==t?void 0:t.message)||this.hass.localize("ui.panel.config.backup.details.error");case 3:return a.a(2)}},a,this,[[0,2]])})),function(){return v.apply(this,arguments)})},{key:"_handleAction",value:function(a){switch(a.detail.index){case 0:this._downloadBackup();break;case 1:this._deleteBackup()}}},{key:"_handleAgentAction",value:function(a){var e=a.currentTarget.agent;this._downloadBackup(e)}},{key:"_downloadBackup",value:(i=(0,_.Z)((0,b.Z)().m(function a(e){return(0,b.Z)().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,(0,U.w)(this.hass,this,this._backup,this.config,e);case 1:return a.a(2)}},a,this)})),function(a){return i.apply(this,arguments)})},{key:"_deleteBackup",value:(t=(0,_.Z)((0,b.Z)().m(function a(){return(0,b.Z)().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,(0,q.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.backup.dialogs.delete.title"),text:this.hass.localize("ui.panel.config.backup.dialogs.delete.text"),confirmText:this.hass.localize("ui.common.delete"),destructive:!0});case 1:if(a.v){a.n=2;break}return a.a(2);case 2:return a.n=3,(0,I.Ug)(this.hass,this._backup.backup_id);case 3:(0,K.B)(this,"ha-refresh-backup-info"),(0,M.c)("/config/backup");case 4:return a.a(2)}},a,this)})),function(){return t.apply(this,arguments)})}]);var t,i,v}(w.oi);F.styles=(0,w.iv)(v||(v=(0,y.Z)([".content{padding:28px 20px 0;max-width:690px;margin:0 auto;gap:24px;display:grid;margin-bottom:24px}ha-spinner{margin:24px auto}.card-content{padding:0 20px}.card-actions{display:flex;justify-content:flex-end}ha-md-list{background:0 0;padding:0}ha-md-list-item{--md-list-item-leading-space:0;--md-list-item-trailing-space:0;--md-list-item-two-line-container-height:64px}ha-md-list-item img{width:48px}ha-md-list-item ha-svg-icon[slot=start]{--mdc-icon-size:48px;color:var(--primary-text-color)}.warning{color:var(--error-color)}.warning ha-svg-icon{color:var(--error-color)}ha-button.danger{--mdc-theme-primary:var(--error-color)}ha-md-list-item [slot=supporting-text]{display:flex;align-items:center;flex-direction:row;gap:8px;line-height:var(--ha-line-height-condensed)}.dot{display:block;position:relative;width:8px;height:8px;background-color:var(--disabled-color);border-radius:50%;flex:none}.dot.success{background-color:var(--success-color)}.dot.warning{background-color:var(--warning-color)}.dot.error{background-color:var(--error-color)}.card-header{padding-bottom:8px}"]))),(0,H.__decorate)([(0,z.Cb)({attribute:!1})],F.prototype,"hass",void 0),(0,H.__decorate)([(0,z.Cb)({type:Boolean})],F.prototype,"narrow",void 0),(0,H.__decorate)([(0,z.Cb)({attribute:"backup-id"})],F.prototype,"backupId",void 0),(0,H.__decorate)([(0,z.Cb)({attribute:!1})],F.prototype,"config",void 0),(0,H.__decorate)([(0,z.Cb)({attribute:!1})],F.prototype,"agents",void 0),(0,H.__decorate)([(0,z.SB)()],F.prototype,"_backup",void 0),(0,H.__decorate)([(0,z.SB)()],F.prototype,"_agents",void 0),(0,H.__decorate)([(0,z.SB)()],F.prototype,"_error",void 0),F=(0,H.__decorate)([(0,z.Mo)("ha-config-backup-details")],F),i()}catch($){i($)}})}}]);
//# sourceMappingURL=1307.3a7dc26dbb09084a.js.map