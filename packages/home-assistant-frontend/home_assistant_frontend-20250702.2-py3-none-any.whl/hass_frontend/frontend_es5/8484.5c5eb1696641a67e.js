"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["8484"],{65981:function(e,t,o){o.a(e,async function(e,n){try{o.r(t),o.d(t,{HaIconPicker:function(){return H}});var a,r,i,c,s,u=o(75706),l=o(54521),d=o(4490),h=o(20129),p=o(85297),v=o(54982),_=o(29694),f=o(42385),y=o(75778),g=(o(12212),o(25518),o(39710),o(26847),o(24819),o(2394),o(69643),o(18574),o(81738),o(94814),o(22960),o(6989),o(72489),o(24533),o(54480),o(1455),o(11353),o(67886),o(65451),o(46015),o(38334),o(94880),o(75643),o(29761),o(56389),o(48694),o(67398),o(27530),o(73742)),m=o(59048),b=o(7616),Z=o(28105),C=o(39884),k=o(19941),w=o(81205),V=(o(46358),o(12692),e([w]));w=(V.then?(await V)():V)[0];var A=[],M=!1,B=function(){var e=(0,y.Z)((0,_.Z)().m(function e(){var t,n;return(0,_.Z)().w(function(e){for(;;)switch(e.n){case 0:return M=!0,e.n=1,o.e("25016").then(o.t.bind(o,58134,19));case 1:return t=e.v,A=t.default.map(function(e){return{icon:"mdi:".concat(e.name),parts:new Set(e.name.split("-")),keywords:e.keywords}}),n=[],Object.keys(k.g).forEach(function(e){n.push(I(e))}),e.n=2,Promise.all(n);case 2:e.v.forEach(function(e){var t;(t=A).push.apply(t,(0,f.Z)(e))});case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,y.Z)((0,_.Z)().m(function e(t){var o,n,a;return(0,_.Z)().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,"function"==typeof(o=k.g[t].getIconList)){e.n=1;break}return e.a(2,[]);case 1:return e.n=2,o();case 2:return n=e.v,a=n.map(function(e){var o;return{icon:"".concat(t,":").concat(e.name),parts:new Set(e.name.split("-")),keywords:null!==(o=e.keywords)&&void 0!==o?o:[]}}),e.a(2,a);case 3:return e.p=3,e.v,console.warn("Unable to load icon list for ".concat(t," iconset")),e.a(2,[])}},e,null,[[0,3]])}));return function(t){return e.apply(this,arguments)}}(),x=function(e){return(0,m.dy)(a||(a=(0,v.Z)([' <ha-combo-box-item type="button"> <ha-icon .icon="','" slot="start"></ha-icon> '," </ha-combo-box-item> "])),e.icon,e.icon)},H=function(e){function t(){var e;(0,l.Z)(this,t);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(e=(0,h.Z)(this,t,[].concat(n))).disabled=!1,e.required=!1,e.invalid=!1,e._filterIcons=(0,Z.Z)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;if(!e)return t;var o,n=[],a=function(e,t){return n.push({icon:e,rank:t})},r=(0,u.Z)(t);try{for(r.s();!(o=r.n()).done;){var i=o.value;i.parts.has(e)?a(i.icon,1):i.keywords.includes(e)?a(i.icon,2):i.icon.includes(e)?a(i.icon,3):i.keywords.some(function(t){return t.includes(e)})&&a(i.icon,4)}}catch(c){r.e(c)}finally{r.f()}return 0===n.length&&a(e,0),n.sort(function(e,t){return e.rank-t.rank})}),e._iconProvider=function(t,o){var n=e._filterIcons(t.filter.toLowerCase(),A),a=t.page*t.pageSize,r=a+t.pageSize;o(n.slice(a,r),n.length)},e}return(0,p.Z)(t,e),(0,d.Z)(t,[{key:"render",value:function(){return(0,m.dy)(r||(r=(0,v.Z)([' <ha-combo-box .hass="','" item-value-path="icon" item-label-path="icon" .value="','" allow-custom-value .dataProvider="','" .label="','" .helper="','" .disabled="','" .required="','" .placeholder="','" .errorMessage="','" .invalid="','" .renderer="','" icon @opened-changed="','" @value-changed="','"> '," </ha-combo-box> "])),this.hass,this._value,M?this._iconProvider:void 0,this.label,this.helper,this.disabled,this.required,this.placeholder,this.errorMessage,this.invalid,x,this._openedChanged,this._valueChanged,this._value||this.placeholder?(0,m.dy)(i||(i=(0,v.Z)([' <ha-icon .icon="','" slot="icon"> </ha-icon> '])),this._value||this.placeholder):(0,m.dy)(c||(c=(0,v.Z)(['<slot slot="icon" name="fallback"></slot>']))))}},{key:"_openedChanged",value:(o=(0,y.Z)((0,_.Z)().m(function e(t){return(0,_.Z)().w(function(e){for(;;)switch(e.n){case 0:if(!t.detail.value||M){e.n=2;break}return e.n=1,B();case 1:this.requestUpdate();case 2:return e.a(2)}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"_valueChanged",value:function(e){e.stopPropagation(),this._setValue(e.detail.value)}},{key:"_setValue",value:function(e){this.value=e,(0,C.B)(this,"value-changed",{value:this._value},{bubbles:!1,composed:!1})}},{key:"_value",get:function(){return this.value||""}}]);var o}(m.oi);H.styles=(0,m.iv)(s||(s=(0,v.Z)(["[slot=icon]{color:var(--primary-text-color);position:relative;bottom:2px}[slot=prefix]{margin-right:8px;margin-inline-end:8px;margin-inline-start:initial}"]))),(0,g.__decorate)([(0,b.Cb)({attribute:!1})],H.prototype,"hass",void 0),(0,g.__decorate)([(0,b.Cb)()],H.prototype,"value",void 0),(0,g.__decorate)([(0,b.Cb)()],H.prototype,"label",void 0),(0,g.__decorate)([(0,b.Cb)()],H.prototype,"helper",void 0),(0,g.__decorate)([(0,b.Cb)()],H.prototype,"placeholder",void 0),(0,g.__decorate)([(0,b.Cb)({attribute:"error-message"})],H.prototype,"errorMessage",void 0),(0,g.__decorate)([(0,b.Cb)({type:Boolean})],H.prototype,"disabled",void 0),(0,g.__decorate)([(0,b.Cb)({type:Boolean})],H.prototype,"required",void 0),(0,g.__decorate)([(0,b.Cb)({type:Boolean})],H.prototype,"invalid",void 0),H=(0,g.__decorate)([(0,b.Mo)("ha-icon-picker")],H),n()}catch(S){n(S)}})},43236:function(e,t,o){o.a(e,async function(e,t){try{var n,a,r,i,c,s=o(29694),u=o(75778),l=o(42385),d=o(54982),h=o(54521),p=o(4490),v=o(20129),_=o(85297),f=(o(12212),o(25518),o(39710),o(26847),o(24819),o(81738),o(94814),o(6989),o(7175),o(54480),o(11353),o(67886),o(65451),o(46015),o(38334),o(94880),o(75643),o(29761),o(56389),o(48694),o(44261),o(27530),o(73742)),y=o(59048),g=o(7616),m=o(28105),b=o(39884),Z=o(64879),C=(o(993),o(87932)),k=o(6291),w=o(65627),V=e([Z]);Z=(V.then?(await V)():V)[0];var A="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",M="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",B="___ADD_NEW___",I="___NO_CATEGORIES___",x=function(e){function t(){var e;(0,h.Z)(this,t);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(e=(0,v.Z)(this,t,[].concat(c))).noAdd=!1,e.disabled=!1,e.required=!1,e.hassSubscribeRequiredHostProps=["scope"],e._categoryMap=(0,m.Z)(function(e){return e?new Map(e.map(function(e){return[e.category_id,e]})):new Map}),e._computeValueRenderer=(0,m.Z)(function(t){return function(o){var c=e._categoryMap(t).get(o);return c?(0,y.dy)(a||(a=(0,d.Z)([" ",' <span slot="headline">',"</span> "])),c.icon?(0,y.dy)(r||(r=(0,d.Z)(['<ha-icon slot="start" .icon="','"></ha-icon>'])),c.icon):(0,y.dy)(i||(i=(0,d.Z)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),A),c.name):(0,y.dy)(n||(n=(0,d.Z)([' <ha-svg-icon slot="start" .path="','"></ha-svg-icon> <span slot="headline">',"</span> "])),A,o)}}),e._getCategories=(0,m.Z)(function(t){return t&&0!==t.length?t.map(function(e){return{id:e.category_id,primary:e.name,icon:e.icon||void 0,icon_path:e.icon?void 0:A,sorting_label:e.name,search_labels:[e.name,e.category_id].filter(function(e){return Boolean(e)})}}):[{id:I,primary:e.hass.localize("ui.components.category-picker.no_categories"),icon_path:A}]}),e._getItems=function(){return e._getCategories(e._categories)},e._allCategoryNames=(0,m.Z)(function(e){return e?(0,l.Z)(new Set(e.map(function(e){return e.name.toLowerCase()}).filter(Boolean))):[]}),e._getAdditionalItems=function(t){if(e.noAdd)return[];var o=e._allCategoryNames(e._categories);return t&&!o.includes(t.toLowerCase())?[{id:B+t,primary:e.hass.localize("ui.components.category-picker.add_new_sugestion",{name:t}),icon_path:M}]:[{id:B,primary:e.hass.localize("ui.components.category-picker.add_new"),icon_path:M}]},e}return(0,_.Z)(t,e),(0,p.Z)(t,[{key:"open",value:(o=(0,u.Z)((0,s.Z)().m(function e(){var t;return(0,s.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this._picker)||void 0===t?void 0:t.open();case 2:return e.a(2)}},e,this)})),function(){return o.apply(this,arguments)})},{key:"hassSubscribe",value:function(){var e=this;return[(0,C.U)(this.hass.connection,this.scope,function(t){e._categories=t})]}},{key:"render",value:function(){var e,t=null!==(e=this.placeholder)&&void 0!==e?e:this.hass.localize("ui.components.category-picker.category"),o=this._computeValueRenderer(this._categories);return(0,y.dy)(c||(c=(0,d.Z)([' <ha-generic-picker .hass="','" .autofocus="','" .label="','" .notFoundLabel="','" .placeholder="','" .value="','" .getItems="','" .getAdditionalItems="','" .valueRenderer="','" @value-changed="','"> </ha-generic-picker> '])),this.hass,this.autofocus,this.label,this.hass.localize("ui.components.category-picker.no_match"),t,this.value,this._getItems,this._getAdditionalItems,o,this._valueChanged)}},{key:"_valueChanged",value:function(e){var t=this;e.stopPropagation();var o=e.detail.value;if(o!==I)if(o)if(o.startsWith(B)){this.hass.loadFragmentTranslation("config");var n=o.substring(13);(0,w.n)(this,{scope:this.scope,suggestedName:n,createEntry:(a=(0,u.Z)((0,s.Z)().m(function e(o){var n;return(0,s.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,C.DM)(t.hass,t.scope,o);case 1:return n=e.v,t._setValue(n.category_id),e.a(2,n)}},e)})),function(e){return a.apply(this,arguments)})})}else{var a;this._setValue(o)}else this._setValue(void 0)}},{key:"_setValue",value:function(e){var t=this;this.value=e,setTimeout(function(){(0,b.B)(t,"value-changed",{value:e}),(0,b.B)(t,"change")},0)}}]);var o}((0,k.f)(y.oi));(0,f.__decorate)([(0,g.Cb)({attribute:!1})],x.prototype,"hass",void 0),(0,f.__decorate)([(0,g.Cb)()],x.prototype,"scope",void 0),(0,f.__decorate)([(0,g.Cb)()],x.prototype,"label",void 0),(0,f.__decorate)([(0,g.Cb)()],x.prototype,"value",void 0),(0,f.__decorate)([(0,g.Cb)()],x.prototype,"helper",void 0),(0,f.__decorate)([(0,g.Cb)()],x.prototype,"placeholder",void 0),(0,f.__decorate)([(0,g.Cb)({type:Boolean,attribute:"no-add"})],x.prototype,"noAdd",void 0),(0,f.__decorate)([(0,g.Cb)({type:Boolean})],x.prototype,"disabled",void 0),(0,f.__decorate)([(0,g.Cb)({type:Boolean})],x.prototype,"required",void 0),(0,f.__decorate)([(0,g.SB)()],x.prototype,"_categories",void 0),(0,f.__decorate)([(0,g.IO)("ha-generic-picker")],x.prototype,"_picker",void 0),x=(0,f.__decorate)([(0,g.Mo)("ha-category-picker")],x),t()}catch(H){t(H)}})}}]);
//# sourceMappingURL=8484.5c5eb1696641a67e.js.map