var It=Object.defineProperty;var Mt=o=>{throw TypeError(o)};var Et=(o,e,r)=>e in o?It(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var Ae=(o,e,r)=>Et(o,typeof e!="symbol"?e+"":e,r),kt=(o,e,r)=>e.has(o)||Mt("Cannot "+r);var P=(o,e,r)=>(kt(o,e,"read from private field"),r?r.call(o):e.get(o)),ee=(o,e,r)=>e.has(o)?Mt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,r),Rt=(o,e,r,n)=>(kt(o,e,"write to private field"),n?n.call(o,r):e.set(o,r),r);import"../chunks/CWj6FrbW.js";import{p as J,f as c,a as q,t as T,ag as je,F as t,a0 as Ne,R as w,B as Lt,c as h,n as de,r as m,Q as zt,S as O,s as p,u as Bt}from"../chunks/CioMtalE.js";import{r as jt,s as xe}from"../chunks/DCQgh7ZV.js";import{i as ce}from"../chunks/CTeLhLzh.js";import{r as At,a as se,g as Ht,e as Xe,i as Ye}from"../chunks/CnvS_7Kp.js";import{c as C,a as s,t as g,b as ie}from"../chunks/8I6xAQmg.js";import{p as y,b as Ce,r as X,s as $t,c as $,a as Ft,d as Jt}from"../chunks/i2x3WpvN.js";import{a as $e,C as qt,u as dt,A as yt,g as Pt,S as Vt,E as Gt,B as Ut,y as Qt,G as Kt,b as ut,n as Wt,d as re,m as vt,e as Xt,I as Tt,H as et}from"../chunks/gsB6E_W3.js";import{A as Yt,P as Nt,S as ht,a as mt,b as we,R as pt}from"../chunks/BlHGmTyK.js";import{b as Zt,a as xt,C as er}from"../chunks/BZVSwjMJ.js";import{s as U}from"../chunks/CxwmnHuf.js";var tr=g("<input>"),rr=g("<input>");function Ot(o,e){J(e,!0);let r=y(e,"ref",15,null),n=y(e,"value",15),a=y(e,"files",15),i=X(e,["$$slots","$$events","$$legacy","ref","value","type","files","class"]);var d=C(),l=c(d);{var v=x=>{var f=tr();At(f);let M;Ce(f,k=>r(k),()=>r()),T(k=>M=se(f,M,{class:k,type:"file",...i}),[()=>$e("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e.class)]),Zt(f,a),xt(f,n),s(x,f)},S=x=>{var f=rr();At(f);let M;Ce(f,k=>r(k),()=>r()),T(k=>M=se(f,M,{class:k,type:e.type,...i}),[()=>$e("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e.class)]),xt(f,n),s(x,f)};ce(l,x=>{e.type==="file"?x(v):x(S,!1)})}s(o,d),q()}const sr="data-collapsible-root",or="data-collapsible-content",ar="data-collapsible-trigger";var tt,st;class nr{constructor(e){Ae(this,"opts");ee(this,tt,je(null));ee(this,st,w(()=>({id:this.opts.id.current,"data-state":Pt(this.opts.open.current),"data-disabled":yt(this.opts.disabled.current),[sr]:""})));this.opts=e,this.toggleOpen=this.toggleOpen.bind(this),dt(e)}get contentNode(){return t(P(this,tt))}set contentNode(e){Ne(P(this,tt),e,!0)}toggleOpen(){this.opts.open.current=!this.opts.open.current}get props(){return t(P(this,st))}}tt=new WeakMap,st=new WeakMap;var He,Fe,Je,qe,ot,at,nt;class lr{constructor(e,r){Ae(this,"opts");Ae(this,"root");ee(this,He);ee(this,Fe,je(!1));ee(this,Je,je(0));ee(this,qe,je(0));ee(this,ot,w(()=>this.opts.forceMount.current||this.root.opts.open.current));ee(this,at,w(()=>({open:this.root.opts.open.current})));ee(this,nt,w(()=>({id:this.opts.id.current,style:{"--bits-collapsible-content-height":t(P(this,qe))?`${t(P(this,qe))}px`:void 0,"--bits-collapsible-content-width":t(P(this,Je))?`${t(P(this,Je))}px`:void 0},"data-state":Pt(this.root.opts.open.current),"data-disabled":yt(this.root.opts.disabled.current),[or]:""})));this.opts=e,this.root=r,Ne(P(this,Fe),r.opts.open.current,!0),dt({...e,deps:()=>this.present,onRefChange:n=>{this.root.contentNode=n}}),Lt(()=>{const n=requestAnimationFrame(()=>{Ne(P(this,Fe),!1)});return()=>{cancelAnimationFrame(n)}}),Qt([()=>this.opts.ref.current,()=>this.present],([n])=>{n&&Kt(()=>{if(!this.opts.ref.current)return;Rt(this,He,P(this,He)||{transitionDuration:n.style.transitionDuration,animationName:n.style.animationName}),n.style.transitionDuration="0s",n.style.animationName="none";const a=n.getBoundingClientRect();if(Ne(P(this,qe),a.height,!0),Ne(P(this,Je),a.width,!0),!t(P(this,Fe))){const{animationName:i,transitionDuration:d}=P(this,He);n.style.transitionDuration=d,n.style.animationName=i}})})}get present(){return t(P(this,ot))}get snippetProps(){return t(P(this,at))}get props(){return t(P(this,nt))}}He=new WeakMap,Fe=new WeakMap,Je=new WeakMap,qe=new WeakMap,ot=new WeakMap,at=new WeakMap,nt=new WeakMap;var Oe,lt;class ir{constructor(e,r){Ae(this,"opts");Ae(this,"root");ee(this,Oe,w(()=>this.opts.disabled.current||this.root.opts.disabled.current));ee(this,lt,w(()=>{var e;return{id:this.opts.id.current,type:"button",disabled:t(P(this,Oe)),"aria-controls":(e=this.root.contentNode)==null?void 0:e.id,"aria-expanded":Ut(this.root.opts.open.current),"data-state":Pt(this.root.opts.open.current),"data-disabled":yt(t(P(this,Oe))),[ar]:"",onclick:this.onclick,onkeydown:this.onkeydown}}));this.opts=e,this.root=r,this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this),dt(e)}onclick(e){if(!t(P(this,Oe))){if(e.button!==0)return e.preventDefault();this.root.toggleOpen()}}onkeydown(e){t(P(this,Oe))||(e.key===Vt||e.key===Gt)&&(e.preventDefault(),this.root.toggleOpen())}get props(){return t(P(this,lt))}}Oe=new WeakMap,lt=new WeakMap;const wt=new qt("Collapsible.Root");function dr(o){return wt.set(new nr(o))}function ur(o){return new ir(o,wt.get())}function vr(o){return new lr(o,wt.get())}var cr=g("<div><!></div>");function fr(o,e){J(e,!0);let r=y(e,"id",19,ut),n=y(e,"ref",15,null),a=y(e,"open",15,!1),i=y(e,"disabled",3,!1),d=y(e,"onOpenChange",3,Wt),l=X(e,["$$slots","$$events","$$legacy","children","child","id","ref","open","disabled","onOpenChange"]);const v=dr({open:re.with(()=>a(),A=>{a(A),d()(A)}),disabled:re.with(()=>i()),id:re.with(()=>r()),ref:re.with(()=>n(),A=>n(A))}),S=w(()=>vt(l,v.props));var x=C(),f=c(x);{var M=A=>{var N=C(),R=c(N);U(R,()=>e.child,()=>({props:t(S)})),s(A,N)},k=A=>{var N=cr();let R;var b=h(N);U(b,()=>e.children??de),m(N),T(()=>R=se(N,R,{...t(S)})),s(A,N)};ce(f,A=>{e.child?A(M):A(k,!1)})}s(o,x),q()}var gr=g("<div><!></div>");function _r(o,e){J(e,!0);let r=y(e,"ref",15,null),n=y(e,"forceMount",3,!1),a=y(e,"id",19,ut),i=X(e,["$$slots","$$events","$$legacy","child","ref","forceMount","children","id"]);const d=vr({id:re.with(()=>a()),forceMount:re.with(()=>n()),ref:re.with(()=>r(),l=>r(l))});Xt(o,{forceMount:!0,get present(){return d.present},get id(){return a()},presence:(v,S)=>{let x=()=>S==null?void 0:S().present;var f=C();const M=w(()=>vt(i,d.props,{hidden:n()?void 0:!x().current}));var k=c(f);{var A=R=>{var b=C(),B=c(b),D=zt(()=>({...d.snippetProps,props:t(M)}));U(B,()=>e.child,()=>t(D)),s(R,b)},N=R=>{var b=gr();let B;var D=h(b);U(D,()=>e.children??de),m(b),T(()=>B=se(b,B,{...t(M)})),s(R,b)};ce(k,R=>{e.child?R(A):R(N,!1)})}s(v,f)},$$slots:{presence:!0}}),q()}var hr=g("<button><!></button>");function mr(o,e){J(e,!0);let r=y(e,"ref",15,null),n=y(e,"id",19,ut),a=y(e,"disabled",3,!1),i=X(e,["$$slots","$$events","$$legacy","children","child","ref","id","disabled"]);const d=ur({id:re.with(()=>n()),ref:re.with(()=>r(),N=>r(N)),disabled:re.with(()=>a())}),l=w(()=>vt(i,d.props)),v=Ht(),[S,x]=v;var f=C(),M=c(f);{var k=N=>{var R=C(),b=c(R);U(b,()=>e.child,()=>({props:t(l)})),s(N,R)},A=N=>{var R=hr();let b;var B=h(R);U(B,()=>e.children??de),m(R),T(D=>b=se(R,b,{...D}),[()=>x({...t(l)},[{attribute_name:"formaction"}])]),s(N,R)};ce(M,N=>{e.child?N(k):N(A,!1)})}s(o,f),q()}const pr="data-label-root";var it;class br{constructor(e){Ae(this,"opts");ee(this,it,w(()=>({id:this.opts.id.current,[pr]:"",onmousedown:this.onmousedown})));this.opts=e,this.onmousedown=this.onmousedown.bind(this),dt(e)}onmousedown(e){e.detail>1&&e.preventDefault()}get props(){return t(P(this,it))}}it=new WeakMap;function xr(o){return new br(o)}var $r=g("<label><!></label>");function yr(o,e){J(e,!0);let r=y(e,"id",19,ut),n=y(e,"ref",15,null),a=X(e,["$$slots","$$events","$$legacy","children","child","id","ref","for"]);const i=xr({id:re.with(()=>r()),ref:re.with(()=>n(),f=>n(f))}),d=w(()=>vt(a,i.props,{for:e.for}));var l=C(),v=c(l);{var S=f=>{var M=C(),k=c(M);U(k,()=>e.child,()=>({props:t(d)})),s(f,M)},x=f=>{var M=$r();let k;var A=h(M);U(A,()=>e.children??de),m(M),T(()=>k=se(M,k,{...t(d),for:e.for})),s(f,M)};ce(v,f=>{e.child?f(S):f(x,!1)})}s(o,l),q()}const xs=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function Pr(o,e){J(e,!0);let r=X(e,["$$slots","$$events","$$legacy"]);Tt(o,$t({name:"settings"},()=>r,{iconNode:[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(a,i)=>{var d=C(),l=c(d);U(l,()=>e.children??de),s(a,d)},$$slots:{default:!0}})),q()}function Dt(o,e){J(e,!0);let r=X(e,["$$slots","$$events","$$legacy"]);Tt(o,$t({name:"trash-2"},()=>r,{iconNode:[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]],children:(a,i)=>{var d=C(),l=c(d);U(l,()=>e.children??de),s(a,d)},$$slots:{default:!0}})),q()}var wr=g("<div><!></div>");function Cr(o,e){J(e,!0);let r=y(e,"ref",15,null),n=X(e,["$$slots","$$events","$$legacy","ref","class","children"]);var a=wr();let i;var d=h(a);U(d,()=>e.children??de),m(a),Ce(a,l=>r(l),()=>r()),T(l=>i=se(a,i,{class:l,...n}),[()=>$e("bg-card text-card-foreground rounded-xl border shadow",e.class)]),s(o,a),q()}var Sr=g("<div><!></div>");function Mr(o,e){J(e,!0);let r=y(e,"ref",15,null),n=X(e,["$$slots","$$events","$$legacy","ref","class","children"]);var a=Sr();let i;var d=h(a);U(d,()=>e.children??de),m(a),Ce(a,l=>r(l),()=>r()),T(l=>i=se(a,i,{class:l,...n}),[()=>$e("p-6",e.class)]),s(o,a),q()}var kr=g("<div><!></div>");function Rr(o,e){J(e,!0);let r=y(e,"ref",15,null),n=X(e,["$$slots","$$events","$$legacy","ref","class","children"]);var a=kr();let i;var d=h(a);U(d,()=>e.children??de),m(a),Ce(a,l=>r(l),()=>r()),T(l=>i=se(a,i,{class:l,...n}),[()=>$e("flex items-center p-6 pt-0",e.class)]),s(o,a),q()}var Ar=g("<div><!></div>");function Nr(o,e){J(e,!0);let r=y(e,"ref",15,null),n=X(e,["$$slots","$$events","$$legacy","ref","class","children"]);var a=Ar();let i;var d=h(a);U(d,()=>e.children??de),m(a),Ce(a,l=>r(l),()=>r()),T(l=>i=se(a,i,{class:l,...n}),[()=>$e("flex flex-col space-y-1.5 p-6 pb-0",e.class)]),s(o,a),q()}var Or=g("<div><!></div>");function Tr(o,e){J(e,!0);let r=y(e,"ref",15,null),n=y(e,"level",3,3),a=X(e,["$$slots","$$events","$$legacy","ref","class","level","children"]);var i=Or();let d;var l=h(i);U(l,()=>e.children??de),m(i),Ce(i,v=>r(v),()=>r()),T(v=>d=se(i,d,{role:"heading","aria-level":n(),class:v,...a}),[()=>$e("font-semibold leading-none tracking-tight",e.class)]),s(o,i),q()}function Ze(o,e){J(e,!0);let r=y(e,"ref",15,null),n=X(e,["$$slots","$$events","$$legacy","ref","class"]);var a=C(),i=c(a);const d=w(()=>$e("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e.class));$(i,()=>yr,(l,v)=>{v(l,$t({get class(){return t(d)}},()=>n,{get ref(){return r()},set ref(S){r(S)}}))}),s(o,a),q()}var Dr=g("<textarea></textarea>");function bt(o,e){J(e,!0);let r=y(e,"ref",15,null),n=y(e,"value",15),a=X(e,["$$slots","$$events","$$legacy","ref","value","class"]);var i=Dr();jt(i);let d;Ce(i,l=>r(l),()=>r()),T(l=>d=se(i,d,{class:l,...a}),[()=>$e("border-input placeholder:text-muted-foreground focus-visible:ring-ring flex min-h-[60px] w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-sm focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e.class)]),xt(i,n),s(o,i),q()}const Ir=fr,Er=mr,Lr=_r;var zr=g('<!> <span class="text-sm text-muted-foreground"> </span> <div class="flex-1"></div> <div class="rounded-full hover:bg-muted p-1"><!></div>',1),Br=g('<p class="text-xs text-red-500 mt-1">Module ID is required</p>'),jr=g('<p class="text-xs text-red-500 mt-1">Module path is required</p>'),Hr=g('Provides <span class="text-gray-500">(one per line)</span>',1),Fr=g('Uses <span class="text-gray-500">(one per line)</span>',1),Jr=g('Config <span class="text-gray-500">(JSON format)</span>',1),qr=g('<div class="grid gap-4 grid-cols-2"><div><!> <!> <!></div> <div><!> <!> <!></div> <div><!> <!></div> <div><!> <!></div> <div class="col-span-2"><!> <!></div></div>'),Vr=g("<!> Remove Module",1),Gr=g("<!> <!>",1),Ur=g("<!> <!>",1);function Qr(o,e){J(e,!0);let r=y(e,"module",15);function n(S){const x=S.target;try{r(r().config=JSON.parse(x.value||"{}"),!0),x.classList.remove("border-red-500")}catch(f){x.classList.add("border-red-500"),console.error("Invalid JSON:",f)}}function a(S){const x=S.target;r(r().provides=x.value.split(`
`).filter(Boolean),!0)}function i(S){const x=S.target;r(r().uses=x.value.split(`
`).filter(Boolean),!0)}let d=je(!r().id);var l=C(),v=c(l);$(v,()=>Cr,(S,x)=>{x(S,{class:"mb-4",children:(f,M)=>{var k=C(),A=c(k);$(A,()=>Ir,(N,R)=>{R(N,{get open(){return t(d)},set open(b){Ne(d,b,!0)},children:(b,B)=>{var D=Ur(),Te=c(D);$(Te,()=>Nr,(Ve,Se)=>{Se(Ve,{class:"p-4",children:(Ge,Ue)=>{var fe=C(),De=c(fe);$(De,()=>Er,(Qe,ye)=>{ye(Qe,{class:"flex gap-2 items-center w-full",children:(ge,Ie)=>{var Ee=zr(),z=c(Ee);$(z,()=>Tr,(Le,_e)=>{_e(Le,{children:(ze,ke)=>{O();var Be=ie();T(Pe=>xe(Be,Pe),[()=>{var Pe,he;return((he=(Pe=r().module)==null?void 0:Pe.split("."))==null?void 0:he.pop())||"New Module"}]),s(ze,Be)},$$slots:{default:!0}})});var _=p(z,2),I=h(_);m(_);var j=p(_,4),Me=h(j);er(Me,{size:20}),m(j),T(()=>xe(I,`(${r().id||"No ID"})`)),s(ge,Ee)},$$slots:{default:!0}})}),s(Ge,fe)},$$slots:{default:!0}})});var ct=p(Te,2);$(ct,()=>Lr,(Ve,Se)=>{Se(Ve,{children:(Ge,Ue)=>{var fe=Gr(),De=c(fe);$(De,()=>Mr,(ye,ge)=>{ge(ye,{class:"-mt-4 p-4",children:(Ie,Ee)=>{var z=qr(),_=h(z),I=h(_);Ze(I,{get for(){return`module-id-${e.index??""}`},class:"mb-1 block",children:(u,E)=>{O();var L=ie("Module ID");s(u,L)},$$slots:{default:!0}});var j=p(I,2);Ot(j,{get id(){return`module-id-${e.index??""}`},placeholder:"e.g. processor1",get value(){return r().id},set value(u){r(r().id=u,!0)}});var Me=p(j,2);{var Le=u=>{var E=Br();s(u,E)};ce(Me,u=>{r().id||u(Le)})}m(_);var _e=p(_,2),ze=h(_e);Ze(ze,{get for(){return`module-path-${e.index??""}`},class:"mb-1 block",children:(u,E)=>{O();var L=ie("Module Path");s(u,L)},$$slots:{default:!0}});var ke=p(ze,2);Ot(ke,{get id(){return`module-path-${e.index??""}`},placeholder:"e.g. my_agent.modules.processor",get value(){return r().module},set value(u){r(r().module=u,!0)}});var Be=p(ke,2);{var Pe=u=>{var E=jr();s(u,E)};ce(Be,u=>{r().module||u(Pe)})}m(_e);var he=p(_e,2),Ke=h(he);Ze(Ke,{get for(){return`provides-${e.index??""}`},class:"mb-1 block",children:(u,E)=>{O();var L=Hr();O(),s(u,L)},$$slots:{default:!0}});var ft=p(Ke,2);const gt=w(()=>{var u;return(u=r().provides)==null?void 0:u.join(`
`)});bt(ft,{get id(){return`provides-${e.index??""}`},class:"h-20 text-sm font-mono",placeholder:"e.g. protocol.v1 protocol.v2",get value(){return t(gt)},onchange:a}),m(he);var Y=p(he,2),me=h(Y);Ze(me,{get for(){return`uses-${e.index??""}`},class:"mb-1 block",children:(u,E)=>{O();var L=Fr();O(),s(u,L)},$$slots:{default:!0}});var Z=p(me,2);const rt=w(()=>{var u;return(u=r().uses)==null?void 0:u.join(`
`)});bt(Z,{get id(){return`uses-${e.index??""}`},class:"h-20 text-sm font-mono",placeholder:"e.g. protocol.v1 protocol.v2",get value(){return t(rt)},onchange:i}),m(Y);var oe=p(Y,2),ae=h(oe);Ze(ae,{get for(){return`config-${e.index??""}`},class:"mb-1 block",children:(u,E)=>{O();var L=Jr();O(),s(u,L)},$$slots:{default:!0}});var Re=p(ae,2);const pe=w(()=>r().config?JSON.stringify(r().config,null,2):"");bt(Re,{get id(){return`config-${e.index??""}`},class:"h-20 text-sm font-mono",placeholder:`e.g. ${JSON.stringify({key:"value"},null,2)??""}`,get value(){return t(pe)},onchange:n}),m(oe),m(z),s(Ie,z)},$$slots:{default:!0}})});var Qe=p(De,2);$(Qe,()=>Rr,(ye,ge)=>{ge(ye,{class:"flex justify-end",children:(Ie,Ee)=>{et(Ie,{size:"sm",variant:"destructive",onclick:()=>e.onRemove(e.index),title:"Remove Module",children:(z,_)=>{var I=Vr(),j=c(I);Dt(j,{size:16}),O(),s(z,I)},$$slots:{default:!0}})},$$slots:{default:!0}})}),s(Ge,fe)},$$slots:{default:!0}})}),s(b,D)},$$slots:{default:!0}})}),s(f,k)},$$slots:{default:!0}})}),s(o,l),q()}var Kr=g("<!> Save Changes",1),Wr=g("<!> Add Module",1),Xr=g("<!> Add Exchange Config",1),Yr=g("<span> </span>"),Zr=g("<!> <!>",1),es=g("<!> <!>",1),ts=g("<span> </span>"),rs=g("<!> <!> <!>",1),ss=g("<!> <!>",1),os=g("<span> </span>"),as=g("<!> <!>",1),ns=g('<div class="mb-4 p-4 border rounded-lg bg-white"><div class="grid grid-cols-3 gap-6"><div><!></div> <div><!></div> <div class="flex gap-2"><!> <!></div></div></div>'),ls=g('<div class="container mx-auto max-w-full p-6"><div class="flex items-center justify-between mb-8"><h1 class="text-3xl font-bold"> </h1> <!></div> <div class="mb-12 bg-gray-50 border rounded-lg p-6"><!></div> <div class="mb-12"><div class="flex items-center justify-between mb-6"><h2 class="text-2xl font-semibold">Modules</h2> <!></div> <!></div> <div><div class="flex items-center justify-between mb-6"><h2 class="text-2xl font-semibold">Exchange Configuration</h2> <!></div> <div class="grid grid-cols-3 gap-6 mb-4"><div class="text-sm font-medium text-gray-500">Module ID</div> <div class="text-sm font-medium text-gray-500">Protocol</div> <div class="text-sm font-medium text-gray-500">Provider</div></div> <!></div></div>');function $s(o,e){J(e,!0);const[r,n]=Ft(),a=()=>Jt(t(i),"$AgentConfig",r);let i=w(()=>e.data.AgentConfig),d=w(()=>a().data),l=w(()=>t(d).agentConfig),v=je(void 0);Bt(()=>{Ne(v,t(l),!0)});let S=w(()=>{const b={};return t(v).modules.forEach(B=>{B.provides&&B.provides.forEach(D=>{b[D]||(b[D]=[]),b[D].push(B.id)})}),b});function x(){t(v).modules=[...t(v).modules,{module:"",id:"",provides:[],uses:[],config:{}}]}function f(b){t(v).modules=t(v).modules.filter((B,D)=>D!==b)}function M(){t(v).exchange||(t(v).exchange=[]),t(v).exchange=[...t(v).exchange,{module:"",protocol:"",provider:""}]}function k(b){t(v).exchange=t(v).exchange.filter((B,D)=>D!==b)}var A=C(),N=c(A);{var R=b=>{var B=ls(),D=h(B),Te=h(D),ct=h(Te);m(Te);var Ve=p(Te,2);et(Ve,{variant:"default",onclick:()=>console.log("Save config"),children:(z,_)=>{var I=Kr(),j=c(I);Pr(j,{size:16,class:"mr-2"}),O(),s(z,I)},$$slots:{default:!0}}),m(D);var Se=p(D,2),Ge=h(Se);Yt(Ge,{get config(){return t(v)}}),m(Se);var Ue=p(Se,2),fe=h(Ue),De=p(h(fe),2);et(De,{size:"sm",onclick:x,variant:"secondary",children:(z,_)=>{var I=Wr(),j=c(I);Nt(j,{size:16,class:"mr-2"}),O(),s(z,I)},$$slots:{default:!0}}),m(fe);var Qe=p(fe,2);Xe(Qe,17,()=>t(v).modules||[],Ye,(z,_,I)=>{Qr(z,{get module(){return t(_)},index:I,onRemove:f})}),m(Ue);var ye=p(Ue,2),ge=h(ye),Ie=p(h(ge),2);et(Ie,{size:"sm",onclick:M,variant:"secondary",children:(z,_)=>{var I=Xr(),j=c(I);Nt(j,{size:16,class:"mr-2"}),O(),s(z,I)},$$slots:{default:!0}}),m(ge);var Ee=p(ge,4);Xe(Ee,17,()=>t(v).exchange||[],Ye,(z,_,I)=>{var j=ns();const Me=w(()=>(t(S)[t(_).protocol]||[]).filter(Y=>Y!=t(_).module));var Le=h(j),_e=h(Le),ze=h(_e);$(ze,()=>pt,(Y,me)=>{me(Y,{type:"single",get value(){return t(_).module},set value(Z){t(_).module=Z},children:(Z,rt)=>{var oe=es(),ae=c(oe);const Re=w(()=>`w-full ${t(_).module&&t(_).module!=="__entry__"&&!t(v).modules.find(u=>u.id===t(_).module)?"border-red-500":""}`);$(ae,()=>ht,(u,E)=>{E(u,{get class(){return t(Re)},children:(L,ue)=>{var H=Yr(),ve=h(H,!0);m(H),T(()=>xe(ve,t(_).module||"Select module ID")),s(L,H)},$$slots:{default:!0}})});var pe=p(ae,2);$(pe,()=>mt,(u,E)=>{E(u,{children:(L,ue)=>{var H=Zr(),ve=c(H);$(ve,()=>we,(te,F)=>{F(te,{value:"__entry__",children:(V,Q)=>{O();var K=ie("__entry__");s(V,K)},$$slots:{default:!0}})});var We=p(ve,2);Xe(We,17,()=>t(v).modules,Ye,(te,F)=>{var V=C(),Q=c(V);$(Q,()=>we,(K,G)=>{G(K,{get value(){return t(F).id},children:(W,ne)=>{O();var le=ie();T(()=>xe(le,t(F).id)),s(W,le)},$$slots:{default:!0}})}),s(te,V)}),s(L,H)},$$slots:{default:!0}})}),s(Z,oe)},$$slots:{default:!0}})}),m(_e);var ke=p(_e,2),Be=h(ke);const Pe=w(()=>!t(_).module);$(Be,()=>pt,(Y,me)=>{me(Y,{type:"single",get disabled(){return t(Pe)},get value(){return t(_).protocol},set value(Z){t(_).protocol=Z},children:(Z,rt)=>{var oe=ss(),ae=c(oe);$(ae,()=>ht,(pe,u)=>{u(pe,{class:"w-full",children:(E,L)=>{var ue=ts(),H=h(ue,!0);m(ue),T(()=>xe(H,t(_).protocol||"Select protocol")),s(E,ue)},$$slots:{default:!0}})});var Re=p(ae,2);$(Re,()=>mt,(pe,u)=>{u(pe,{children:(E,L)=>{var ue=C(),H=c(ue);{var ve=te=>{var F=rs(),V=c(F);$(V,()=>we,(G,W)=>{W(G,{value:"TextMessageHandlerProtocol",children:(ne,le)=>{O();var be=ie("TextMessageHandlerProtocol");s(ne,be)},$$slots:{default:!0}})});var Q=p(V,2);$(Q,()=>we,(G,W)=>{W(G,{value:"ImageMessageHandlerProtocol",children:(ne,le)=>{O();var be=ie("ImageMessageHandlerProtocol");s(ne,be)},$$slots:{default:!0}})});var K=p(Q,2);$(K,()=>we,(G,W)=>{W(G,{value:"AudioMessageHandlerProtocol",children:(ne,le)=>{O();var be=ie("AudioMessageHandlerProtocol");s(ne,be)},$$slots:{default:!0}})}),s(te,F)},We=te=>{var F=C(),V=c(F);Xe(V,17,()=>{var Q;return((Q=t(v).modules.find(K=>K.id===t(_).module))==null?void 0:Q.uses)||[]},Ye,(Q,K)=>{var G=C(),W=c(G);$(W,()=>we,(ne,le)=>{le(ne,{get value(){return t(K)},children:(be,Ct)=>{O();var _t=ie();T(()=>xe(_t,t(K))),s(be,_t)},$$slots:{default:!0}})}),s(Q,G)}),s(te,F)};ce(H,te=>{t(_).module==="__entry__"?te(ve):te(We,!1)})}s(E,ue)},$$slots:{default:!0}})}),s(Z,oe)},$$slots:{default:!0}})}),m(ke);var he=p(ke,2),Ke=h(he);const ft=w(()=>!t(_).module);$(Ke,()=>pt,(Y,me)=>{me(Y,{type:"single",get disabled(){return t(ft)},get value(){return t(_).provider},set value(Z){t(_).provider=Z},children:(Z,rt)=>{var oe=as(),ae=c(oe);const Re=w(()=>`w-full ${t(_).provider&&!t(Me).includes(t(_).provider)?"border-red-500":""}`);$(ae,()=>ht,(u,E)=>{E(u,{get class(){return t(Re)},children:(L,ue)=>{var H=os(),ve=h(H,!0);m(H),T(()=>xe(ve,t(_).provider||"Select provider")),s(L,H)},$$slots:{default:!0}})});var pe=p(ae,2);$(pe,()=>mt,(u,E)=>{E(u,{children:(L,ue)=>{var H=C(),ve=c(H);{var We=F=>{var V=C(),Q=c(V);$(Q,()=>we,(K,G)=>{G(K,{value:"",disabled:!0,children:(W,ne)=>{O();var le=ie("No providers available");s(W,le)},$$slots:{default:!0}})}),s(F,V)},te=F=>{var V=C(),Q=c(V);Xe(Q,17,()=>t(Me),Ye,(K,G)=>{var W=C(),ne=c(W);$(ne,()=>we,(le,be)=>{be(le,{get value(){return t(G)},children:(Ct,_t)=>{O();var St=ie();T(()=>xe(St,t(G))),s(Ct,St)},$$slots:{default:!0}})}),s(K,W)}),s(F,V)};ce(ve,F=>{t(Me).length?F(te,!1):F(We)})}s(L,H)},$$slots:{default:!0}})}),s(Z,oe)},$$slots:{default:!0}})});var gt=p(Ke,2);et(gt,{size:"sm",variant:"destructive",onclick:()=>k(I),children:(Y,me)=>{Dt(Y,{size:16})},$$slots:{default:!0}}),m(he),m(Le),m(j),s(z,j)}),m(ye),m(B),T(()=>xe(ct,`Agent Configuration: ${t(v).id??""}`)),s(b,B)};ce(N,b=>{t(v)&&b(R)})}s(o,A),q(),n()}export{$s as component,xs as universal};
