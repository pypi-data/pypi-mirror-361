"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["50716"],{89868:function(e,t,n){n.d(t,{i:function(){return r}});var a=n(61943),i=(n(40777),n(87799),n(96389),(0,n(40645).P)(function(e){history.replaceState({scrollPosition:e},"")},300));function r(e){return function(t,n){if("object"===(0,a.Z)(n))throw new Error("This decorator does not support this compilation type.");var r=t.connectedCallback;t.connectedCallback=function(){var t=this;r.call(this);var a=this[n];a&&this.updateComplete.then(function(){var n=t.renderRoot.querySelector(e);n&&setTimeout(function(){n.scrollTop=a},0)})};var o,s=Object.getOwnPropertyDescriptor(t,n);if(void 0===s)o={get:function(){var e;return this["__".concat(String(n))]||(null===(e=history.state)||void 0===e?void 0:e.scrollPosition)},set:function(e){i(e),this["__".concat(String(n))]=e},configurable:!0,enumerable:!0};else{var c=s.set;o=Object.assign(Object.assign({},s),{},{set:function(e){i(e),this["__".concat(String(n))]=e,null==c||c.call(this,e)}})}Object.defineProperty(t,n,o)}}},86420:function(e,t,n){n.d(t,{D:function(){return a}});n(20655);const a=e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.trim()}},58125:function(e,t,n){n.d(t,{wZ:function(){return s},jL:function(){return o},sU:function(){return l}});n(26847),n(81738),n(94814),n(6989),n(20655),n(27530);var a=n(28105),i=n(15459),r=n(75706);n(54480),n(11353),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(48694);const o=e=>{var t;return null===(t=e.name_by_user||e.name)||void 0===t?void 0:t.trim()},s=(e,t,n)=>o(e)||n&&c(t,n)||t.localize("ui.panel.config.devices.unnamed_device",{type:t.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)}),c=(e,t)=>{for(const n of t||[]){const t="string"==typeof n?n:n.entity_id,a=e.states[t];if(a)return(0,i.C)(a)}},l=(0,a.Z)(e=>function(e){var t,n=new Set,a=new Set,i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;a.has(o)?n.add(o):a.add(o)}}catch(s){i.e(s)}finally{i.f()}return n}(Object.values(e).map(e=>o(e)).filter(e=>void 0!==e)))},61981:function(e,t,n){n.d(t,{K:function(){return o},T:function(){return s}});var a=n(58125),i=n(15459),r=n(55107);const o=(e,t)=>{const n=t.entities[e.entity_id];return n?s(n,t):(0,i.C)(e)},s=(e,t)=>{const n=e.name||("original_name"in e?e.original_name:void 0),o=e.device_id?t.devices[e.device_id]:void 0;if(!o){if(n)return n;const a=t.states[e.entity_id];return a?(0,i.C)(a):void 0}const s=(0,a.jL)(o);if(s!==n)return s&&n&&(0,r.N)(n,s)||n}},7299:function(e,t,n){n.a(e,async function(e,t){try{var a,i,r,o,s,c,l,u=n(54982),d=n(54521),f=n(4490),h=n(20129),v=n(85297),y=n(53389),p=(n(12212),n(25518),n(24819),n(81738),n(6989),n(24533),n(54480),n(73742)),m=n(59048),b=n(7616),_=n(20480),g=n(28105),w=n(39884),E=n(86420),Z=n(58125),k=n(44272),C=n(61981),S=n(51574),j=n(97050),L=(n(9277),n(23476)),z=n(19262),O=n(96222),T=e([L,z]);[L,z]=T.then?(await T)():T;var P=(0,_.V)({fontFamily:"var(--ha-font-family-code)",fontSize:"var(--ha-font-size-xs)"}),A=function(e){function t(){var e;(0,d.Z)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=(0,h.Z)(this,t,[].concat(c))).narrow=!1,e.noLabelFloat=!1,e._data=(0,g.Z)(function(t,n,a){return(a||Object.keys(t)).map(function(t){var a=e.hass.states[t],i=(0,S.U)(a,e.hass),r=i.area,o=i.device,s=(0,C.K)(a,e.hass),c=o?(0,Z.jL)(o):void 0,l=r?(0,E.D)(r):void 0,u=[c,s].filter(Boolean).join(" "),d=(0,k.M)(t);return{icon:"",entity_id:t,stateObj:a,name:u,entity_name:s,device_name:c,area_name:l,domain_name:(0,O.Lh)(n,d),last_changed:a.last_changed}})}),e._columns=(0,g.Z)(function(t,n,c){var l={icon:{title:"",label:e.hass.localize("ui.panel.lovelace.unused_entities.state_icon"),type:"icon",template:function(t){return(0,m.dy)(a||(a=(0,u.Z)([' <state-badge @click="','" .hass="','" .stateObj="','"></state-badge> '])),e._handleEntityClicked,e.hass,t.stateObj)}},name:{title:e.hass.localize("ui.panel.lovelace.unused_entities.entity"),sortable:!0,filterable:!0,flex:2,main:!0,direction:"asc",template:function(a){var s=a.entity_name||a.device_name||a.entity_id,l=[a.area_name,a.entity_name?a.device_name:void 0].filter(Boolean).join(n?" ◂ ":" ▸ ");return(0,m.dy)(i||(i=(0,u.Z)([' <div @click="','" style="cursor:pointer"> '," "," "," </div> "])),e._handleEntityClicked,s,l?(0,m.dy)(r||(r=(0,u.Z)(['<div class="secondary">',"</div>"])),l):m.Ld,t&&c?(0,m.dy)(o||(o=(0,u.Z)([' <div class="secondary" style="','"> '," </div> "])),P,a.entity_id):m.Ld)}},entity_name:{title:"entity_name",filterable:!0,hidden:!0},device_name:{title:"device_name",filterable:!0,hidden:!0},area_name:{title:"area_name",filterable:!0,hidden:!0}};return l.entity_id={title:e.hass.localize("ui.panel.lovelace.unused_entities.entity_id"),sortable:!0,filterable:!0,hidden:t||!c},l.domain_name={title:e.hass.localize("ui.panel.lovelace.unused_entities.domain"),sortable:!0,filterable:!0,hidden:t||c},l.last_changed={title:e.hass.localize("ui.panel.lovelace.unused_entities.last_changed"),type:"numeric",sortable:!0,hidden:t,template:function(t){return(0,m.dy)(s||(s=(0,u.Z)([' <ha-relative-time .hass="','" .datetime="','" capitalize></ha-relative-time> '])),e.hass,t.last_changed)}},l}),e}return(0,v.Z)(t,e),(0,f.Z)(t,[{key:"firstUpdated",value:function(e){(0,y.Z)(t,"firstUpdated",this,3)([e]),this.hass.loadBackendTranslation("title")}},{key:"render",value:function(){var e,t=this._data(this.hass.states,this.hass.localize,this.entities),n=Boolean(null===(e=this.hass.userData)||void 0===e?void 0:e.showEntityIdPicker),a=this._columns(this.narrow,(0,j.HE)(this.hass),n);return(0,m.dy)(c||(c=(0,u.Z)([' <ha-data-table class="','" .hass="','" selectable .id="','" .columns="','" .data="','" .searchLabel="','" .noLabelFloat="','" .noDataText="','" @selection-changed="','"></ha-data-table> '])),n?"show-entity-id":"",this.hass,"entity_id",a,t,this.hass.localize("ui.panel.lovelace.unused_entities.search"),this.noLabelFloat,this.hass.localize("ui.panel.lovelace.unused_entities.no_data"),this._handleSelectionChanged)}},{key:"_handleSelectionChanged",value:function(e){var t=e.detail.value;(0,w.B)(this,"selected-changed",{selectedEntities:t})}},{key:"_handleEntityClicked",value:function(e){var t=e.target.closest(".mdc-data-table__row").rowId;(0,w.B)(this,"hass-more-info",{entityId:t})}}])}(m.oi);A.styles=(0,m.iv)(l||(l=(0,u.Z)(["ha-data-table{--data-table-border-width:0;height:100%}ha-data-table.show-entity-id{--data-table-row-height:64px}"]))),(0,p.__decorate)([(0,b.Cb)({attribute:!1})],A.prototype,"hass",void 0),(0,p.__decorate)([(0,b.Cb)({type:Boolean})],A.prototype,"narrow",void 0),(0,p.__decorate)([(0,b.Cb)({type:Boolean,attribute:"no-label-float"})],A.prototype,"noLabelFloat",void 0),(0,p.__decorate)([(0,b.Cb)({type:Array})],A.prototype,"entities",void 0),A=(0,p.__decorate)([(0,b.Mo)("hui-entity-picker-table")],A),t()}catch(M){t(M)}})},68076:function(e,t,n){n(77341)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},86190:function(e,t,n){n.d(t,{Ud:function(){return b}});var a=n(10354),i=n(74904),r=n(18840),o=n(42385),s=n(75706),c=n(61943),l=(n(73249),n(84730),n(40777),n(12212),n(63430),n(26847),n(24819),n(44438),n(69643),n(13715),n(81738),n(6989),n(93190),n(7175),n(68076),n(87799),n(54480),n(1455),n(65640),n(28660),n(64455),n(32192),n(56303),n(48694),n(52530),n(27530),Symbol("Comlink.proxy")),u=Symbol("Comlink.endpoint"),d=Symbol("Comlink.releaseProxy"),f=Symbol("Comlink.finalizer"),h=Symbol("Comlink.thrown"),v=function(e){return"object"===(0,c.Z)(e)&&null!==e||"function"==typeof e},y=new Map([["proxy",{canHandle:function(e){return v(e)&&e[l]},serialize:function(e){var t=new MessageChannel,n=t.port1,a=t.port2;return p(e,n),[a,[a]]},deserialize:function(e){return e.start(),b(e)}}],["throw",{canHandle:function(e){return v(e)&&h in e},serialize:function(e){var t=e.value;return[t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[]]},deserialize:function(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["*"];t.addEventListener("message",function c(u){if(u&&u.data)if(function(e,t){var n,a=(0,s.Z)(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(t===i||"*"===i)return!0;if(i instanceof RegExp&&i.test(t))return!0}}catch(r){a.e(r)}finally{a.f()}return!1}(n,u.origin)){var d,v=Object.assign({path:[]},u.data),y=v.id,b=v.type,_=v.path,g=(u.data.argumentList||[]).map(j);try{var w=_.slice(0,-1).reduce(function(e,t){return e[t]},e),E=_.reduce(function(e,t){return e[t]},e);switch(b){case"GET":d=E;break;case"SET":w[_.slice(-1)[0]]=j(u.data.value),d=!0;break;case"APPLY":d=E.apply(w,g);break;case"CONSTRUCT":var Z;d=function(e){return Object.assign(e,(0,i.Z)({},l,!0))}((0,r.Z)(E,(0,o.Z)(g)));break;case"ENDPOINT":var k=new MessageChannel,L=k.port1,z=k.port2;p(e,z),d=function(e,t){return C.set(e,t),e}(L,[L]);break;case"RELEASE":d=void 0;break;default:return}}catch(Z){d=(0,i.Z)({value:Z},h,0)}Promise.resolve(d).catch(function(e){return(0,i.Z)({value:e},h,0)}).then(function(n){var i=S(n),r=(0,a.Z)(i,2),o=r[0],s=r[1];t.postMessage(Object.assign(Object.assign({},o),{id:y}),s),"RELEASE"===b&&(t.removeEventListener("message",c),m(t),f in e&&"function"==typeof e[f]&&e[f]())}).catch(function(e){var n=S((0,i.Z)({value:new TypeError("Unserializable return value")},h,0)),r=(0,a.Z)(n,2),o=r[0],s=r[1];t.postMessage(Object.assign(Object.assign({},o),{id:y}),s)})}else console.warn("Invalid origin '".concat(u.origin,"' for comlink proxy"))}),t.start&&t.start()}function m(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function b(e,t){var n=new Map;return e.addEventListener("message",function(e){var t=e.data;if(t&&t.id){var a=n.get(t.id);if(a)try{a(t)}finally{n.delete(t.id)}}}),Z(e,n,[],t)}function _(e){if(e)throw new Error("Proxy has been released and is not useable")}function g(e){return L(e,new Map,{type:"RELEASE"}).then(function(){m(e)})}var w=new WeakMap,E="FinalizationRegistry"in globalThis&&new FinalizationRegistry(function(e){var t=(w.get(e)||0)-1;w.set(e,t),0===t&&g(e)});function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=!1,r=new Proxy(arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},{get:function(a,s){if(_(i),s===d)return function(){!function(e){E&&E.unregister(e)}(r),g(e),t.clear(),i=!0};if("then"===s){if(0===n.length)return{then:function(){return r}};var c=L(e,t,{type:"GET",path:n.map(function(e){return e.toString()})}).then(j);return c.then.bind(c)}return Z(e,t,[].concat((0,o.Z)(n),[s]))},set:function(r,s,c){_(i);var l=S(c),u=(0,a.Z)(l,2),d=u[0],f=u[1];return L(e,t,{type:"SET",path:[].concat((0,o.Z)(n),[s]).map(function(e){return e.toString()}),value:d},f).then(j)},apply:function(r,o,s){_(i);var c=n[n.length-1];if(c===u)return L(e,t,{type:"ENDPOINT"}).then(j);if("bind"===c)return Z(e,t,n.slice(0,-1));var l=k(s),d=(0,a.Z)(l,2),f=d[0],h=d[1];return L(e,t,{type:"APPLY",path:n.map(function(e){return e.toString()}),argumentList:f},h).then(j)},construct:function(r,o){_(i);var s=k(o),c=(0,a.Z)(s,2),l=c[0],u=c[1];return L(e,t,{type:"CONSTRUCT",path:n.map(function(e){return e.toString()}),argumentList:l},u).then(j)}});return function(e,t){var n=(w.get(t)||0)+1;w.set(t,n),E&&E.register(e,t,e)}(r,e),r}function k(e){var t,n=e.map(S);return[n.map(function(e){return e[0]}),(t=n.map(function(e){return e[1]}),Array.prototype.concat.apply([],t))]}var C=new WeakMap;function S(e){var t,n=(0,s.Z)(y);try{for(n.s();!(t=n.n()).done;){var i=(0,a.Z)(t.value,2),r=i[0],o=i[1];if(o.canHandle(e)){var c=o.serialize(e),l=(0,a.Z)(c,2);return[{type:"HANDLER",name:r,value:l[0]},l[1]]}}}catch(u){n.e(u)}finally{n.f()}return[{type:"RAW",value:e},C.get(e)||[]]}function j(e){switch(e.type){case"HANDLER":return y.get(e.name).deserialize(e.value);case"RAW":return e.value}}function L(e,t,n,a){return new Promise(function(i){var r=new Array(4).fill(0).map(function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)}).join("-");t.set(r,i),e.start&&e.start(),e.postMessage(Object.assign({id:r},n),a)})}}}]);
//# sourceMappingURL=50716.ce2ab58f80a9878e.js.map