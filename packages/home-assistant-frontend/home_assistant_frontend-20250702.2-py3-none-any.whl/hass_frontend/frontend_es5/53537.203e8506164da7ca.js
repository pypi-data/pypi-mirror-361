"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["53537"],{7214:function(t,n,e){e.d(n,{Cj:function(){return v},F7:function(){return u},Hs:function(){return x},Kd:function(){return j},Kj:function(){return _},Nw:function(){return p},PA:function(){return a},Py:function(){return s},Qm:function(){return T},Z0:function(){return y},_Y:function(){return d},_m:function(){return o},dL:function(){return l},dO:function(){return O},hN:function(){return m},h_:function(){return f},j2:function(){return S},q6:function(){return g},uR:function(){return c}});var r=e(75706),i=(e(39710),e(81738),e(72489),e(54480),e(56389),e(15459)),u=function(t){return t[t.NONE=0]="NONE",t[t.ARITHMETIC=1]="ARITHMETIC",t[t.CIRCULAR=2]="CIRCULAR",t}({}),a=99387==e.j?["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"]:null,o=function(t){return t.sendMessagePromise({type:"recorder/info"})},c=function(t,n){return t.callWS({type:"recorder/list_statistic_ids",statistic_type:n})},s=function(t,n){return t.callWS({type:"recorder/get_statistics_metadata",statistic_ids:n})},l=function(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"hour",u=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;return t.callWS({type:"recorder/statistics_during_period",start_time:n.toISOString(),end_time:null==e?void 0:e.toISOString(),statistic_ids:r,period:i,units:u,types:a})},d=function(t,n,e,r){return t.callWS({type:"recorder/statistic_during_period",statistic_id:n,units:r,fixed_period:e.fixed_period?{start_time:e.fixed_period.start instanceof Date?e.fixed_period.start.toISOString():e.fixed_period.start,end_time:e.fixed_period.end instanceof Date?e.fixed_period.end.toISOString():e.fixed_period.end}:void 0,calendar:e.calendar,rolling_window:e.rolling_window})},f=function(t){return t.callWS({type:"recorder/validate_statistics"})},v=function(t,n,e){return t.callWS({type:"recorder/update_statistics_metadata",statistic_id:n,unit_of_measurement:e})},m=function(t,n){return t.callWS({type:"recorder/clear_statistics",statistic_ids:n})},_=function(t){var n=null;if(!t)return null;var e,i=(0,r.Z)(t);try{for(i.s();!(e=i.n()).done;){var u=e.value;null!==u.change&&void 0!==u.change&&(null===n?n=u.change:n+=u.change)}}catch(a){i.e(a)}finally{i.f()}return n},g=function(t,n){var e,i=null,u=(0,r.Z)(n);try{for(u.s();!(e=u.n()).done;){var a=e.value;if(a in t){var o=_(t[a]);null!==o&&(null===i?i=o:i+=o)}}}catch(c){u.e(c)}finally{u.f()}return i},p=function(t,n){return t.some(function(t){return void 0!==t[n]&&null!==t[n]})},b=["mean","min","max"],h=["sum","state","change"],y=function(t,n){return!(!b.includes(n)||0===t.mean_type)||!(!h.includes(n)||!t.has_sum)},S=function(t,n,e,r,i){var u=new Date(e).toISOString();return t.callWS({type:"recorder/adjust_sum_statistics",statistic_id:n,start_time:u,adjustment:r,adjustment_unit_of_measurement:i})},j=function(t,n,e){var r=t.states[n];return r?(0,i.C)(r):(null==e?void 0:e.name)||n},O=function(t,n,e){var r,i;n&&(r=null===(i=t.states[n])||void 0===i?void 0:i.attributes.unit_of_measurement);return void 0===r?null==e?void 0:e.statistics_unit_of_measurement:r},x=function(t){return t.includes(":")},T=function(t){return t.callWS({type:"recorder/update_statistics_issues"})}},94969:function(t,n,e){e.a(t,async function(t,r){try{e.d(n,{J:function(){return x},MC:function(){return j},Zx:function(){return w},b4:function(){return O},kT:function(){return C}});var i=e(61943),u=(e(12212),e(25518),e(24674),e(55204),e(26847),e(24819),e(2394),e(18574),e(13571),e(20678),e(81738),e(94814),e(22960),e(6989),e(96821),e(87799),e(54480),e(11353),e(67886),e(65451),e(46015),e(38334),e(94880),e(75643),e(29761),e(48694),e(44261),e(67398),e(27530),e(38039)),a=e(7722),o=e(46363),c=e(5280),s=e(2061),l=e(6483),d=e(73228),f=e(98853),v=e(11736),m=e(46021),_=e(21343),g=e(72937),p=e(28598),b=e(40142),h=e(45691),y=t([b,h,p]);function j(t,n){var e=new Date(n);return t>2&&0===e.getHours()&&(e=(0,u.b)(e,1)),e.setMinutes(0,0,0),t>35&&e.setDate(1),t>2&&e.setHours(0),e.getTime()}function O(t){return t>35?"month":t>2?"day":"hour"}function x(t,n,e,r,i,u,o,c){var s=(0,a.j)(n,t),l=void 0!==u&&void 0!==o;return{xAxis:{type:"time",min:t,max:j(s,n)},yAxis:{type:"value",name:i,nameGap:2,nameTextStyle:{align:"left"},axisLabel:{formatter:function(t){return(0,p.uf)(Math.abs(t),e)}},splitLine:{show:!0}},grid:{top:15,bottom:0,left:1,right:1,containLabel:!0},tooltip:{trigger:"axis",formatter:function(t){if(Array.isArray(t)){var n=[],u=[];return t.forEach(function(t){var e;null!==(e=t.seriesId)&&void 0!==e&&e.startsWith("compare-")?u.push(t):n.push(t)}),[n,u].map(function(t){return T(t,e,r,s,l,i,c)}).filter(Boolean).join("<br><br>")}return T([t],e,r,s,l,i,c)}}}}function T(t,n,e,r,i,u,a){var c,s,l,d;if(null===(c=t[0])||void 0===c||!c.value)return"";var f,v=new Date(null!==(s=null===(l=t[0].value)||void 0===l?void 0:l[2])&&void 0!==s?s:null===(d=t[0].value)||void 0===d?void 0:d[0]);f=r>89?"".concat((0,b.NC)(v,n,e)):r>0?"".concat((0,b.ud)(v,n,e)):"".concat(i?"".concat((0,b.ud)(v,n,e),": "):"").concat((0,h.mr)(v,n,e)," â€“ ").concat((0,h.mr)((0,o.T)(v,1),n,e));var m='<h4 style="text-align: center; margin: 0;">'.concat(f,"</h4>"),_=0,g=0,y=0,S=0,j=t.map(function(t){var e,r=null===(e=t.value)||void 0===e?void 0:e[1],i=(0,p.uf)(r,n);return"0"!==i&&("bar"===t.componentSubType&&(r>0?(_+=r,g++):(y+=r,S++)),"".concat(t.marker," ").concat(t.seriesName,": ").concat(i," ").concat(u))}).filter(Boolean),O="";return 0!==_&&g>1&&a&&(O+="<br><b>".concat(a(_),"</b>")),0!==y&&S>1&&a&&(O+="<br><b>".concat(a(y),"</b>")),j.length>0?"".concat(m).concat(j.join("<br>")).concat(O):""}function w(t){Array.from(new Set(t.map(function(t){return t.data.map(function(t){return Number(t[0])})}).flat())).sort(function(t,n){return t-n}).forEach(function(n,e){for(var r={},u={},a=t.length-1;a>=0;a--){var o,c,s,l,d,f,v=t[a].data[e],m=v&&"object"===(0,i.Z)(v)&&"value"in v?v:{value:v},_=null===(o=m.value)||void 0===o?void 0:o[0],g=null!==(c=t[a].stack)&&void 0!==c?c:"";if(void 0!==_)if(Number(_)!==n)null===(f=t[a].data)||void 0===f||f.splice(e,0,{value:[n,0],itemStyle:{borderWidth:0}});else 0===(null===(s=m.value)||void 0===s?void 0:s[1])?t[a].data[e]=Object.assign(Object.assign({},m),{},{itemStyle:Object.assign(Object.assign({},m.itemStyle),{},{borderWidth:0})}):!r[g]&&(null===(l=m.value)||void 0===l?void 0:l[1])>0?(t[a].data[e]=Object.assign(Object.assign({},m),{},{itemStyle:Object.assign(Object.assign({},m.itemStyle),{},{borderRadius:[4,4,0,0]})}),r[g]=!0):!u[g]&&(null===(d=m.value)||void 0===d?void 0:d[1])<0&&(t[a].data[e]=Object.assign(Object.assign({},m),{},{itemStyle:Object.assign(Object.assign({},m.itemStyle),{},{borderRadius:[0,0,4,4]})}),u[g]=!0)}})}function C(t,n){if(!n)return function(t){return t};var e=(0,c.o)(t,n);if(0!==e&&t.getTime()===(0,s.e)(t).getTime())return function(t){return(0,l.B)(t,e)};var r=(0,d.d)(t,n);if(0!==r&&t.getTime()===(0,f.N)(t).getTime())return function(t){return(0,v.z)(t,r)};var i=(0,a.j)(t,n);if(0!==i&&t.getTime()===(0,m.b)(t).getTime())return function(t){return(0,_.E)(t,i)};var u=t.getTime()-n.getTime();return function(t){return(0,g.n)(t,u)}}[b,h,p]=y.then?(await y)():y,r()}catch(S){r(S)}})},6483:function(t,n,e){e.d(n,{B:function(){return i}});var r=e(11736);function i(t,n,e){return(0,r.z)(t,12*n,e)}},5280:function(t,n,e){e.d(n,{o:function(){return o}});var r=e(10354),i=e(69875),u=e(45589);function a(t,n,e){var u=(0,i.d)(null==e?void 0:e.in,t,n),a=(0,r.Z)(u,2),o=a[0],c=a[1];return o.getFullYear()-c.getFullYear()}function o(t,n,e){var o=(0,i.d)(null==e?void 0:e.in,t,n),c=(0,r.Z)(o,2),s=c[0],l=c[1],d=(0,u.U)(s,l),f=Math.abs(a(s,l));s.setFullYear(1584),l.setFullYear(1584);var v=d*(f-+((0,u.U)(s,l)===-d));return 0===v?0:v}}}]);
//# sourceMappingURL=53537.203e8506164da7ca.js.map