import{ar as He,ac as st,aH as at,o as ot,Q as Ye,E as lt,aI as ut,aJ as ft,d as ct,aK as dt,aL as ht,v as _t,n as de,am as Ve,an as Xe,ao as pt,aM as gt,aN as vt,j as ie,r as V,b as Ne,l as me,p as mt,a as Se,s as Ce,e as ne,g as E,i as Pe,f as bt,c as yt}from"./C8SLBV5c.js";import{b as wt,s as Ie}from"./DoZZLr3H.js";import{l as kt,w as Et,d as Rt}from"./DhOWJd6e.js";import"./CWj6FrbW.js";import{o as Ot}from"./c6gPyZYp.js";import{p as be,i as $e}from"./hCS139x6.js";import{a as Ee,g as Ue,u as St,e as qe,i as ze}from"./C0O8QyND.js";import{p as rt,f as he,a as ce}from"./CkybfRqV.js";import{s as ye}from"./DVWfzEL5.js";import{s as Qe}from"./CZ83vTZ2.js";function it(i,n,l){if(i.multiple){if(n==null)return;if(!st(n))return at();for(var s of i.options)s.selected=n.includes(Te(s));return}for(s of i.options){var d=Te(s);if(ot(d,n)){s.selected=!0;return}}(!l||n!==void 0)&&(i.selectedIndex=-1)}function Ct(i,n){He(()=>{var l=new MutationObserver(()=>{var s=i.__value;it(i,s)});return l.observe(i,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{l.disconnect()}})}function Be(i,n,l=n){var s=!0;kt(i,"change",d=>{var g=d?"[selected]":":checked",_;if(i.multiple)_=[].map.call(i.querySelectorAll(g),Te);else{var p=i.querySelector(g)??i.querySelector("option:not([disabled])");_=p&&Te(p)}l(_)}),He(()=>{var d=n();if(it(i,d,s),s&&d===void 0){var g=i.querySelector(":checked");g!==null&&(d=Te(g),l(d))}i.__value=d,s=!1}),Ct(i)}function Te(i){return"__value"in i?i.__value:i.value}const xt=()=>performance.now(),ge={tick:i=>requestAnimationFrame(i),now:()=>xt(),tasks:new Set};function nt(){const i=ge.now();ge.tasks.forEach(n=>{n.c(i)||(ge.tasks.delete(n),n.f())}),ge.tasks.size!==0&&ge.tick(nt)}function Lt(i){let n;return ge.tasks.size===0&&ge.tick(nt),{promise:new Promise(l=>{ge.tasks.add(n={c:i,f:l})}),abort(){ge.tasks.delete(n)}}}function Ae(i,n){Et(()=>{i.dispatchEvent(new CustomEvent(n))})}function It(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const n=i.split("-");return n.length===1?n[0]:n[0]+n.slice(1).map(l=>l[0].toUpperCase()+l.slice(1)).join("")}function et(i){const n={},l=i.split(";");for(const s of l){const[d,g]=s.split(":");if(!d||g===void 0)break;const _=It(d.trim());n[_]=g.trim()}return n}const Tt=i=>i;function ur(i,n,l,s){var d=(i&gt)!==0,g=(i&vt)!==0,_=d&&g,p=(i&dt)!==0,S=_?"both":d?"in":"out",a,u=n.inert,v=n.style.overflow,w,k;function j(){var W=pt,oe=Ye;Ve(null),Xe(null);try{return a??(a=l()(n,(s==null?void 0:s())??{},{direction:S}))}finally{Ve(W),Xe(oe)}}var U={is_global:p,in(){var W;if(n.inert=u,!d){k==null||k.abort(),(W=k==null?void 0:k.reset)==null||W.call(k);return}g||w==null||w.abort(),Ae(n,"introstart"),w=We(n,j(),k,1,()=>{Ae(n,"introend"),w==null||w.abort(),w=a=void 0,n.style.overflow=v})},out(W){if(!g){W==null||W(),a=void 0;return}n.inert=!0,Ae(n,"outrostart"),k=We(n,j(),w,0,()=>{Ae(n,"outroend"),W==null||W()})},stop:()=>{w==null||w.abort(),k==null||k.abort()}},K=Ye;if((K.transitions??(K.transitions=[])).push(U),d&&wt){var ee=p;if(!ee){for(var G=K.parent;G&&(G.f&lt)!==0;)for(;(G=G.parent)&&(G.f&ut)===0;);ee=!G||(G.f&ft)!==0}ee&&He(()=>{ct(()=>U.in())})}}function We(i,n,l,s,d){var g=s===1;if(ht(n)){var _,p=!1;return _t(()=>{if(!p){var K=n({direction:g?"in":"out"});_=We(i,K,l,s,d)}}),{abort:()=>{p=!0,_==null||_.abort()},deactivate:()=>_.deactivate(),reset:()=>_.reset(),t:()=>_.t()}}if(l==null||l.deactivate(),!(n!=null&&n.duration))return d(),{abort:de,deactivate:de,reset:de,t:()=>s};const{delay:S=0,css:a,tick:u,easing:v=Tt}=n;var w=[];if(g&&l===void 0&&(u&&u(0,1),a)){var k=et(a(0,1));w.push(k,k)}var j=()=>1-s,U=i.animate(w,{duration:S,fill:"forwards"});return U.onfinish=()=>{U.cancel();var K=(l==null?void 0:l.t())??1-s;l==null||l.abort();var ee=s-K,G=n.duration*Math.abs(ee),W=[];if(G>0){var oe=!1;if(a)for(var _e=Math.ceil(G/16.666666666666668),te=0;te<=_e;te+=1){var T=K+ee*v(te/_e),t=et(a(T,1-T));W.push(t),oe||(oe=t.overflow==="hidden")}oe&&(i.style.overflow="hidden"),j=()=>{var e=U.currentTime;return K+ee*v(e/G)},u&&Lt(()=>{if(U.playState!=="running")return!1;var e=j();return u(e,1-e),!0})}U=i.animate(W,{duration:G,fill:"forwards"}),U.onfinish=()=>{j=()=>s,u==null||u(s,1-s),d()}},{abort:()=>{U&&(U.cancel(),U.effect=null,U.onfinish=de)},deactivate:()=>{d=de},reset:()=>{s===0&&(u==null||u(1,0))},t:()=>j()}}function At(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var je={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var jt=je.exports,tt;function Ft(){return tt||(tt=1,function(i,n){((l,s)=>{i.exports=s()})(jt,function l(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},d,g=!s.document&&!!s.postMessage,_=s.IS_PAPA_WORKER||!1,p={},S=0,a={};function u(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var r=_e(e);r.chunkSize=parseInt(r.chunkSize),e.step||e.chunk||(r.chunkSize=null),this._handle=new U(r),(this._handle.streamer=this)._config=r}).call(this,t),this.parseChunk=function(e,r){var f=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<f){let c=this._config.newline;c||(o=this._config.quoteChar||'"',c=this._handle.guessLineEndings(e,o)),e=[...e.split(c).slice(f)].join(c)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(o=this._config.beforeFirstChunk(e))!==void 0&&(e=o),this.isFirstChunk=!1,this._halted=!1;var f=this._partialLine+e,o=(this._partialLine="",this._handle.parse(f,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=o.meta.cursor,f=(this._finished||(this._partialLine=f.substring(e-this._baseIndex),this._baseIndex=e),o&&o.data&&(this._rowCount+=o.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),_)s.postMessage({results:o,workerId:a.WORKER_ID,finished:f});else if(T(this._config.chunk)&&!r){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=o=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!f||!T(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),f||o&&o.meta.paused||this._nextChunk(),o}this._halted=!0},this._sendError=function(e){T(this._config.error)?this._config.error(e):_&&this._config.error&&s.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function v(t){var e;(t=t||{}).chunkSize||(t.chunkSize=a.RemoteChunkSize),u.call(this,t),this._nextChunk=g?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),g||(e.onload=te(this._chunkLoaded,this),e.onerror=te(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!g),this._config.downloadRequestHeaders){var r,f=this._config.downloadRequestHeaders;for(r in f)e.setRequestHeader(r,f[r])}var o;this._config.chunkSize&&(o=this._start+this._config.chunkSize-1,e.setRequestHeader("Range","bytes="+this._start+"-"+o));try{e.send(this._config.downloadRequestBody)}catch(c){this._chunkError(c.message)}g&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize||e.responseText.length,this._finished=!this._config.chunkSize||this._start>=(r=>(r=r.getResponseHeader("Content-Range"))!==null?parseInt(r.substring(r.lastIndexOf("/")+1)):-1)(e),this.parseChunk(e.responseText)))},this._chunkError=function(r){r=e.statusText||r,this._sendError(new Error(r))}}function w(t){(t=t||{}).chunkSize||(t.chunkSize=a.LocalChunkSize),u.call(this,t);var e,r,f=typeof FileReader<"u";this.stream=function(o){this._input=o,r=o.slice||o.webkitSlice||o.mozSlice,f?((e=new FileReader).onload=te(this._chunkLoaded,this),e.onerror=te(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var o=this._input,c=(this._config.chunkSize&&(c=Math.min(this._start+this._config.chunkSize,this._input.size),o=r.call(o,this._start,c)),e.readAsText(o,this._config.encoding));f||this._chunkLoaded({target:{result:c}})},this._chunkLoaded=function(o){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(o.target.result)},this._chunkError=function(){this._sendError(e.error)}}function k(t){var e;u.call(this,t=t||{}),this.stream=function(r){return e=r,this._nextChunk()},this._nextChunk=function(){var r,f;if(!this._finished)return r=this._config.chunkSize,e=r?(f=e.substring(0,r),e.substring(r)):(f=e,""),this._finished=!e,this.parseChunk(f)}}function j(t){u.call(this,t=t||{});var e=[],r=!0,f=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(o){this._input=o,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){f&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):r=!0},this._streamData=te(function(o){try{e.push(typeof o=="string"?o:o.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(c){this._streamError(c)}},this),this._streamError=te(function(o){this._streamCleanUp(),this._sendError(o)},this),this._streamEnd=te(function(){this._streamCleanUp(),f=!0,this._streamData("")},this),this._streamCleanUp=te(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function U(t){var e,r,f,o,c=Math.pow(2,53),I=-c,D=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,F=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,m=this,M=0,b=0,X=!1,R=!1,C=[],h={data:[],errors:[],meta:{}};function Q(x){return t.skipEmptyLines==="greedy"?x.join("").trim()==="":x.length===1&&x[0].length===0}function H(){if(h&&f&&(se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),f=!1),t.skipEmptyLines&&(h.data=h.data.filter(function(y){return!Q(y)})),Y()){let y=function(B,J){T(t.transformHeader)&&(B=t.transformHeader(B,J)),C.push(B)};if(h)if(Array.isArray(h.data[0])){for(var x=0;Y()&&x<h.data.length;x++)h.data[x].forEach(y);h.data.splice(0,1)}else h.data.forEach(y)}function A(y,B){for(var J=t.header?{}:[],N=0;N<y.length;N++){var P=N,L=y[N],L=((ae,O)=>(q=>(t.dynamicTypingFunction&&t.dynamicTyping[q]===void 0&&(t.dynamicTyping[q]=t.dynamicTypingFunction(q)),(t.dynamicTyping[q]||t.dynamicTyping)===!0))(ae)?O==="true"||O==="TRUE"||O!=="false"&&O!=="FALSE"&&((q=>{if(D.test(q)&&(q=parseFloat(q),I<q&&q<c))return 1})(O)?parseFloat(O):F.test(O)?new Date(O):O===""?null:O):O)(P=t.header?N>=C.length?"__parsed_extra":C[N]:P,L=t.transform?t.transform(L,P):L);P==="__parsed_extra"?(J[P]=J[P]||[],J[P].push(L)):J[P]=L}return t.header&&(N>C.length?se("FieldMismatch","TooManyFields","Too many fields: expected "+C.length+" fields but parsed "+N,b+B):N<C.length&&se("FieldMismatch","TooFewFields","Too few fields: expected "+C.length+" fields but parsed "+N,b+B)),J}var z;h&&(t.header||t.dynamicTyping||t.transform)&&(z=1,!h.data.length||Array.isArray(h.data[0])?(h.data=h.data.map(A),z=h.data.length):h.data=A(h.data,0),t.header&&h.meta&&(h.meta.fields=C),b+=z)}function Y(){return t.header&&C.length===0}function se(x,A,z,y){x={type:x,code:A,message:z},y!==void 0&&(x.row=y),h.errors.push(x)}T(t.step)&&(o=t.step,t.step=function(x){h=x,Y()?H():(H(),h.data.length!==0&&(M+=x.data.length,t.preview&&M>t.preview?r.abort():(h.data=h.data[0],o(h,m))))}),this.parse=function(x,A,z){var y=t.quoteChar||'"',y=(t.newline||(t.newline=this.guessLineEndings(x,y)),f=!1,t.delimiter?T(t.delimiter)&&(t.delimiter=t.delimiter(x),h.meta.delimiter=t.delimiter):((y=((B,J,N,P,L)=>{var ae,O,q,ve;L=L||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var we=0;we<L.length;we++){for(var le,Re=L[we],$=0,ue=0,Z=0,re=(q=void 0,new ee({comments:P,delimiter:Re,newline:J,preview:10}).parse(B)),pe=0;pe<re.data.length;pe++)N&&Q(re.data[pe])?Z++:(le=re.data[pe].length,ue+=le,q===void 0?q=le:0<le&&($+=Math.abs(le-q),q=le));0<re.data.length&&(ue/=re.data.length-Z),(O===void 0||$<=O)&&(ve===void 0||ve<ue)&&1.99<ue&&(O=$,ae=Re,ve=ue)}return{successful:!!(t.delimiter=ae),bestDelimiter:ae}})(x,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess)).successful?t.delimiter=y.bestDelimiter:(f=!0,t.delimiter=a.DefaultDelimiter),h.meta.delimiter=t.delimiter),_e(t));return t.preview&&t.header&&y.preview++,e=x,r=new ee(y),h=r.parse(e,A,z),H(),X?{meta:{paused:!0}}:h||{meta:{paused:!1}}},this.paused=function(){return X},this.pause=function(){X=!0,r.abort(),e=T(t.chunk)?"":e.substring(r.getCharIndex())},this.resume=function(){m.streamer._halted?(X=!1,m.streamer.parseChunk(e,!0)):setTimeout(m.resume,3)},this.aborted=function(){return R},this.abort=function(){R=!0,r.abort(),h.meta.aborted=!0,T(t.complete)&&t.complete(h),e=""},this.guessLineEndings=function(B,y){B=B.substring(0,1048576);var y=new RegExp(K(y)+"([^]*?)"+K(y),"gm"),z=(B=B.replace(y,"")).split("\r"),y=B.split(`
`),B=1<y.length&&y[0].length<z[0].length;if(z.length===1||B)return`
`;for(var J=0,N=0;N<z.length;N++)z[N][0]===`
`&&J++;return J>=z.length/2?`\r
`:"\r"}}function K(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ee(t){var e=(t=t||{}).delimiter,r=t.newline,f=t.comments,o=t.step,c=t.preview,I=t.fastMode,D=null,F=!1,m=t.quoteChar==null?'"':t.quoteChar,M=m;if(t.escapeChar!==void 0&&(M=t.escapeChar),(typeof e!="string"||-1<a.BAD_DELIMITERS.indexOf(e))&&(e=","),f===e)throw new Error("Comment character same as delimiter");f===!0?f="#":(typeof f!="string"||-1<a.BAD_DELIMITERS.indexOf(f))&&(f=!1),r!==`
`&&r!=="\r"&&r!==`\r
`&&(r=`
`);var b=0,X=!1;this.parse=function(R,C,h){if(typeof R!="string")throw new Error("Input must be a string");var Q=R.length,H=e.length,Y=r.length,se=f.length,x=T(o),A=[],z=[],y=[],B=b=0;if(!R)return $();if(I||I!==!1&&R.indexOf(m)===-1){for(var J=R.split(r),N=0;N<J.length;N++){if(y=J[N],b+=y.length,N!==J.length-1)b+=r.length;else if(h)return $();if(!f||y.substring(0,se)!==f){if(x){if(A=[],ve(y.split(e)),ue(),X)return $()}else ve(y.split(e));if(c&&c<=N)return A=A.slice(0,c),$(!0)}}return $()}for(var P=R.indexOf(e,b),L=R.indexOf(r,b),ae=new RegExp(K(M)+K(m),"g"),O=R.indexOf(m,b);;)if(R[b]===m)for(O=b,b++;;){if((O=R.indexOf(m,O+1))===-1)return h||z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:A.length,index:b}),le();if(O===Q-1)return le(R.substring(b,O).replace(ae,m));if(m===M&&R[O+1]===M)O++;else if(m===M||O===0||R[O-1]!==M){P!==-1&&P<O+1&&(P=R.indexOf(e,O+1));var q=we((L=L!==-1&&L<O+1?R.indexOf(r,O+1):L)===-1?P:Math.min(P,L));if(R.substr(O+1+q,H)===e){y.push(R.substring(b,O).replace(ae,m)),R[b=O+1+q+H]!==m&&(O=R.indexOf(m,b)),P=R.indexOf(e,b),L=R.indexOf(r,b);break}if(q=we(L),R.substring(O+1+q,O+1+q+Y)===r){if(y.push(R.substring(b,O).replace(ae,m)),Re(O+1+q+Y),P=R.indexOf(e,b),O=R.indexOf(m,b),x&&(ue(),X))return $();if(c&&A.length>=c)return $(!0);break}z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:A.length,index:b}),O++}}else if(f&&y.length===0&&R.substring(b,b+se)===f){if(L===-1)return $();b=L+Y,L=R.indexOf(r,b),P=R.indexOf(e,b)}else if(P!==-1&&(P<L||L===-1))y.push(R.substring(b,P)),b=P+H,P=R.indexOf(e,b);else{if(L===-1)break;if(y.push(R.substring(b,L)),Re(L+Y),x&&(ue(),X))return $();if(c&&A.length>=c)return $(!0)}return le();function ve(Z){A.push(Z),B=b}function we(Z){var re=0;return re=Z!==-1&&(Z=R.substring(O+1,Z))&&Z.trim()===""?Z.length:re}function le(Z){return h||(Z===void 0&&(Z=R.substring(b)),y.push(Z),b=Q,ve(y),x&&ue()),$()}function Re(Z){b=Z,ve(y),y=[],L=R.indexOf(r,b)}function $(Z){if(t.header&&!C&&A.length&&!F){var re=A[0],pe=Object.create(null),Me=new Set(re);let Ge=!1;for(let ke=0;ke<re.length;ke++){let fe=re[ke];if(pe[fe=T(t.transformHeader)?t.transformHeader(fe,ke):fe]){let Oe,Ze=pe[fe];for(;Oe=fe+"_"+Ze,Ze++,Me.has(Oe););Me.add(Oe),re[ke]=Oe,pe[fe]++,Ge=!0,(D=D===null?{}:D)[Oe]=fe}else pe[fe]=1,re[ke]=fe;Me.add(fe)}Ge&&console.warn("Duplicate headers found and renamed."),F=!0}return{data:A,errors:z,meta:{delimiter:e,linebreak:r,aborted:X,truncated:!!Z,cursor:B+(C||0),renamedHeaders:D}}}function ue(){o($()),A=[],z=[]}},this.abort=function(){X=!0},this.getCharIndex=function(){return b}}function G(t){var e=t.data,r=p[e.workerId],f=!1;if(e.error)r.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){f=!0,W(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:oe,resume:oe};if(T(r.userStep)){for(var c=0;c<e.results.data.length&&(r.userStep({data:e.results.data[c],errors:e.results.errors,meta:e.results.meta},o),!f);c++);delete e.results}else T(r.userChunk)&&(r.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!f&&W(e.workerId,e.results)}function W(t,e){var r=p[t];T(r.userComplete)&&r.userComplete(e),r.terminate(),delete p[t]}function oe(){throw new Error("Not implemented.")}function _e(t){if(typeof t!="object"||t===null)return t;var e,r=Array.isArray(t)?[]:{};for(e in t)r[e]=_e(t[e]);return r}function te(t,e){return function(){t.apply(e,arguments)}}function T(t){return typeof t=="function"}return a.parse=function(t,e){var r=(e=e||{}).dynamicTyping||!1;if(T(r)&&(e.dynamicTypingFunction=r,r={}),e.dynamicTyping=r,e.transform=!!T(e.transform)&&e.transform,!e.worker||!a.WORKERS_SUPPORTED)return r=null,a.NODE_STREAM_INPUT,typeof t=="string"?(t=(f=>f.charCodeAt(0)!==65279?f:f.slice(1))(t),r=new(e.download?v:k)(e)):t.readable===!0&&T(t.read)&&T(t.on)?r=new j(e):(s.File&&t instanceof File||t instanceof Object)&&(r=new w(e)),r.stream(t);(r=(()=>{var f;return!!a.WORKERS_SUPPORTED&&(f=(()=>{var o=s.URL||s.webkitURL||null,c=l.toString();return a.BLOB_URL||(a.BLOB_URL=o.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",c,")();"],{type:"text/javascript"})))})(),(f=new s.Worker(f)).onmessage=G,f.id=S++,p[f.id]=f)})()).userStep=e.step,r.userChunk=e.chunk,r.userComplete=e.complete,r.userError=e.error,e.step=T(e.step),e.chunk=T(e.chunk),e.complete=T(e.complete),e.error=T(e.error),delete e.worker,r.postMessage({input:t,config:e,workerId:r.id})},a.unparse=function(t,e){var r=!1,f=!0,o=",",c=`\r
`,I='"',D=I+I,F=!1,m=null,M=!1,b=((()=>{if(typeof e=="object"){if(typeof e.delimiter!="string"||a.BAD_DELIMITERS.filter(function(C){return e.delimiter.indexOf(C)!==-1}).length||(o=e.delimiter),typeof e.quotes!="boolean"&&typeof e.quotes!="function"&&!Array.isArray(e.quotes)||(r=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(F=e.skipEmptyLines),typeof e.newline=="string"&&(c=e.newline),typeof e.quoteChar=="string"&&(I=e.quoteChar),typeof e.header=="boolean"&&(f=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");m=e.columns}e.escapeChar!==void 0&&(D=e.escapeChar+I),e.escapeFormulae instanceof RegExp?M=e.escapeFormulae:typeof e.escapeFormulae=="boolean"&&e.escapeFormulae&&(M=/^[=+\-@\t\r].*$/)}})(),new RegExp(K(I),"g"));if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return X(null,t,F);if(typeof t[0]=="object")return X(m||Object.keys(t[0]),t,F)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||m),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),X(t.fields||[],t.data||[],F);throw new Error("Unable to serialize unrecognized input");function X(C,h,Q){var H="",Y=(typeof C=="string"&&(C=JSON.parse(C)),typeof h=="string"&&(h=JSON.parse(h)),Array.isArray(C)&&0<C.length),se=!Array.isArray(h[0]);if(Y&&f){for(var x=0;x<C.length;x++)0<x&&(H+=o),H+=R(C[x],x);0<h.length&&(H+=c)}for(var A=0;A<h.length;A++){var z=(Y?C:h[A]).length,y=!1,B=Y?Object.keys(h[A]).length===0:h[A].length===0;if(Q&&!Y&&(y=Q==="greedy"?h[A].join("").trim()==="":h[A].length===1&&h[A][0].length===0),Q==="greedy"&&Y){for(var J=[],N=0;N<z;N++){var P=se?C[N]:N;J.push(h[A][P])}y=J.join("").trim()===""}if(!y){for(var L=0;L<z;L++){0<L&&!B&&(H+=o);var ae=Y&&se?C[L]:L;H+=R(h[A][ae],L)}A<h.length-1&&(!Q||0<z&&!B)&&(H+=c)}}return H}function R(C,h){var Q,H;return C==null?"":C.constructor===Date?JSON.stringify(C).slice(1,25):(H=!1,M&&typeof C=="string"&&M.test(C)&&(C="'"+C,H=!0),Q=C.toString().replace(b,D),(H=H||r===!0||typeof r=="function"&&r(C,h)||Array.isArray(r)&&r[h]||((Y,se)=>{for(var x=0;x<se.length;x++)if(-1<Y.indexOf(se[x]))return!0;return!1})(Q,a.BAD_DELIMITERS)||-1<Q.indexOf(o)||Q.charAt(0)===" "||Q.charAt(Q.length-1)===" ")?I+Q+I:Q)}},a.RECORD_SEP="",a.UNIT_SEP="",a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!g&&!!s.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=ee,a.ParserHandle=U,a.NetworkStreamer=v,a.FileStreamer=w,a.StringStreamer=k,a.ReadableStreamStreamer=j,s.jQuery&&((d=s.jQuery).fn.parse=function(t){var e=t.config||{},r=[];return this.each(function(c){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var I=0;I<this.files.length;I++)r.push({file:this.files[I],inputElem:this,instanceConfig:d.extend({},e)})}),f(),this;function f(){if(r.length===0)T(t.complete)&&t.complete();else{var c,I,D,F,m=r[0];if(T(t.before)){var M=t.before(m.file,m.inputElem);if(typeof M=="object"){if(M.action==="abort")return c="AbortError",I=m.file,D=m.inputElem,F=M.reason,void(T(t.error)&&t.error({name:c},I,D,F));if(M.action==="skip")return void o();typeof M.config=="object"&&(m.instanceConfig=d.extend(m.instanceConfig,M.config))}else if(M==="skip")return void o()}var b=m.instanceConfig.complete;m.instanceConfig.complete=function(X){T(b)&&b(X,m.file,m.inputElem),o()},a.parse(m.file,m.instanceConfig)}}function o(){r.splice(0,1),f()}}),_&&(s.onmessage=function(t){t=t.data,a.WORKER_ID===void 0&&t&&(a.WORKER_ID=t.workerId),typeof t.input=="string"?s.postMessage({workerId:a.WORKER_ID,results:a.parse(t.input,t.config),finished:!0}):(s.File&&t.input instanceof File||t.input instanceof Object)&&(t=a.parse(t.input,t.config))&&s.postMessage({workerId:a.WORKER_ID,results:t,finished:!0})}),(v.prototype=Object.create(u.prototype)).constructor=v,(w.prototype=Object.create(u.prototype)).constructor=w,(k.prototype=Object.create(k.prototype)).constructor=k,(j.prototype=Object.create(u.prototype)).constructor=j,a})}(je)),je.exports}var Nt=Ft();const De=At(Nt);async function Dt(){let i=Ee.PUBLIC_TEMPLE_URL+"solutions/list",n=await fetch(i,{cache:"no-store"});if(!n.ok)return alert("could not fetch "+i),[];let l=await n.json();return l.sort((s,d)=>s.name<d.name?-1:s.name>d.name?1:0),l}async function Mt(i){const n=Ee.PUBLIC_TEMPLE_URL+`solutions/get_detail/${i}`;let l=await fetch(n,{cache:"no-store"});if(!l.ok)throw alert("Could not fetch "+n),new Error("Could not fetch "+n);return await l.json()}async function fr(i,n,l){let s=await(await fetch(Ee.PUBLIC_TEMPLE_URL+`solutions/get_unit/${i}/${n}?scenario=${l}`,{cache:"no-store"})).json();return s!=null&&(s=De.parse(s,{delimiter:",",header:!0,newline:`
`})),s}async function cr(i,n,l,s,d,g){const _=Ee.PUBLIC_TEMPLE_URL+`solutions/get_energy_balance/${i}/${n}/${l}?scenario=${s}&year=${d}&rolling_average_size=${g}`;let p=await fetch(_,{cache:"no-store"});if(!p.ok)throw alert("Could not fetch "+_),new Error("Could not fetch "+_);let S=await p.json(),a=["shed_demand","demand","flow_conversion_input","flow_export","flow_import","flow_storage_charge","flow_storage_discharge","flow_transport_in","flow_transport_out","cost_shed_demand","flow_conversion_output"],u={};for(const v of a)S[v]!==void 0&&(u[v]=Je(S[v]));return u}function Je(i,n=0,l=1){if(i.slice(0,i.indexOf(`
`)).split(",").length==2){let p=i.split(`
`),S="",a="";for(const u of p.slice(1,p.length)){if(u=="")continue;let v=u.split(",");S+=v[0]+",",a+=v[1]+","}i=S.substring(0,S.length-1)+`
`+a.substring(0,a.length-1)}i.slice(-1)==`
`&&(i=i.slice(0,-1));function g(p){let[S,...a]=p.split(`
`),u=S.split(",");return u=u.map(v=>isNaN(Number(v))?v:String(Number(v)*l+n)),[u.join(","),...a].join(`
`)}return De.parse(g(i),{delimiter:",",header:!0,newline:`
`})}async function dr(i,n,l,s=0,d=1,g=0){const _=Ee.PUBLIC_TEMPLE_URL+`solutions/get_total/${i}/${n}?scenario=${l}&year=${g}`;let p=await fetch(_,{cache:"no-store"});if(!p.ok)throw alert("Error when fetching "+_),new Error("Error when fetching "+_);let S=await p.json(),a=Je(S.data_csv,s,d),u=null;return S.unit!=null&&(S.unit.slice(-1)==`
`&&(S.unit=S.unit.slice(0,S.unit.length-1)),u=De.parse(S.unit,{delimiter:",",header:!0,newline:`
`})),a.data=a.data.filter(w=>{for(const k in w){let j=Number(k);if(!Number.isNaN(j)&&!Number.isNaN(w[k])&&Math.abs(w[k])>0)return!0}return!1}),{unit:u,data:a}}async function hr(i,n,l,s=0,d=1){const g=Ee.PUBLIC_TEMPLE_URL+`solutions/get_full_ts/${i}/${n}?scenario=${l}&year=${s}&rolling_average_size=${d}`;let _=await fetch(g,{cache:"no-store"});if(!_.ok)throw alert("Error when fetching "+g),new Error("Error when fetching "+g);let p=await _.json(),S=Je(p.data_csv),a=null;return p.unit!=null&&(p.unit.slice(-1)==`
`&&(p.unit=p.unit.slice(0,p.unit.length-1)),a=De.parse(p.unit,{delimiter:",",header:!0,newline:`
`})),{unit:a,data:S}}const Fe=[["rgb(122, 157, 207)","rgb(8, 64, 126)","rgb(166, 190, 223)","rgb(33, 92, 175)","rgb(211, 222, 239)","rgb(77, 125, 191)"],["rgb(212, 134, 129)","rgb(150, 39, 45)","rgb(226, 174, 171)","rgb(183, 53, 45)","rgb(241, 215, 213)","rgb(197, 93, 87)"],["rgb(102, 175, 192)","rgb(0, 89, 109)","rgb(153, 202, 213)","rgb(0, 120, 148)","rgb(204, 228, 234)","rgb(51, 149, 171)"],["rgb(202, 108, 174)","rgb(140, 10, 89)","rgb(220, 158, 201)","rgb(167, 17, 122)","rgb(239, 208, 227)","rgb(183, 59, 146)"],["rgb(161, 171, 113)","rgb(54, 82, 19)","rgb(192, 199, 161)","rgb(98, 115, 19)","rgb(224, 227, 208)","rgb(129, 143, 66)"],["rgb(169, 169, 169)","rgb(87, 87, 87)","rgb(197, 197, 197)","rgb(111, 111, 111)","rgb(226, 226, 226)","rgb(140, 140, 140)"],["rgb(187, 164, 113)","rgb(112, 79, 18)","rgb(210, 194, 161)","rgb(142, 103, 19)","rgb(232, 225, 208)","rgb(165, 133, 66)"]];let xe=0,Le=0;function _r(){xe=0,Le=0}function Pt(){xe>=Fe.length&&(xe=0,Le++,Le>=Fe[0].length&&(Le=0));const i=Fe[xe][Le];return xe++,i}function Ut(i,n=.8){return i.replace("rgb","rgba").replace(")",`, ${n})`)}function pr(){let i=[];for(let n=0;n<6;n++)for(let l=0;l<7;l++)i.push(Fe[l][n]);return i}function gr(i,n,l,s=[],d=!1,g="bar",_=""){if(i.length==0)return[];let p=Object.keys(i[0]).filter(u=>!isNaN(Number(u))&&!s.includes(Number(u))),S=Object.keys(n),a={};for(const u of i){let v=!1;for(let j in n)if(!n[j].includes(u[j])){v=!0;break}for(let j of Object.keys(l))if(!l[j].includes(u[j])){v=!0;break}if(v)continue;let w=[];for(let j of S)w.push(u[j]);let k=w.join("_")+_;k in a||(a[k]=Object.fromEntries(p.map(j=>[j,0])));for(let j of p){let U=Number(u[j]);u[j]=="inf"&&(U=1/0),a[k][j]+=U}}if(d){let u=Object.fromEntries(p.map(v=>[v,0]));for(let v of p)for(let w in a)u[v]+=a[w][v];for(let v of p)for(let w in a)u[v]==0?a[w][v]=0:a[w][v]*=1/u[v]}return Object.entries(a).filter(([,u])=>!Object.values(u).includes(NaN)).map(([u,v])=>{let w=Pt();return{label:u,data:Object.values(v),type:g,borderColor:w,backgroundColor:Ut(w)}})}function qt(i){return Array.from(new Set(i))}function vr(i){return i.map(n=>({value:n,label:n}))}var zt=he('<div class="row mb-2"><div class="col-sm-3"><label class="fw-medium fs-4"> </label></div> <div class="col-sm-9"><!></div></div>');function Ke(i,n){const l=rt();var s=zt(),d=ie(s),g=ie(d),_=ie(g,!0);V(g),V(d);var p=Ne(d,2),S=ie(p);Qe(S,()=>n.content,()=>l),V(p),V(s),me(()=>{ye(g,"for",l),Ie(_,n.label)}),ce(i,s)}function Bt(i,n,l,s,d){ne(n,""),ne(l,""),ne(s,null),d()}function Kt(i,n,l){ne(n,""),l()}var Wt=he("<option> </option>"),Ht=he('<select class="form-select"></select>'),Qt=he("<option> </option>"),Jt=he('<select class="form-select"></select>'),Gt=he("<option> </option>"),Zt=he('<select class="form-select"></select>'),Yt=he("<!> <!> <!>",1);function mr(i,n){mt(n,!0);let l=be(n,"carriers",31,()=>Se([])),s=be(n,"nodes",31,()=>Se([])),d=be(n,"edges",31,()=>Se([])),g=be(n,"years",31,()=>Se([])),_=be(n,"selected_solution",15),p=be(n,"loading",15,!1),S=be(n,"disabled",3,!0),a=Ce(Se([])),u=Ce(null),v=Ce(""),w=Ce(""),k=Ce(""),j=Pe(()=>qt(E(a).map(e=>e.name.split(".")[0]))),U=Pe(()=>E(a).filter(e=>e.name.startsWith(E(v))).map(e=>e.name.split(".")[1]||null).filter(e=>e!=null)),K=Pe(()=>E(U).length==0?E(v)||null:E(w)?E(v)+"."+E(w):null);Ot(async function(){var e,r;ne(a,await Dt(),!0),ne(v,((e=Ue("solution"))==null?void 0:e.split(".")[0])||"",!0),ne(w,((r=Ue("solution"))==null?void 0:r.split(".")[1])||"",!0),ne(k,Ue("scenario")||"",!0),ee()});async function ee(){if(E(K)==null){_(null);return}p(!0),ne(u,await Mt(E(K)),!0),Object.keys(E(u).scenarios).length==1?(ne(k,Object.keys(E(u).scenarios)[0],!0),G()):E(k)!=""&&E(k)in E(u).scenarios?G():_(null),p(!1)}function G(){var e;E(u)==null||E(K)==null||(_({solution_name:E(K),scenario_name:E(k),detail:E(u).scenarios[E(k)],version:E(u).version}),St({solution:_().solution_name,scenario:Object.keys(E(u).scenarios).length>1?_().scenario_name:null}),l(_().detail.system.set_carriers.slice()),s(_().detail.system.set_nodes),d(Object.keys(_().detail.edges)),g([...Array(_().detail.system.optimized_years).keys()].map(r=>r*_().detail.system.interval_between_years+_().detail.system.reference_year)),(e=n.solution_selected)==null||e.call(n,_()))}var W=Yt(),oe=bt(W);Ke(oe,{label:"Solution",content:(r,f=de)=>{var o=Ht();o.__change=[Bt,w,k,u,ee],qe(o,21,()=>E(j),ze,(c,I)=>{var D=Wt(),F={},m=ie(D,!0);V(D),me(()=>{F!==(F=E(I))&&(D.value=(D.__value=E(I))??""),Ie(m,E(I))}),ce(c,D)}),V(o),me(()=>{ye(o,"id",f()),o.disabled=S()}),Be(o,()=>E(v),c=>ne(v,c)),ce(r,o)}});var _e=Ne(oe,2);{var te=e=>{Ke(e,{label:"Subsolution",content:(f,o=de)=>{var c=Jt();c.__change=[Kt,k,ee],qe(c,21,()=>E(U),ze,(I,D)=>{var F=Qt(),m={},M=ie(F,!0);V(F),me(()=>{m!==(m=E(D))&&(F.value=(F.__value=E(D))??""),Ie(M,E(D))}),ce(I,F)}),V(c),me(()=>{ye(c,"id",o()),c.disabled=S()}),Be(c,()=>E(w),I=>ne(w,I)),ce(f,c)}})};$e(_e,e=>{E(U).length>0&&e(te)})}var T=Ne(_e,2);{var t=e=>{Ke(e,{label:"Scenario",content:(f,o=de)=>{var c=Zt();c.__change=G,qe(c,21,()=>{var I;return Object.keys(((I=E(u))==null?void 0:I.scenarios)||[])},ze,(I,D)=>{var F=Gt(),m={},M=ie(F,!0);V(F),me(()=>{m!==(m=E(D))&&(F.value=(F.__value=E(D))??""),Ie(M,E(D))}),ce(I,F)}),V(c),me(()=>{ye(c,"id",o()),c.disabled=S()}),Be(c,()=>E(k),I=>ne(k,I)),ce(f,c)}})};$e(T,e=>{E(u)&&Object.keys(E(u).scenarios).length>1&&e(t)})}ce(i,W),yt()}Rt(["change"]);var Vt=he('<div class="z-1 position-relative"><div class="accordion" id="accordionFilters"><!></div></div>');function br(i,n){var l=Vt(),s=ie(l),d=ie(s);Qe(d,()=>n.children??de),V(s),V(l),ce(i,l)}var Xt=he('<div class="accordion-item"><h2 class="accordion-header"><button class="accordion-button" type="button" data-bs-toggle="collapse" aria-expanded="true"> </button></h2> <div class="accordion-collapse collapse show"><div class="accordion-body"><!></div></div></div>');function yr(i,n){const l=rt();var s=Xt(),d=ie(s),g=ie(d),_=ie(g,!0);V(g),V(d);var p=Ne(d,2),S=ie(p),a=ie(S);Qe(a,()=>n.children??de),V(S),V(p),V(s),me(()=>{ye(g,"data-bs-target","#collapse"+l),ye(g,"aria-controls","collapse"+l),Ie(_,n.title),ye(p,"id","collapse"+l)}),ce(i,s)}export{br as F,mr as S,fr as a,yr as b,Ke as c,hr as d,qt as e,gr as f,cr as g,dr as h,Be as i,At as j,ur as k,pr as l,Pt as n,_r as r,vr as t};
