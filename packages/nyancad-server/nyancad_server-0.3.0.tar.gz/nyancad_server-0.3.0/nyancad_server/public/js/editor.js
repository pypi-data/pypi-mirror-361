import { $APP, shadow$provide, $jscomp } from "./common.js";
var AB=function(a,b){var c;if(c=b!=null)c=$APP.u(a),c=b.g?b.g(c):b.call(null,c),c=$APP.Ta(c);if(c)throw Error("Validator rejected reference state");a.Dd=b},BB=function(a){return function(b){return function(){function c(g,h){return $APP.m(a.g?a.g(h):a.call(null,h))?b.h?b.h(g,h):b.call(null,g,h):g}function d(g){return b.g?b.g(g):b.call(null,g)}function e(){return b.m?b.m():b.call(null)}var f=null;f=function(g,h){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,
g,h)}throw Error("Invalid arity: "+arguments.length);};f.m=e;f.g=d;f.h=c;return f}()}},DB=function(a){var b=CB;$APP.hc(b,a);return b},EB=function(a){return(0,$APP.Zu)(a)},FB=function(a,b,c){var d=$APP.Vd;for(b=$APP.D(b);;)if(b!=null){a=$APP.Ad(a,$APP.E(b),d);if(d===a)return c;b=$APP.G(b)}else return a},GB=function(a,b,c,d,e){this.meta=a;this.f=b;this.Zd=c;this.seed=d;this.next=e;this.o=26083532;this.D=1},HB=function(a,b){return new GB(null,a,null,b,null)},JB=function(a,b){var c=$APP.S.i(IB,a,b);return $APP.De(c,
$APP.Gf(function(d){return c===d},b))},KB=function(a){return function d(c){return new $APP.He(null,function(){return $APP.De(c,$APP.m($APP.Ld.g?$APP.Ld.g(c):$APP.Ld.call(null,c))?$APP.Ef(d,$APP.K([$APP.D.g?$APP.D.g(c):$APP.D.call(null,c)])):null)},null,null)}(a)},LB=function(a){return $APP.Ff(function(b){return!$APP.Ld(b)},$APP.Uc(KB(a)))},MB=function(a,b){var c=$APP.sn(a);return $APP.Jn(a,$APP.m(c)?new $APP.T(null,1,5,$APP.V,[c],null):$APP.$f,b)},NB=function(a,b){var c=new $APP.Da,d=$APP.Na,e=$APP.Oa;
$APP.Na=!0;$APP.Oa=function(f){return c.append(f)};try{$APP.Sn(MB(a,b))}finally{$APP.Oa=e,$APP.Na=d}return $APP.r.g(c)},OB=function(a,b){this.f=a;this.Cc=b;this.yc=null;this.o=2153807872;this.D=0},PB=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new $APP.C(b.slice(1),0,null):null;return new OB(arguments[0],b)},QB=function(a,b,c,d,e){this.form=a;this.hb=b;this.gb=c;this.zc=d;this.yf=e;this.o=393216;this.D=0},RB=function(a,b,c){return new QB(a,
b,c,new $APP.Ii(function(){return $APP.En.h(b,a)}),$APP.R)},SB=function(a){var b=new $APP.Da,c=$APP.Sp;$APP.Sp=new $APP.Cc(b);try{var d=$APP.Sp,e=$APP.Ta($APP.nr(d)),f=$APP.Sp;$APP.Sp=e?$APP.er(d):d;try{d=$APP.pr;$APP.pr=!0;try{$APP.rr(a)}finally{$APP.pr=d}$APP.I.h(0,$APP.cq($APP.Sp))||$APP.v($APP.Sp,"\n");$APP.Zp()}finally{$APP.Sp=f}$APP.oi($APP.r.g(b))}finally{$APP.Sp=c}},TB=function(a){return a.g?a.g(0):a.call(null,0)},UB=function(a){var b=TB(a);a=$APP.kz.g($APP.Gd(a));return a.g?a.g(b):a.call(null,
b)},VB=function(a){if($APP.m(UB(a))){var b=TB(a);a=$APP.nw.g($APP.Gd(a));return a.g?a.g(b):a.call(null,b)}throw"called children on a leaf node";},WB=function(a,b,c){a=$APP.xw.g($APP.Gd(a));return a.h?a.h(b,c):a.call(null,b,c)},XB=function(a){if($APP.m(UB(a))){var b=$APP.N(a,0,null),c=$APP.N(a,1,null),d=VB(a),e=$APP.D(d),f=$APP.E(e);e=$APP.G(e);return $APP.m(d)?$APP.Fd(new $APP.T(null,2,5,$APP.V,[f,new $APP.l(null,4,[$APP.Iy,$APP.$f,$APP.Cy,$APP.m(c)?$APP.Ae.h($APP.Cy.g(c),b):new $APP.T(null,1,5,$APP.V,
[b],null),$APP.$y,c,$APP.zy,e],null)],null),$APP.Gd(a)):null}return null},YB=function(a){var b=$APP.N(a,0,null),c=$APP.N(a,1,null),d=$APP.af(c);c=$APP.O(d,$APP.Iy);var e=$APP.O(d,$APP.$y),f=$APP.O(d,$APP.Cy),g=$APP.O(d,$APP.zy);d=$APP.O(d,$APP.gx);return $APP.m(f)?(f=f==null?null:$APP.Eb(f),$APP.Fd($APP.m(d)?new $APP.T(null,2,5,$APP.V,[WB(a,f,$APP.Df.h(c,$APP.De(b,g))),$APP.m(e)?$APP.W.i(e,$APP.gx,!0):e],null):new $APP.T(null,2,5,$APP.V,[f,e],null),$APP.Gd(a))):null},ZB=function(a){var b=$APP.N(a,
0,null),c=$APP.N(a,1,null),d=$APP.N(a,2,null),e=$APP.N(a,3,null),f=$APP.N(a,4,null);a=$APP.N(a,5,null);return DOMMatrixReadOnly.fromMatrix({a:b,b:c,c:d,d:e,e:f,f:a})},$B=function(a){a=a==null?null:XB(a);if(a==null)a=null;else{var b=$APP.N(a,0,null),c=$APP.N(a,1,null);c=$APP.af(c);var d=$APP.O(c,$APP.Iy),e=$APP.O(c,$APP.zy);a=$APP.m($APP.m(c)?e:c)?$APP.Fd(new $APP.T(null,2,5,$APP.V,[$APP.wd(e),$APP.W.j(c,$APP.Iy,$APP.S.s($APP.Ae,d,b,$APP.Uh(e)),$APP.K([$APP.zy,null]))],null),$APP.Gd(a)):a}return a==
null?null:TB(a)},bC=function(a){var b=aC;$APP.X.h(b,function(c){var d=new $APP.xe(null,a,null,1,null);d=WB(c,TB(c),$APP.De(d,VB(c)));$APP.N(c,0,null);var e=$APP.N(c,1,null);c=$APP.Fd(new $APP.T(null,2,5,$APP.V,[d,$APP.W.i(e,$APP.gx,!0)],null),$APP.Gd(c));return XB(c)});return $B($APP.u(b))},cC=function(){var a=aC;$APP.X.h(a,function(b){return $APP.m($B(YB(b)))?YB(b):b});return $B($APP.u(a))},dC=function(){var a=aC;$APP.X.h(a,function(b){return $APP.m($B(XB(b)))?XB(b):b});return $B($APP.u(a))},fC=
function(a){a=$APP.S.h(eC,$APP.Ef($APP.Ip.h($APP.Kp,2),$APP.K([a])))+1;return $APP.m(isFinite(a))?a:1},gC=function(a){function b(c,d,e){return $APP.m(e)?$APP.Ae.h(c,d):c}return b(b(b(b($APP.Qh([$APP.ti.g($APP.Gj(a.key))]),$APP.Tw,a.ctrlKey),$APP.Zv,a.altKey),$APP.Xy,a.shiftKey),$APP.cy,a.metaKey)},hC=function(a,b){if($APP.m(function(){var c=b.repeat;return $APP.m(c)?c:$APP.I.h("INPUT",b.target.tagName)||$APP.I.h("TEXTAREA",b.target.tagName)}()))return null;$APP.Ci($APP.K([gC(b)]));a=$APP.Ad(a,gC(b),
function(){return $APP.Sc});return a.m?a.m():a.call(null)},iC=function(a){return $APP.Dj(EB(function(){var b=new $APP.Da,c=$APP.Na,d=$APP.Oa;$APP.Na=!0;$APP.Oa=function(e){return b.append(e)};try{SB(a)}finally{$APP.Oa=d,$APP.Na=c}return $APP.r.g(b)}())," ","Â ")},jC=function(a,b){return $APP.Dj($APP.Dj(a,/(?<=[^{]|^)\{([^{}:]+)(?::(?:\.(\d+))?([ef])?)?\}(?=[^}]|$)/,function(c){$APP.N(c,0,null);var d=$APP.N(c,1,null),e=$APP.N(c,2,null);c=$APP.N(c,3,null);try{var f=$APP.wf.h($APP.Vh,$APP.Hh(b)),g=$APP.wf.h($APP.zl,
$APP.Jh(b)),h=$APP.S.h(Function,$APP.Df.h(f,new $APP.T(null,1,5,$APP.V,[["return (",$APP.r.g(d),")"].join("")],null))),n=$APP.S.h(h,g);var p=$APP.Ri(n,$APP.K([$APP.Pi,!1]));var q=parseFloat(p);switch(c){case "e":return q.toExponential(parseInt(e));case "f":return q.toFixed(parseInt(e));default:return $APP.Md(p)?iC(p):$APP.m(p)?p:"?"}}catch(t){if(t instanceof Error)return console.error("Error formatting",a,t),"?";throw t;}}),/\{\{|\}\}/,$APP.E)},lC=function(){var a=$APP.u(kC);return $APP.Kg.h($APP.R,
function(){return function d(c){return new $APP.He(null,function(){for(var e=c;;){var f=$APP.D(e);if(f){var g=f,h=$APP.E(g),n=$APP.N(h,0,null),p=$APP.N(h,1,null);if(f=$APP.D(function(q,t,w,y,z,A){return function M(J){return new $APP.He(null,function(U,Y,da){return function(){for(;;){var ha=$APP.D(J);if(ha){if($APP.Pd(ha)){var Ia=$APP.tc(ha),Qa=$APP.H(Ia),ra=$APP.Ke(Qa);a:{for(var wa=0;;)if(wa<Qa){var xa=$APP.yd(Ia,wa);ra.add(new $APP.T(null,2,5,$APP.V,[xa,da],null));wa+=1}else{Ia=!0;break a}Ia=void 0}return Ia?
$APP.Ne($APP.Pe(ra),M($APP.uc(ha))):$APP.Ne($APP.Pe(ra),null)}ra=$APP.E(ha);return $APP.De(new $APP.T(null,2,5,$APP.V,[ra,da],null),M($APP.Uc(ha)))}return null}}}(q,t,w,y,z,A),null,null)}}(e,h,n,p,g,f)($APP.Hh($APP.fw.g(p)))))return $APP.Df.h(f,d($APP.Uc(e)));e=$APP.Uc(e)}else return null}},null,null)}(a)}())},mC=function(a){return $APP.tf($APP.Ou,new $APP.T(null,3,5,$APP.V,[$APP.ly,new $APP.T(null,2,5,$APP.V,[$APP.Ay,a],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,1,[$APP.iy,function(){return $APP.tf($APP.Ou,
null)}],null),"Ok"],null)],null))},nC=function(a){switch(a){case "resistor":return"R";case "inductor":return"L";case "capacitor":return"C";case "diode":return"D";case "vsource":return"V";case "isource":return"I";case "npn":return"Q";case "pnp":return"Q";case "pmos":return"M";case "nmos":return"M";case "wire":return"W";case "port":return"P";default:return"X"}},pC=function(a){var b=$APP.wf.h(function(c){return[$APP.r.g(oC),":",$APP.r.g(nC(a)),$APP.r.g(c)].join("")},$APP.G($APP.di(0,Number.MAX_VALUE)));
return $APP.E($APP.Gf($APP.u(CB),b))},rC=function(a){var b=$APP.cb($APP.gv,$APP.Th($APP.Hh($APP.u(CB))),$APP.Hh(a)),c=$APP.cb(function(e,f){return $APP.lv.s(e,f,$APP.lk,$APP.bn)},a,$APP.Hh(a)),d=$APP.Rm(1);$APP.wm(function(){var e=function(){function g(h){var n=h[1];if(n===1){n=DB(qC);var p=$APP.X.i(CB,$APP.Kg,c);h[7]=n;return $APP.Om(h,2,p)}return n===2?(n=h[2],p=$APP.X.i(CB,function(){return function(q,t){return $APP.S.i($APP.lk,q,t)}}(),b),h[8]=n,$APP.Om(h,3,p)):n===3?(n=h[2],p=$APP.Hi(CB,qC,function(){return function(q,
t,w,y){return bC(y)}}()),h[9]=n,$APP.Pm(h,p)):null}return function(){function h(q){for(;;){a:{try{for(;;){var t=g(q);if(!$APP.Q(t,$APP.Z)){var w=t;break a}}}catch(y){w=y;q[2]=w;if($APP.D(q[4]))q[1]=$APP.E(q[4]);else throw w;w=$APP.Z;break a}w=void 0}if(!$APP.Q(w,$APP.Z))return w}}function n(){var q=[null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return n.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+
arguments.length);};p.m=n;p.g=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Nm(f)});return d},sC=function(){var a=cC();return $APP.m(a)?rC(a):null},tC=function(){var a=dC();return $APP.m(a)?rC(a):null},xC=function(a,b){return new $APP.T(null,2,5,$APP.V,[uC,new $APP.l(null,3,[vC,a+25,wC,b+25,$APP.zy,5],null)],null)},CC=function(a,b,c){var d=$APP.N(a,0,null);a=$APP.N(a,1,null);return new $APP.T(null,5,5,$APP.V,[yC,2+(d>a?d:a),b,c,new $APP.T(null,2,5,$APP.V,[zC,new $APP.l(null,
4,[$APP.Ru,50,$APP.Su,50,AC,d*50,BC,a*50],null)],null)],null)},DC=function(a,b,c,d,e){return new $APP.T(null,6,5,$APP.V,[$APP.S,yC,a,d,e,function(){return function h(g){return new $APP.He(null,function(){for(;;){var n=$APP.D(g);if(n){if($APP.Pd(n)){var p=$APP.tc(n),q=$APP.H(p),t=$APP.Ke(q);a:{for(var w=0;;)if(w<q){var y=$APP.yd(p,w),z=$APP.N(y,0,null),A=$APP.N(y,1,null);$APP.N(y,2,null);y=t;z=$APP.Fd(new $APP.T(null,5,5,$APP.V,[c,z*50,A*50,d,e],null),new $APP.l(null,1,[$APP.Sj,new $APP.T(null,2,5,
$APP.V,[z,A],null)],null));y.add(z);w+=1}else{p=!0;break a}p=void 0}return p?$APP.Ne($APP.Pe(t),h($APP.uc(n))):$APP.Ne($APP.Pe(t),null)}t=$APP.E(n);p=$APP.N(t,0,null);q=$APP.N(t,1,null);$APP.N(t,2,null);return $APP.De($APP.Fd(new $APP.T(null,5,5,$APP.V,[c,p*50,q*50,d,e],null),new $APP.l(null,1,[$APP.Sj,new $APP.T(null,2,5,$APP.V,[p,q],null)],null)),h($APP.Uc(n)))}return null}},null,null)}(b)}()],null)},GC=function(a){return new $APP.T(null,2,5,$APP.V,[$APP.pz,function(){return function d(c){return new $APP.He(null,
function(){for(;;){var e=$APP.D(c);if(e){var f=e;if($APP.Pd(f)){var g=$APP.tc(f),h=$APP.H(g),n=$APP.Ke(h);return function(){for(var q=0;;)if(q<h){var t=$APP.yd(g,q);$APP.Oe(n,$APP.Fd(new $APP.T(null,2,5,$APP.V,[EC,new $APP.l(null,1,[FC,$APP.wf.h(function(){return function(w){return w*50}}(q,t,g,h,n,f,e),LB(t))],null)],null),new $APP.l(null,1,[$APP.Sj,t],null)));q+=1}else return!0}()?$APP.Ne($APP.Pe(n),d($APP.uc(f))):$APP.Ne($APP.Pe(n),null)}var p=$APP.E(f);return $APP.De($APP.Fd(new $APP.T(null,2,
5,$APP.V,[EC,new $APP.l(null,1,[FC,$APP.wf.h(function(){return function(q){return q*50}}(p,f,e),LB(p))],null)],null),new $APP.l(null,1,[$APP.Sj,p],null)),d($APP.Uc(f)))}return null}},null,null)}(a)}()],null)},IC=function(a,b,c,d){return new $APP.T(null,2,5,$APP.V,[HC,new $APP.l(null,2,[$APP.yy,["rotate(",$APP.r.g(d)," ",$APP.r.g(a*50)," ",$APP.r.g(b*50),")"].join(""),FC,$APP.wf.h(function(e){return e*50},new $APP.T(null,6,5,$APP.V,[a,b,a+c,b+c,a+c,b-c],null))],null)],null)},QC=function(a,b){var c=
function(){var e=$APP.wd($APP.u(JC));return $APP.m(e)?$APP.Bb(e):$APP.R}(),d=$APP.Kg.i($APP.R,KC.h(BB(function(e){return $APP.Wd(e,$APP.Pj)}),$APP.wf.g(function(e){return new $APP.T(null,2,5,$APP.V,[$APP.ti.g($APP.Pj.g(e)),e],null)})),$APP.Jh($APP.u(CB)));a=jC(b,new $APP.l(null,3,[LC,c,MC,d,NC,a],null));return $APP.pf(function(e,f){return new $APP.T(null,3,5,$APP.V,[OC,new $APP.l(null,3,[$APP.Sj,f,$APP.Ru,"0",PC,e===0?"0":"1.2em"],null),f],null)},$APP.Jj(a,/\n|\r\n/))},VC=function(a,b){var c=$APP.Ad(a,
RC,SC.g($APP.O(TC,$APP.yw.g(a))));return $APP.m(c)?new $APP.T(null,3,5,$APP.V,[UC,new $APP.l(null,1,[$APP.yy,ZB($APP.yy.g(a)).translate(b/-2*50,b/-2*50).inverse().translate(30,-12.5).toString()],null),QC(a,c)],null):null},WC=function(a,b){return new $APP.T(null,7,5,$APP.V,[yC,3,a,b,new $APP.T(null,2,5,$APP.V,[GC,new $APP.T(null,4,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[.5,1.5],null),new $APP.T(null,2,5,$APP.V,[1.1,1.5],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,
2,5,$APP.V,[1.1,1.1],null),new $APP.T(null,2,5,$APP.V,[1.1,1.9],null)],null),new $APP.T(null,6,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,.5],null),new $APP.T(null,2,5,$APP.V,[1.5,1.1],null),new $APP.T(null,2,5,$APP.V,[1.2,1.1],null),new $APP.T(null,2,5,$APP.V,[1.2,1.9],null),new $APP.T(null,2,5,$APP.V,[1.5,1.9],null),new $APP.T(null,2,5,$APP.V,[1.5,2.5],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,1.5],null),new $APP.T(null,2,5,$APP.V,[1.2,1.5],null)],null)],null)],null),
new $APP.T(null,3,5,$APP.V,[VC,b,3],null),$APP.I.h($APP.yw.g(b),"nmos")?new $APP.T(null,5,5,$APP.V,[IC,1.3,1.5,.12,0],null):new $APP.T(null,5,5,$APP.V,[IC,1.4,1.5,.12,180],null)],null)},XC=function(a,b){return new $APP.T(null,7,5,$APP.V,[yC,3,a,b,new $APP.T(null,3,5,$APP.V,[VC,b,3],null),new $APP.T(null,2,5,$APP.V,[GC,new $APP.T(null,3,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[.5,1.5],null),new $APP.T(null,2,5,$APP.V,[1.15,1.5],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,
2,5,$APP.V,[1.15,1.15],null),new $APP.T(null,2,5,$APP.V,[1.15,1.85],null)],null),new $APP.T(null,6,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,.5],null),new $APP.T(null,2,5,$APP.V,[1.5,1.1],null),new $APP.T(null,2,5,$APP.V,[1.15,1.4],null),new $APP.T(null,2,5,$APP.V,[1.15,1.6],null),new $APP.T(null,2,5,$APP.V,[1.5,1.9],null),new $APP.T(null,2,5,$APP.V,[1.5,2.5],null)],null)],null)],null),$APP.I.h($APP.yw.g(b),"npn")?new $APP.T(null,5,5,$APP.V,[IC,1.4,1.81,.12,-140],null):new $APP.T(null,5,5,$APP.V,
[IC,1.25,1.68,.12,40],null)],null)},YC=function(a,b){var c=$APP.yw.g(b);c=FB($APP.u(kC),new $APP.T(null,2,5,$APP.V,[c,$APP.ay],null),new $APP.T(null,2,5,$APP.V,[1,1],null));return CC(c,a,b)},ZC=function(a,b){var c=$APP.yw.g(b),d=FB($APP.u(kC),new $APP.T(null,2,5,$APP.V,[c,$APP.ay],null),new $APP.T(null,2,5,$APP.V,[1,1],null)),e=$APP.N(d,0,null);d=$APP.N(d,1,null);c=FB($APP.u(kC),new $APP.T(null,2,5,$APP.V,[c,$APP.yz],null),$APP.$f);return DC(2+(e>d?e:d),c,xC,a,b)},$C=function(a){return["?",$APP.r.g((new URLSearchParams({schem:a})).toString())].join("")},
dD=function(a,b){var c=$APP.yw.g(b),d=$APP.Hf(b,new $APP.T(null,2,5,$APP.V,[$APP.Fw,$APP.Sy],null)),e=FB($APP.u(kC),new $APP.T(null,2,5,$APP.V,[c,$APP.ay],null),new $APP.T(null,2,5,$APP.V,[1,1],null)),f=$APP.N(e,0,null),g=$APP.N(e,1,null);c=$APP.Hf($APP.u(kC),new $APP.T(null,2,5,$APP.V,[c,$APP.nx],null));return new $APP.T(null,5,5,$APP.V,[yC,2+(f>g?f:g),a,b,$APP.m(c)?new $APP.T(null,2,5,$APP.V,[aD,new $APP.l(null,3,[$APP.xz,c,bD,function(h){return h.preventDefault()},$APP.gz,function(){return window.location.assign($C(d))}],
null)],null):new $APP.T(null,6,5,$APP.V,[$APP.pz,new $APP.T(null,2,5,$APP.V,[GC,function(){return function p(n){return new $APP.He(null,function(){for(;;){var q=$APP.D(n);if(q){if($APP.Pd(q)){var t=$APP.tc(q),w=$APP.H(t),y=$APP.Ke(w);a:{for(var z=0;;)if(z<w){var A=$APP.yd(t,z);y.add(new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[A,.5],null),new $APP.T(null,2,5,$APP.V,[A,1],null)],null));z+=1}else{t=!0;break a}t=void 0}return t?$APP.Ne($APP.Pe(y),p($APP.uc(q))):$APP.Ne($APP.Pe(y),null)}y=
$APP.E(q);return $APP.De(new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[y,.5],null),new $APP.T(null,2,5,$APP.V,[y,1],null)],null),p($APP.Uc(q)))}return null}},null,null)}($APP.di(1.5,1.5+f))}()],null),new $APP.T(null,2,5,$APP.V,[GC,function(){return function p(n){return new $APP.He(null,function(){for(;;){var q=$APP.D(n);if(q){if($APP.Pd(q)){var t=$APP.tc(q),w=$APP.H(t),y=$APP.Ke(w);a:{for(var z=0;;)if(z<w){var A=$APP.yd(t,z);y.add(new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[.5,
A],null),new $APP.T(null,2,5,$APP.V,[1,A],null)],null));z+=1}else{t=!0;break a}t=void 0}return t?$APP.Ne($APP.Pe(y),p($APP.uc(q))):$APP.Ne($APP.Pe(y),null)}y=$APP.E(q);return $APP.De(new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[.5,y],null),new $APP.T(null,2,5,$APP.V,[1,y],null)],null),p($APP.Uc(q)))}return null}},null,null)}($APP.di(1.5,1.5+g))}()],null),new $APP.T(null,2,5,$APP.V,[GC,function(){return function p(n){return new $APP.He(null,function(){for(;;){var q=$APP.D(n);if(q){if($APP.Pd(q)){var t=
$APP.tc(q),w=$APP.H(t),y=$APP.Ke(w);a:{for(var z=0;;)if(z<w){var A=$APP.yd(t,z);y.add(new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[A,g+1.5],null),new $APP.T(null,2,5,$APP.V,[A,g+1],null)],null));z+=1}else{t=!0;break a}t=void 0}return t?$APP.Ne($APP.Pe(y),p($APP.uc(q))):$APP.Ne($APP.Pe(y),null)}y=$APP.E(q);return $APP.De(new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[y,g+1.5],null),new $APP.T(null,2,5,$APP.V,[y,g+1],null)],null),p($APP.Uc(q)))}return null}},null,null)}($APP.di(1.5,
1.5+f))}()],null),new $APP.T(null,2,5,$APP.V,[GC,function(){return function p(n){return new $APP.He(null,function(){for(;;){var q=$APP.D(n);if(q){if($APP.Pd(q)){var t=$APP.tc(q),w=$APP.H(t),y=$APP.Ke(w);a:{for(var z=0;;)if(z<w){var A=$APP.yd(t,z);y.add(new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[f+1.5,A],null),new $APP.T(null,2,5,$APP.V,[f+1,A],null)],null));z+=1}else{t=!0;break a}t=void 0}return t?$APP.Ne($APP.Pe(y),p($APP.uc(q))):$APP.Ne($APP.Pe(y),null)}y=$APP.E(q);return $APP.De(new $APP.T(null,
2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[f+1.5,y],null),new $APP.T(null,2,5,$APP.V,[f+1,y],null)],null),p($APP.Uc(q)))}return null}},null,null)}($APP.di(1.5,1.5+g))}()],null),new $APP.T(null,2,5,$APP.V,[cD,new $APP.l(null,4,[$APP.Ru,50,$APP.Su,50,AC,50*f,BC,50*g],null)],null)],null)],null)},eD=function(a,b,c,d){var e=$APP.N(b,0,null),f=$APP.N(b,1,null),g=$APP.N(b,2,null),h=$APP.N(b,3,null),n=$APP.N(b,4,null),p=$APP.N(b,5,null),q=fC(a)/2-.5;return $APP.wf.h(function(t){var w=$APP.N(t,0,null),y=$APP.N(t,
1,null);$APP.N(t,2,null);t=w-q;y-=q;return new $APP.T(null,2,5,$APP.V,[Math.round(c+(e*t+g*y+n)+q),Math.round(d+(f*t+h*y+p)+q)],null)},a)},fD=function(a,b){return $APP.G($APP.Xh(function(c){return $APP.bf(c,a+b)},HB(function(c){return c+(b>0?1:-1)},a)))},gD=function(a){var b=$APP.af(a);$APP.O(b,$APP.$m);var c=$APP.O(b,$APP.Ru),d=$APP.O(b,$APP.Su);a=$APP.O(b,$APP.Zy);b=$APP.O(b,$APP.Yy);return new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[c,d],null),new $APP.T(null,
2,5,$APP.V,[c+a,d+b],null)],null),$APP.I.h(a,0)?$APP.wf.h(function(e){return new $APP.T(null,2,5,$APP.V,[c,e],null)},fD(d,b)):$APP.I.h(b,0)?$APP.wf.h(function(e){return new $APP.T(null,2,5,$APP.V,[e,d],null)},fD(c,a)):$APP.$f],null)},jD=function(a){var b=$APP.af(a),c=$APP.O(b,$APP.$m),d=$APP.O(b,$APP.Ru),e=$APP.O(b,$APP.Su),f=$APP.O(b,$APP.yw),g=$APP.O(b,$APP.yy),h=$APP.O(TC,f),n=hD.g(h),p=iD.g(h),q=$APP.N(p,0,null),t=$APP.N(p,1,null);return new $APP.T(null,2,5,$APP.V,[eD(n,g,d,e),eD(function(){return function z(y){return new $APP.He(null,
function(){for(var A=y;;){var F=$APP.D(A);if(F){var J=F,M=$APP.E(J);if(F=$APP.D(function(U,Y,da,ha,Ia,Qa,ra,wa,xa,ua,ya,Ya,rc,cd,Ub,dd){return function cc(Jd){return new $APP.He(null,function(mf,fe){return function(){for(;;){var sc=$APP.D(Jd);if(sc){if($APP.Pd(sc)){var Tc=$APP.tc(sc),ve=$APP.H(Tc),dc=$APP.Ke(ve);a:{for(var Ac=0;;)if(Ac<ve){var jd=$APP.yd(Tc,Ac);dc.add(new $APP.T(null,3,5,$APP.V,[fe+1,jd+1,"%"],null));Ac+=1}else{Tc=!0;break a}Tc=void 0}return Tc?$APP.Ne($APP.Pe(dc),cc($APP.uc(sc))):
$APP.Ne($APP.Pe(dc),null)}dc=$APP.E(sc);return $APP.De(new $APP.T(null,3,5,$APP.V,[fe+1,dc+1,"%"],null),cc($APP.Uc(sc)))}return null}}}(U,Y,da,ha,Ia,Qa,ra,wa,xa,ua,ya,Ya,rc,cd,Ub,dd),null,null)}}(A,M,J,F,h,n,p,q,t,a,b,c,d,e,f,g)($APP.ei(t))))return $APP.Df.h(F,z($APP.Uc(A)));A=$APP.Uc(A)}else return null}},null,null)}($APP.ei(q))}(),g,d,e)],null)},kD=function(a){var b=$APP.af(a),c=$APP.O(b,$APP.$m),d=$APP.O(b,$APP.Ru),e=$APP.O(b,$APP.Su),f=$APP.O(b,$APP.yw),g=$APP.O(b,$APP.yy),h=$APP.O($APP.u(kC),
f),n=$APP.yz.g(h),p=$APP.ay.g(h),q=$APP.N(p,0,null),t=$APP.N(p,1,null);return new $APP.T(null,2,5,$APP.V,[eD(n,g,d,e),eD(function(){return function z(y){return new $APP.He(null,function(){for(var A=y;;){var F=$APP.D(A);if(F){var J=F,M=$APP.E(J);if(F=$APP.D(function(U,Y,da,ha,Ia,Qa,ra,wa,xa,ua,ya,Ya,rc,cd,Ub,dd){return function cc(Jd){return new $APP.He(null,function(mf,fe){return function(){for(;;){var sc=$APP.D(Jd);if(sc){if($APP.Pd(sc)){var Tc=$APP.tc(sc),ve=$APP.H(Tc),dc=$APP.Ke(ve);a:{for(var Ac=
0;;)if(Ac<ve){var jd=$APP.yd(Tc,Ac);dc.add(new $APP.T(null,3,5,$APP.V,[fe+1,jd+1,"%"],null));Ac+=1}else{Tc=!0;break a}Tc=void 0}return Tc?$APP.Ne($APP.Pe(dc),cc($APP.uc(sc))):$APP.Ne($APP.Pe(dc),null)}dc=$APP.E(sc);return $APP.De(new $APP.T(null,3,5,$APP.V,[fe+1,dc+1,"%"],null),cc($APP.Uc(sc)))}return null}}}(U,Y,da,ha,Ia,Qa,ra,wa,xa,ua,ya,Ya,rc,cd,Ub,dd),null,null)}}(A,M,J,F,h,n,p,q,t,a,b,c,d,e,f,g)($APP.ei(t))))return $APP.Df.h(F,z($APP.Uc(A)));A=$APP.Uc(A)}else return null}},null,null)}($APP.ei(q))}(),
g,d,e)],null)},lD=function(a){var b=$APP.yw.g(a);return $APP.I.h(b,"wire")?gD(a):$APP.I.h(b,"text")?$APP.$f:$APP.Wd(TC,b)?jD(a):kD(a)},mD=function(){var a=$APP.u(CB);a=$APP.Jh(a);for(var b=$APP.D(a),c=$APP.E(b),d=$APP.G(b),e=$APP.R,f=$APP.R,g=a;;){var h=e,n=f,p=g,q=$APP.D(p),t=$APP.E(q),w=$APP.G(q),y=t,z=w,A=lD(y),F=$APP.N(A,0,null),J=$APP.N(A,1,null),M=$APP.cb(function(U,Y,da,ha,Ia,Qa,ra,wa,xa,ua,ya,Ya,rc){return function(cd,Ub){return $APP.lv.s(cd,Ub,$APP.xA,$APP.$m.g(rc))}}(e,f,g,A,F,J,h,n,p,q,
t,w,y,z,$APP.R,$APP.R,a,a,b,c,d,c,d),h,F);e=$APP.cb(function(U,Y,da,ha,Ia,Qa,ra,wa,xa,ua,ya,Ya,rc,cd){return function(Ub,dd){return $APP.lv.s(Ub,dd,$APP.xA,$APP.$m.g(cd))}}(e,f,g,A,F,J,M,h,n,p,q,t,w,y,z,$APP.R,$APP.R,a,a,b,c,d,c,d),n,J);if(z)f=e,e=M,g=z;else return new $APP.T(null,2,5,$APP.V,[M,e],null)}},nD=function(a){var b=$APP.N(a,0,null);a=$APP.N(a,1,null);return $APP.cb(function(c,d){var e=$APP.N(d,0,null);d=$APP.N(d,1,null);return $APP.Wd(b,e)?$APP.cb(function(f,g){return $APP.lv.s(f,g,$APP.yA,
e)},c,$APP.Ff(function(f){return $APP.I.h("wire",$APP.Hf($APP.u(CB),new $APP.T(null,2,5,$APP.V,[f,$APP.yw],null)))},d)):c},$APP.R,a)},qD=function(a,b){var c=$APP.O($APP.u(CB),a),d=$APP.af(c);c=$APP.O(d,$APP.Ru);var e=$APP.O(d,$APP.Su),f=$APP.O(d,$APP.Zy);d=$APP.O(d,$APP.Yy);c=(0,$APP.yA)(b,new $APP.T(null,2,5,$APP.V,[c,e],null),new $APP.T(null,2,5,$APP.V,[c+f,e+d],null));b=$APP.E($APP.u(oD));a:{f=$APP.D(c);e=$APP.E(f);f=$APP.G(f);$APP.N(e,0,null);$APP.N(e,1,null);e=$APP.D(f);f=$APP.E(e);$APP.G(e);
$APP.N(f,0,null);$APP.N(f,1,null);f=a;d=c;for(e=$APP.R;;){c=f;d=$APP.D(d);f=$APP.E(d);var g=$APP.G(d);d=f;f=$APP.N(d,0,null);d=$APP.N(d,1,null);var h=g;g=$APP.D(h);var n=$APP.E(g);$APP.G(g);g=$APP.N(n,0,null);n=$APP.N(n,1,null);var p=e;if(h)e=$APP.Vh($APP.Uk.g(a)),c=$APP.Hd(pD.h($APP.O(b,new $APP.T(null,2,5,$APP.V,[f,d],null)),$APP.O(b,new $APP.T(null,2,5,$APP.V,[g,n],null))))?$APP.W.i(p,c,new $APP.l(null,6,[$APP.yw,"wire",$APP.yy,$APP.AA,$APP.Ru,f,$APP.Su,d,$APP.Zy,g-f,$APP.Yy,n-d],null)):p,f=e,
d=h,e=c;else{a=p;break a}}a=void 0}return $APP.X.i(CB,$APP.Ip.h($APP.Yt,$APP.Zk),a)},rD=function(a){var b=document.querySelector(".mosaic-canvas").getScreenCTM().inverse();a=DOMPointReadOnly.fromPoint($APP.zl(new $APP.l(null,2,[$APP.Ru,a.clientX,$APP.Su,a.clientY],null))).matrixTransform(b);return new $APP.T(null,2,5,$APP.V,[a.x/50,a.y/50],null)},uD=function(a,b,c){return $APP.X.s(sD,$APP.lv,tD,function(d){var e=$APP.N(d,0,null),f=$APP.N(d,1,null),g=$APP.N(d,2,null);d=$APP.N(d,3,null);var h=a*g*.1,
n=a*d*.1;return new $APP.T(null,4,5,$APP.V,[e-(b-e)/g*h,f-(c-f)/d*n,g+h,d+n],null)})},vD=function(a){var b=rD(a),c=$APP.N(b,0,null);b=$APP.N(b,1,null);return uD(a.deltaY>0?1:-1,c*50,b*50)},wD=function(a){var b=tD.g($APP.u(sD)),c=$APP.N(b,0,null),d=$APP.N(b,1,null),e=$APP.N(b,2,null);b=$APP.N(b,3,null);return uD(a,c+e/2,d+b/2)},xD=function(a){var b=pC($APP.yw.g(a)),c=$APP.wd($APP.Jj(b,":"));return $APP.X.s(CB,$APP.W,b,$APP.m($APP.Pj.g(a))?a:$APP.W.i(a,$APP.Pj,c))},BD=function(a){a=KC.i($APP.Ju,a,ZB);
return $APP.m($APP.u(yD))?$APP.X.s(yD,$APP.lv,$APP.yy,a):$APP.X.j(CB,zD,$APP.u(AD),$APP.lv,$APP.K([$APP.yy,a]))},DD=function(){var a=CD.g($APP.u(sD));$APP.X.s(sD,$APP.W,CD,$APP.Ph);return $APP.X.i(CB,function(b,c){return $APP.S.i($APP.lk,b,c)},a)},FD=function(a){return $APP.X.s(sD,$APP.lv,tD,function(b){var c=$APP.N(b,0,null),d=$APP.N(b,1,null),e=$APP.N(b,2,null);b=$APP.N(b,3,null);var f=document.querySelector(".mosaic-canvas").getScreenCTM().inverse();f.e=0;f.f=0;var g=$APP.u(ED);var h=$APP.N(g,
0,null);var n=$APP.N(g,1,null);g=a.clientX;var p=a.clientY;f=DOMPointReadOnly.fromPoint($APP.zl(new $APP.l(null,2,[$APP.Ru,g-h,$APP.Su,p-n],null))).matrixTransform(f);$APP.tf(ED,new $APP.T(null,2,5,$APP.V,[g,p],null));h=new $APP.T(null,2,5,$APP.V,[f.x,f.y],null);f=$APP.N(h,0,null);h=$APP.N(h,1,null);return new $APP.T(null,4,5,$APP.V,[c-f,d-h,e,b],null)})},ID=function(a){var b=rD(a);a=$APP.N(b,0,null);b=$APP.N(b,1,null);var c=GD.g($APP.u(sD)),d=$APP.N(c,0,null);c=$APP.N(c,1,null);return $APP.X.j(HD,
$APP.W,$APP.Ru,a-d,$APP.K([$APP.Su,b-c]))},JD=function(a){var b=rD(a),c=$APP.N(b,0,null),d=$APP.N(b,1,null);return $APP.X.h(yD,function(e){var f=c-$APP.Ru.g(e)-.5,g=d-$APP.Su.g(e)-.5;return $APP.m(a.ctrlKey)?$APP.W.j(e,$APP.Zy,f,$APP.K([$APP.Yy,g])):Math.abs(f)>Math.abs(g)?$APP.W.j(e,$APP.Zy,f,$APP.K([$APP.Yy,0])):$APP.W.j(e,$APP.Zy,0,$APP.K([$APP.Yy,g]))})},LD=function(a){var b=KD.g($APP.u(sD));switch(b instanceof $APP.P?b.ea:null){case "nyancad.mosaic.editor/view":return FD(a);case "nyancad.mosaic.editor/wire":return JD(a);
case "nyancad.mosaic.editor/device":return ID(a);case "nyancad.mosaic.editor/box":return ID(a);default:return null}},PD=function(a,b){if($APP.I.h(b.buttons,1)&&$APP.I.h($APP.u(MD),ND)&&!$APP.Wd($APP.u(OD),a)){var c=$APP.Rm(1);$APP.wm(function(){var d=function(){return function(){function f(n){for(;;){a:{try{for(;;){var p=void 0,q=n,t=q[1];if(t===1){var w=$APP.X.i(OD,$APP.Ae,a),y=$APP.X.i(CB,$APP.lk,a);q[7]=w;p=q;var z=$APP.Om(p,2,y)}else if(t===2){var A=q[2],F=$APP.X.i(OD,$APP.gv,a);q[8]=A;p=q;z=
$APP.Pm(p,F)}else z=null;if(!$APP.Q(z,$APP.Z)){var J=z;break a}}}catch(M){J=M;n[2]=J;if($APP.D(n[4]))n[1]=$APP.E(n[4]);else throw J;J=$APP.Z;break a}J=void 0}if(!$APP.Q(J,$APP.Z))return J}}function g(){var n=[null,null,null,null,null,null,null,null,null];n[0]=h;n[1]=1;return n}var h=null;h=function(n){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,n)}throw Error("Invalid arity: "+arguments.length);};h.m=g;h.g=f;return h}()}(),e=function(){var f=d();f[6]=c;return f}();
return $APP.Nm(e)});return c}return null},SD=function(a){$APP.X.s(sD,$APP.W,QD,rD(a));var b=$APP.u(MD);switch(b instanceof $APP.P?b.ea:null){case "nyancad.mosaic.editor/wire":a:switch(b=KD.g($APP.u(sD)),b instanceof $APP.P?b.ea:null){case "nyancad.mosaic.editor/view":a=FD(a);break a;case "nyancad.mosaic.editor/wire":a=JD(a);break a;default:a=null}return a;case "nyancad.mosaic.editor/pan":return a.buttons>0?FD(a):null;case "nyancad.mosaic.editor/device":if($APP.I.h(KD.g($APP.u(sD)),RD))a=FD(a);else{b=
rD(a);a=$APP.N(b,0,null);b=$APP.N(b,1,null);var c=$APP.Hf(TC,new $APP.T(null,2,5,$APP.V,[$APP.yw.g($APP.u(yD)),iD],null)),d=$APP.N(c,0,null);c=$APP.N(c,1,null);a=$APP.X.j(yD,$APP.W,$APP.Ru,Math.round(a-d-.5),$APP.K([$APP.Su,Math.round(b-c-.5)]))}return a;default:return LD(a)}},VD=function(a){var b=$APP.N(a,0,null);a=$APP.N(a,1,null);return $APP.X.j(sD,$APP.W,TD,new $APP.l(null,5,[$APP.yw,"wire",$APP.Ru,Math.floor(b),$APP.Su,Math.floor(a),$APP.Zy,0,$APP.Yy,0],null),$APP.K([KD,UD]))},WD=function(a,
b){var c=$APP.N(a,0,null);a=$APP.N(a,1,null);if($APP.m(b))return VD(new $APP.T(null,2,5,$APP.V,[c,a],null));var d=zD.i($APP.u(yD),new $APP.Oh(null,new $APP.l(null,2,[$APP.Zy,null,$APP.Yy,null],null),null),Math.round);c=$APP.af(d);b=$APP.O(c,$APP.Zy);c=$APP.O(c,$APP.Yy);var e=Math.round($APP.Ru.g(d)+b),f=Math.round($APP.Su.g(d)+c),g=$APP.u(oD);a=$APP.N(g,0,null);g=$APP.N(g,1,null);a=$APP.Wd(a,new $APP.T(null,2,5,$APP.V,[e,f],null))||$APP.Wd(g,new $APP.T(null,2,5,$APP.V,[e,f],null));if(Math.abs(b)<
.5&&Math.abs(c)<.5)return $APP.X.j(sD,$APP.W,TD,null,$APP.K([KD,null]));if(a){var h=$APP.Rm(1);$APP.wm(function(){var n=function(){return function(){function q(y){for(;;){a:{try{for(;;){var z=y,A=z[1];if(A===1){var F=xD(d);var J=$APP.Om(z,2,F)}else if(A===2){var M=z[2],U=$APP.X.j(sD,$APP.W,TD,null,$APP.K([KD,null]));z[7]=M;J=$APP.Pm(z,U)}else J=null;if(!$APP.Q(J,$APP.Z)){var Y=J;break a}}}catch(da){Y=da;y[2]=Y;if($APP.D(y[4]))y[1]=$APP.E(y[4]);else throw Y;Y=$APP.Z;break a}Y=void 0}if(!$APP.Q(Y,$APP.Z))return Y}}
function t(){var y=[null,null,null,null,null,null,null,null];y[0]=w;y[1]=1;return y}var w=null;w=function(y){switch(arguments.length){case 0:return t.call(this);case 1:return q.call(this,y)}throw Error("Invalid arity: "+arguments.length);};w.m=t;w.g=q;return w}()}(),p=function(){var q=n();q[6]=h;return q}();return $APP.Nm(p)})}else h=$APP.Rm(1),$APP.wm(function(){var n=function(){return function(){function q(y){for(;;){a:{try{for(;;){var z=y,A=z[1];if(A===1){var F=xD(d);var J=$APP.Om(z,2,F)}else if(A===
2){var M=z[2],U=VD(new $APP.T(null,2,5,$APP.V,[e,f],null));z[7]=M;J=$APP.Pm(z,U)}else J=null;if(!$APP.Q(J,$APP.Z)){var Y=J;break a}}}catch(da){Y=da;y[2]=Y;if($APP.D(y[4]))y[1]=$APP.E(y[4]);else throw Y;Y=$APP.Z;break a}Y=void 0}if(!$APP.Q(Y,$APP.Z))return Y}}function t(){var y=[null,null,null,null,null,null,null,null];y[0]=w;y[1]=1;return y}var w=null;w=function(y){switch(arguments.length){case 0:return t.call(this);case 1:return q.call(this,y)}throw Error("Invalid arity: "+arguments.length);};w.m=
t;w.g=q;return w}()}(),p=function(){var q=n();q[6]=h;return q}();return $APP.Nm(p)});return h},XD=function(){function a(h,n){return $APP.I.h($APP.yw.g(n),"wire")?$APP.Ae.j(h,new $APP.T(null,2,5,$APP.V,[$APP.Ru.g(n),$APP.Su.g(n)],null),$APP.K([new $APP.T(null,2,5,$APP.V,[$APP.Ru.g(n)+$APP.Zy.g(n),$APP.Su.g(n)+$APP.Yy.g(n)],null)])):h}function b(h){h=$APP.O(c,h);var n=$APP.I.h($APP.yw.g(h),"wire");return n?h:n}var c=$APP.u(CB),d=$APP.kf(c,$APP.u(AD));if($APP.m(d)){var e=a($APP.Ph,d);for(d=$APP.Qh([$APP.$m.g(d)]);;)if($APP.D(e)){var f=
$APP.u(oD),g=$APP.N(f,0,null);$APP.N(f,1,null);f=$APP.Cz.h($APP.Th($APP.Ff(b,$APP.Ef(g,$APP.K([e])))),d);g=$APP.cb(a,$APP.Ph,$APP.wf.h(c,f));e=$APP.Cz.h(g,e);d=$APP.Kg.h(d,f)}else return $APP.tf(AD,d)}else return null},$D=function(){var a=$APP.u(sD),b=TD.g(a);a=$APP.m(b)?$APP.I.h(YD.g(a),UD):b;return $APP.m(a)?$APP.X.j(sD,$APP.W,KD,null,$APP.K([TD,null])):$APP.X.j(sD,$APP.W,KD,null,$APP.K([YD,ZD,TD,null]))},bE=function(a){$APP.Ci($APP.K([a]));return aE.postMessage(a)},dE=function(a,b){function c(g){return $APP.W.i(g,
KD,function(){var h=YD.g(g);h=h instanceof $APP.P?h.ea:null;switch(h){case "nyancad.mosaic.editor/cursor":return cE;case "nyancad.mosaic.editor/wire":return UD;case "nyancad.mosaic.editor/pan":return RD;case "nyancad.mosaic.editor/probe":return null;default:throw Error(["No matching clause: ",$APP.r.g(h)].join(""));}}())}function d(g){var h=$APP.Wd(g,a);return $APP.m(h?h:b.shiftKey)?(0,$APP.xA)(g,a):$APP.Qh([a])}$APP.X.s(sD,$APP.W,GD,rD(b));$APP.tf(ED,new $APP.T(null,2,5,$APP.V,[b.clientX,b.clientY],
null));var e=$APP.u(sD);if($APP.bf(YD.g(e),cE)&&$APP.I.h(b.button,0))if(b.stopPropagation(),$APP.I.h(b.detail,1)){var f=YD.g(e);switch(f instanceof $APP.P?f.ea:null){case "nyancad.mosaic.editor/wire":return WD(rD(b),KD.g(e)==null);case "nyancad.mosaic.editor/eraser":return PD(a,b);case "nyancad.mosaic.editor/probe":return bE(a);default:return $APP.X.h(sD,function(g){return c($APP.lv.i(g,CD,d))})}}else switch(e=YD.g(e),e=e instanceof $APP.P?e.ea:null,e){case "nyancad.mosaic.editor/cursor":return XD();
case "nyancad.mosaic.editor/wire":return $D();default:throw Error(["No matching clause: ",$APP.r.g(e)].join(""));}else return null},fE=function(a){$APP.tf(ED,new $APP.T(null,2,5,$APP.V,[a.clientX,a.clientY],null));return $APP.I.h(a.button,1)?$APP.X.s(sD,$APP.W,KD,RD):$APP.I.h(a.button,0)&&$APP.I.h(null,KD.g($APP.u(sD)))&&$APP.I.h(ZD,$APP.u(MD))?$APP.X.j(sD,$APP.W,CD,$APP.Ph,$APP.K([KD,eE,GD,rD(a)])):$APP.I.h(a.button,0)&&$APP.I.h(UD,$APP.u(MD))?WD(rD(a),KD.g($APP.u(sD))==null):null},gE=function(a){var b=
KD.g($APP.u(sD));b=$APP.m(b)?b:$APP.bf(YD.g($APP.u(sD)),ZD);return $APP.m(b)?($D(),a.preventDefault()):null},pE=function(a,b,c,d){b=$APP.O($APP.Ad(TC,$APP.yw.g(b),new $APP.l(null,3,[iD,new $APP.Oc(function(){return YC},hE,$APP.oh([$APP.gu,$APP.Pj,$APP.hu,$APP.iu,$APP.ju,$APP.fq,$APP.ku,$APP.lu,$APP.Xm,$APP.mu],[iE,jE,"nyancad/mosaic/editor.cljs",20,1,358,358,$APP.Kj(new $APP.T(null,2,5,$APP.V,[$APP.Hy,$APP.Ky],null)),null,$APP.m(YC)?YC.Rc:null])),hD,new $APP.Oc(function(){return ZC},kE,$APP.oh([$APP.gu,
$APP.Pj,$APP.hu,$APP.iu,$APP.ju,$APP.fq,$APP.ku,$APP.lu,$APP.Xm,$APP.mu],[iE,lE,"nyancad/mosaic/editor.cljs",19,1,363,363,$APP.Kj(new $APP.T(null,2,5,$APP.V,[$APP.Hy,$APP.Ky],null)),null,$APP.m(ZC)?ZC.Rc:null])),mE,new $APP.Oc(function(){return dD},nE,$APP.oh([$APP.gu,$APP.Pj,$APP.hu,$APP.iu,$APP.ju,$APP.fq,$APP.ku,$APP.lu,$APP.Xm,$APP.mu],[iE,oE,"nyancad/mosaic/editor.cljs",18,1,373,373,$APP.Kj(new $APP.T(null,2,5,$APP.V,[$APP.Hy,$APP.Ky],null)),null,$APP.m(dD)?dD.Rc:null]))],null)),a);return $APP.Dd(b)?
$APP.Fd(new $APP.T(null,3,5,$APP.V,[b,c,d],null),new $APP.l(null,1,[$APP.Sj,c],null)):$APP.I.h(a,iD)?$APP.Fd(new $APP.T(null,4,5,$APP.V,[CC,b,c,d],null),new $APP.l(null,1,[$APP.Sj,c],null)):$APP.I.h(a,hD)?$APP.Fd(new $APP.T(null,6,5,$APP.V,[DC,fC(b),b,xC,c,d],null),new $APP.l(null,1,[$APP.Sj,c],null)):$APP.Fd(new $APP.T(null,1,5,$APP.V,[function(e){return $APP.Ci($APP.K(["invalid model for",e]))}],null),new $APP.l(null,1,[$APP.Sj,c],null))},rE=function(a,b,c,d){function e(f,g){return $APP.lv.i(f,
CD,function(h){return $APP.Kg.i($APP.Ph,BB(function(n){return $APP.Wd(g,n)}),h)})}$APP.X.h(sD,function(f){f=$APP.W.j(f,KD,null,$APP.K([qE,new $APP.l(null,4,[$APP.Ru,0,$APP.Su,0,$APP.Zy,0,$APP.Yy,0],null)]));f=$APP.m(a)?$APP.W.i(f,CD,$APP.Ph):f;return e(f,$APP.u(CB))});return $APP.X.s(CB,zD,b,function(f){f=$APP.af(f);var g=$APP.O(f,$APP.Ru),h=$APP.O(f,$APP.Su);return $APP.W.j(f,$APP.Ru,Math.round(g+c),$APP.K([$APP.Su,Math.round(h+d)]))})},tE=function(){var a=GD.g($APP.u(sD)),b=$APP.N(a,0,null),c=$APP.N(a,
1,null),d=qE.g($APP.u(sD)),e=$APP.af(d),f=$APP.O(e,$APP.Ru),g=$APP.O(e,$APP.Su),h=Math.floor(Math.min(b,b+f)),n=Math.floor(Math.min(c,c+g)),p=Math.floor(Math.max(b,b+f)),q=Math.floor(Math.max(c,c+g)),t=$APP.u(oD),w=$APP.N(t,0,null),y=$APP.N(t,1,null),z=$APP.S.h(sE,function(){return function M(J){return new $APP.He(null,function(){for(var U=J;;){var Y=$APP.D(U);if(Y){var da=Y,ha=$APP.E(da);if(Y=$APP.D(function(Ia,Qa,ra,wa,xa,ua,ya,Ya,rc,cd,Ub,dd,Of,Jd,cc,mf,fe,sc){return function dc(ve){return new $APP.He(null,
function(Ac,jd,Pf,tj,Bh,Re,Ak,Ch,Ag,uj,vj,wj,ic,Ey,Fy,Gy,pp){return function(){for(;;){var aj=$APP.D(ve);if(aj){if($APP.Pd(aj)){var bg=$APP.tc(aj),cg=$APP.H(bg),dg=$APP.Ke(cg);a:{for(var Al=0;;)if(Al<cg){var Zh=$APP.yd(bg,Al),hn=dg;Zh=$APP.O(pp,new $APP.T(null,2,5,$APP.V,[jd,Zh],null));hn.add(Zh);Al+=1}else{bg=!0;break a}bg=void 0}return bg?$APP.Ne($APP.Pe(dg),dc($APP.uc(aj))):$APP.Ne($APP.Pe(dg),null)}dg=$APP.E(aj);return $APP.De($APP.O(pp,new $APP.T(null,2,5,$APP.V,[jd,dg],null)),dc($APP.Uc(aj)))}return null}}}(Ia,
Qa,ra,wa,xa,ua,ya,Ya,rc,cd,Ub,dd,Of,Jd,cc,mf,fe,sc),null,null)}}(U,ha,da,Y,a,b,c,d,e,f,g,h,n,p,q,t,w,y)($APP.di(n,q+1))))return $APP.Df.h(Y,M($APP.Uc(U)));U=$APP.Uc(U)}else return null}},null,null)}($APP.di(h,p+1))}()),A=$APP.S.i(sE,z,function(){return function M(J){return new $APP.He(null,function(){for(var U=J;;){var Y=$APP.D(U);if(Y){var da=Y,ha=$APP.E(da);if(Y=$APP.D(function(Ia,Qa,ra,wa,xa,ua,ya,Ya,rc,cd,Ub,dd,Of,Jd,cc,mf,fe,sc,Tc){return function Ac(dc){return new $APP.He(null,function(jd,Pf,
tj,Bh,Re,Ak,Ch,Ag,uj,vj,wj,ic,Ey,Fy,Gy,pp,aj,bg){return function(){for(;;){var cg=$APP.D(dc);if(cg){if($APP.Pd(cg)){var dg=$APP.tc(cg),Al=$APP.H(dg),Zh=$APP.Ke(Al);a:{for(var hn=0;;)if(hn<Al){var Ks=$APP.yd(dg,hn),HG=Zh;Ks=$APP.O(bg,new $APP.T(null,2,5,$APP.V,[Pf,Ks],null));HG.add(Ks);hn+=1}else{dg=!0;break a}dg=void 0}return dg?$APP.Ne($APP.Pe(Zh),Ac($APP.uc(cg))):$APP.Ne($APP.Pe(Zh),null)}Zh=$APP.E(cg);return $APP.De($APP.O(bg,new $APP.T(null,2,5,$APP.V,[Pf,Zh],null)),Ac($APP.Uc(cg)))}return null}}}(Ia,
Qa,ra,wa,xa,ua,ya,Ya,rc,cd,Ub,dd,Of,Jd,cc,mf,fe,sc,Tc),null,null)}}(U,ha,da,Y,a,b,c,d,e,f,g,h,n,p,q,t,w,y,z)($APP.di(n,q+1))))return $APP.Df.h(Y,M($APP.Uc(U)));U=$APP.Uc(U)}else return null}},null,null)}($APP.di(h,p+1))}());$APP.Ci($APP.K([h,n,p,q,A]));return $APP.X.j(sD,$APP.W,KD,null,$APP.K([qE,new $APP.l(null,4,[$APP.Ru,0,$APP.Su,0,$APP.Zy,0,$APP.Yy,0],null),CD,$APP.Th(A)]))},uE=function(a){a.stopPropagation();var b=$APP.I.h(a.target,a.currentTarget),c=CD.g($APP.u(sD)),d=$APP.u(HD),e=$APP.af(d);
d=$APP.O(e,$APP.Ru);e=$APP.O(e,$APP.Su);return $APP.I.h(YD.g($APP.u(sD)),cE)&&$APP.I.h(a.button,0)?xD($APP.u(yD)):$APP.I.h(KD.g($APP.u(sD)),eE)?tE():$APP.I.h(KD.g($APP.u(sD)),UD)?null:rE(b,c,d,e)},wE=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=2<b.length?new $APP.C(b.slice(2),0,null):null;return vE(arguments[0],arguments[1],b)},vE=function(a,b,c){var d=$APP.N(b,0,null);b=$APP.N(b,1,null);c=$APP.S.h($APP.Qi,c);var e=$APP.Hf(TC,new $APP.T(null,2,5,
$APP.V,[a,iD],null)),f=$APP.N(e,0,null);e=$APP.N(e,1,null);return $APP.X.j(sD,$APP.W,TD,$APP.Kg.h(new $APP.l(null,4,[$APP.yy,$APP.AA,$APP.yw,a,$APP.Ru,Math.round(d-f/2-1),$APP.Su,Math.round(b-e/2-1)],null),c),$APP.K([YD,cE]))},xE=function(){var a=['\x3c?xml-stylesheet type\x3d"text/css" href\x3d"https://nyancad.github.io/Mosaic/app/css/style.css" ?\x3e',$APP.r.g(document.querySelector(".mosaic-canvas").outerHTML)].join("");return btoa($APP.Dj(encodeURIComponent(a),/%([0-9A-F]{2})/,function(b){return String.fromCharCode(["0x",
$APP.r.g($APP.od(b,1))].join(""))}))},CE=function(){return $APP.X.s(yE,$APP.W,["snapshots:",$APP.r.g(oC),"#",$APP.r.g((new Date).toISOString())].join(""),new $APP.l(null,2,[zE,$APP.u(CB),AE,new $APP.l(null,1,["preview.svg",new $APP.l(null,2,[BE,"image/svg+xml",$APP.Uv,xE()],null)],null)],null))},FE=function(a){var b=$APP.Ul(CB,new $APP.T(null,2,5,$APP.V,[a,$APP.Fw],null)),c=$APP.Ul(CB,new $APP.T(null,2,5,$APP.V,[a,$APP.yw],null)),d=$APP.Ul(CB,new $APP.T(null,2,5,$APP.V,[a,$APP.Pj],null));return function(e){return new $APP.T(null,
3,5,$APP.V,[$APP.pz,new $APP.T(null,4,5,$APP.V,[$APP.Ox,$APP.Hf($APP.u(kC),new $APP.T(null,2,5,$APP.V,[$APP.u(c),$APP.Pj],null)),": ",function(){var f=$APP.u(d);return $APP.m(f)?f:e}()],null),new $APP.T(null,9,5,$APP.V,[$APP.Gv,$APP.Wd(TC,$APP.u(c))?null:new $APP.T(null,4,5,$APP.V,[$APP.pz,new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,1,[$APP.xz,$C($APP.Sy.g($APP.u(b)))],null),"Edit"],null),new $APP.T(null,3,5,$APP.V,[$APP.Vw,new $APP.l(null,2,[$APP.ky,"cell",$APP.dw,"cell name"],null),"cell"],
null),new $APP.T(null,4,5,$APP.V,[$APP.Iw,new $APP.l(null,4,[$APP.Ml,"cell",$APP.uz,"text",$APP.Qv,$APP.u(c),$APP.hw,function(f){return $APP.tf(c,f.target.value)}],null),new $APP.T(null,1,5,$APP.V,[$APP.Wx],null),function(){return function h(g){return new $APP.He(null,function(){for(;;){var n=$APP.D(g);if(n){if($APP.Pd(n)){var p=$APP.tc(n),q=$APP.H(p),t=$APP.Ke(q);a:{for(var w=0;;)if(w<q){var y=$APP.yd(p,w),z=$APP.N(y,0,null),A=$APP.N(y,1,null);y=t;z=new $APP.T(null,3,5,$APP.V,[$APP.Wx,new $APP.l(null,
2,[$APP.Sj,z,$APP.uw,z],null),$APP.Pj.g(A)],null);y.add(z);w+=1}else{p=!0;break a}p=void 0}return p?$APP.Ne($APP.Pe(t),h($APP.uc(n))):$APP.Ne($APP.Pe(t),null)}p=$APP.E(n);t=$APP.N(p,0,null);p=$APP.N(p,1,null);return $APP.De(new $APP.T(null,3,5,$APP.V,[$APP.Wx,new $APP.l(null,2,[$APP.Sj,t,$APP.uw,t],null),$APP.Pj.g(p)],null),h($APP.Uc(n)))}return null}},null,null)}($APP.u(kC))}()],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Vw,new $APP.l(null,2,[$APP.ky,"name",$APP.dw,"Instance name"],null),"name"],
null),new $APP.T(null,2,5,$APP.V,[$APP.rx,new $APP.l(null,4,[$APP.Ml,"name",$APP.uz,"text",$APP.Qv,$APP.u(d),$APP.hw,$APP.ma(function(f){return $APP.tf(d,f.target.value)})],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Vw,new $APP.l(null,2,[$APP.ky,"model",$APP.dw,"Device model"],null),"model"],null),new $APP.T(null,4,5,$APP.V,[$APP.Iw,new $APP.l(null,4,[$APP.Ml,"model",$APP.uz,"text",$APP.Qv,$APP.Sy.g($APP.u(b)),$APP.hw,function(f){return $APP.X.s(b,$APP.W,$APP.Sy,f.target.value)}],null),new $APP.T(null,
3,5,$APP.V,[$APP.Wx,new $APP.l(null,1,[$APP.uw,""],null),"Ideal"],null),function(){return function h(g){return new $APP.He(null,function(){for(;;){var n=$APP.D(g);if(n){if($APP.Pd(n)){var p=$APP.tc(n),q=$APP.H(p),t=$APP.Ke(q);a:{for(var w=0;;)if(w<q){var y=$APP.yd(p,w),z=$APP.N(y,0,null),A=$APP.N(y,1,null);y=t;z=new $APP.T(null,3,5,$APP.V,[$APP.Wx,new $APP.l(null,2,[$APP.Sj,z,$APP.uw,z],null),$APP.Pj.g(A)],null);y.add(z);w+=1}else{p=!0;break a}p=void 0}return p?$APP.Ne($APP.Pe(t),h($APP.uc(n))):$APP.Ne($APP.Pe(t),
null)}p=$APP.E(n);t=$APP.N(p,0,null);p=$APP.N(p,1,null);return $APP.De(new $APP.T(null,3,5,$APP.V,[$APP.Wx,new $APP.l(null,2,[$APP.Sj,t,$APP.uw,t],null),$APP.Pj.g(p)],null),h($APP.Uc(n)))}return null}},null,null)}($APP.Hf($APP.u(kC),new $APP.T(null,2,5,$APP.V,[$APP.u(c),$APP.fw],null)))}()],null),$APP.hi(function(){return function h(g){return new $APP.He(null,function(){for(;;){var n=$APP.D(g);if(n){var p=n;if($APP.Pd(p)){var q=$APP.tc(p),t=$APP.H(q),w=$APP.Ke(t);return function(){for(var F=0;;)if(F<
t){var J=$APP.yd(q,F),M=$APP.N(J,0,null),U=$APP.N(J,1,null);$APP.Oe(w,new $APP.T(null,4,5,$APP.V,[$APP.pz,new $APP.l(null,1,[$APP.Sj,M],null),new $APP.T(null,3,5,$APP.V,[$APP.Vw,new $APP.l(null,2,[$APP.ky,M,$APP.dw,DE.g(U)],null),M],null),new $APP.T(null,2,5,$APP.V,[$APP.rx,new $APP.l(null,4,[$APP.Ml,M,$APP.uz,"text",$APP.Qv,$APP.O($APP.u(b),M),$APP.hw,$APP.ma(function(Y,da,ha,Ia,Qa,ra,wa,xa,ua,ya){return function(Ya){return $APP.X.s(ya,$APP.W,ha,Ya.target.value)}}(F,J,M,U,q,t,w,p,n,b,c,d))],null)],
null)],null));F+=1}else return!0}()?$APP.Ne($APP.Pe(w),h($APP.uc(p))):$APP.Ne($APP.Pe(w),null)}var y=$APP.E(p),z=$APP.N(y,0,null),A=$APP.N(y,1,null);return $APP.De(new $APP.T(null,4,5,$APP.V,[$APP.pz,new $APP.l(null,1,[$APP.Sj,z],null),new $APP.T(null,3,5,$APP.V,[$APP.Vw,new $APP.l(null,2,[$APP.ky,z,$APP.dw,DE.g(A)],null),z],null),new $APP.T(null,2,5,$APP.V,[$APP.rx,new $APP.l(null,4,[$APP.Ml,z,$APP.uz,"text",$APP.Qv,$APP.O($APP.u(b),z),$APP.hw,$APP.ma(function(F,J,M,U,Y,da){return function(ha){return $APP.X.s(da,
$APP.W,J,ha.target.value)}}(y,z,A,p,n,b,c,d))],null)],null)],null),h($APP.Uc(p)))}return null}},null,null)}(EE.g($APP.O(TC,$APP.u(c))))}()),new $APP.T(null,3,5,$APP.V,[$APP.Vw,new $APP.l(null,2,[$APP.ky,"template",$APP.dw,"Template to display"],null),"Text"],null),new $APP.T(null,2,5,$APP.V,[$APP.ny,new $APP.l(null,3,[$APP.Ml,"template",$APP.Qv,FB($APP.u(CB),new $APP.T(null,2,5,$APP.V,[e,RC],null),SC.g($APP.O(TC,$APP.u(c)))),$APP.hw,$APP.ma(function(f){return $APP.X.s(CB,$APP.jv,new $APP.T(null,2,
5,$APP.V,[e,RC],null),f.target.value)})],null)],null)],null)],null)}},HE=function(){var a=$APP.u(AD),b=$APP.u(CB);a=$APP.wf.h(KC.h(function(c){return $APP.lk.j(c,$APP.bn,$APP.K([$APP.$m]))},b),a);return $APP.X.s(GE,$APP.W,"local:clipboard",new $APP.l(null,1,[$APP.Uv,a],null))},IE=function(){HE();return DD()},JE=function(){var a=$APP.Hf($APP.u(GE),new $APP.T(null,2,5,$APP.V,["local:clipboard",$APP.Uv],null)),b=$APP.wf.g(function(c){return new $APP.T(null,2,5,$APP.V,[$APP.Vh($APP.Uk.g(pC($APP.yw.g(c)))),
$APP.lv.i(c,$APP.Pj,$APP.Uk)],null)});a=$APP.Kg.i($APP.R,b,a);$APP.X.i(CB,$APP.Kg,a);return $APP.X.j(sD,$APP.W,KD,cE,$APP.K([CD,$APP.Th($APP.Hh(a))]))},KE=function(){var a=new URLSearchParams({schem:oC});return["notebook/?",$APP.r.g(a.toString())].join("")},TE=function(){return new $APP.T(null,4,5,$APP.V,[$APP.pz,new $APP.T(null,16,5,$APP.V,[LE,new $APP.T(null,3,5,$APP.V,[$APP.yB,MD,new $APP.T(null,5,5,$APP.V,[new $APP.T(null,4,5,$APP.V,[new $APP.T(null,1,5,$APP.V,[$APP.cB],null),new $APP.T(null,
1,5,$APP.V,[$APP.cB],null),ZD,"Cursor [esc]"],null),new $APP.T(null,4,5,$APP.V,[new $APP.T(null,1,5,$APP.V,[$APP.fB],null),new $APP.T(null,1,5,$APP.V,[$APP.fB],null),UD,"Wire [w]"],null),new $APP.T(null,4,5,$APP.V,[new $APP.T(null,1,5,$APP.V,[$APP.dB],null),new $APP.T(null,1,5,$APP.V,[$APP.dB],null),ND,"Eraser [e]"],null),new $APP.T(null,4,5,$APP.V,[new $APP.T(null,1,5,$APP.V,[$APP.eB],null),new $APP.T(null,1,5,$APP.V,[$APP.eB],null),ME,"Pan [space]"],null),new $APP.T(null,4,5,$APP.V,[new $APP.T(null,
1,5,$APP.V,[$APP.pB],null),new $APP.T(null,1,5,$APP.V,[$APP.pB],null),NE,"Probe nodes in a connected simulator"],null)],null)],null),new $APP.T(null,1,5,$APP.V,[OE],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.dw,"Rotate selected clockwise [s]",$APP.iy,function(){return BD(function(a){return a.rotate(90)})}],null),new $APP.T(null,1,5,$APP.V,[$APP.ZA],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.dw,"Rotate selected counter-clockwise [shift+s]",$APP.iy,
function(){return BD(function(a){return a.rotate(-90)})}],null),new $APP.T(null,1,5,$APP.V,[$APP.$A],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.dw,"Mirror selected horizontal [shift+f]",$APP.iy,function(){return BD(function(a){return a.flipY()})}],null),new $APP.T(null,1,5,$APP.V,[$APP.bB],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.dw,"Mirror selected vertical [f]",$APP.iy,function(){return BD(function(a){return a.flipX()})}],null),new $APP.T(null,
1,5,$APP.V,[$APP.aB],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.dw,"Delete selected [del]",$APP.iy,function(){return DD()}],null),new $APP.T(null,1,5,$APP.V,[$APP.hB],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.dw,"Copy selected [ctrl+c]",$APP.iy,function(){return HE()}],null),new $APP.T(null,1,5,$APP.V,[$APP.jB],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.dw,"Cut selected [ctrl+x]",$APP.iy,function(){return IE()}],
null),new $APP.T(null,1,5,$APP.V,[$APP.kB],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.dw,"Paste [ctrl+v]",$APP.iy,function(){return JE()}],null),new $APP.T(null,1,5,$APP.V,[$APP.lB],null)],null),new $APP.T(null,1,5,$APP.V,[OE],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.dw,"zoom in [scroll wheel/pinch]",$APP.iy,function(){return wD(-1)}],null),new $APP.T(null,1,5,$APP.V,[$APP.VA],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,
[$APP.dw,"zoom out [scroll wheel/pinch]",$APP.iy,function(){return wD(1)}],null),new $APP.T(null,1,5,$APP.V,[$APP.WA],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.dw,"undo [ctrl+z]",$APP.iy,sC],null),new $APP.T(null,1,5,$APP.V,[$APP.YA],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.dw,"redo [ctrl+shift+z]",$APP.iy,tC],null),new $APP.T(null,1,5,$APP.V,[$APP.XA],null)],null)],null),new $APP.T(null,5,5,$APP.V,[PE,new $APP.T(null,4,5,$APP.V,[$APP.Iw,
new $APP.l(null,4,[$APP.Ml,"cell",$APP.uz,"text",$APP.uw,$APP.Ad($APP.u(QE),$APP.ti.g(oC),"models:top"),$APP.hw,function(a){var b=$APP.Ad($APP.u(QE),$APP.ti.g(oC),"models:top");a=a.target.value;var c=$APP.Hf($APP.u(kC),new $APP.T(null,3,5,$APP.V,[b,$APP.fw,$APP.ti.g(oC)],null));$APP.X.j(kC,$APP.kv,new $APP.T(null,2,5,$APP.V,[b,$APP.fw],null),$APP.lk,$APP.K([$APP.ti.g(oC)]));return $APP.X.j(kC,$APP.kv,new $APP.T(null,2,5,$APP.V,[a,$APP.fw],null),$APP.W,$APP.K([$APP.ti.g(oC),c]))}],null),new $APP.T(null,
3,5,$APP.V,[$APP.Wx,new $APP.l(null,1,[$APP.uw,"models:top"],null),"top"],null),function(){return function c(b){return new $APP.He(null,function(){for(var d=b;;)if(d=$APP.D(d)){if($APP.Pd(d)){var e=$APP.tc(d),f=$APP.H(e),g=$APP.Ke(f);a:{for(var h=0;;)if(h<f){var n=$APP.yd(e,h),p=$APP.N(n,0,null),q=$APP.N(n,1,null);$APP.bf(p,"models:top")&&(n=g,p=new $APP.T(null,3,5,$APP.V,[$APP.Wx,new $APP.l(null,2,[$APP.Sj,p,$APP.uw,p],null),$APP.Pj.g(q)],null),n.add(p));h+=1}else{e=!0;break a}e=void 0}return e?
$APP.Ne($APP.Pe(g),c($APP.uc(d))):$APP.Ne($APP.Pe(g),null)}e=$APP.E(d);g=$APP.N(e,0,null);e=$APP.N(e,1,null);if($APP.bf(g,"models:top"))return $APP.De(new $APP.T(null,3,5,$APP.V,[$APP.Wx,new $APP.l(null,2,[$APP.Sj,g,$APP.uw,g],null),$APP.Pj.g(e)],null),c($APP.Uc(d)));d=$APP.Uc(d)}else return null},null,null)}($APP.u(kC))}()],null),"/",$APP.zB.h($APP.Ul(kC,new $APP.T(null,4,5,$APP.V,[$APP.Ad($APP.u(QE),$APP.ti.g(oC),"models:top"),$APP.fw,$APP.ti.g(oC),$APP.Pj],null)),"new schematic"),$APP.m($APP.u(RE))?
new $APP.T(null,3,5,$APP.V,[$APP.vw,new $APP.l(null,1,[$APP.dw,"saving changes"],null),new $APP.T(null,1,5,$APP.V,[$APP.uB],null)],null):new $APP.T(null,3,5,$APP.V,[$APP.qy,new $APP.l(null,1,[$APP.dw,"changes saved"],null),new $APP.T(null,1,5,$APP.V,[$APP.vB],null)],null)],null),new $APP.T(null,4,5,$APP.V,[SE,new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,3,[$APP.xz,"library",$APP.zz,"libman",$APP.dw,"Open library manager"],null),new $APP.T(null,1,5,$APP.V,[$APP.nB],null)],null),new $APP.T(null,
3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.dw,"Save Snapshot",$APP.iy,CE],null),new $APP.T(null,1,5,$APP.V,[$APP.iB],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.Ly,new $APP.l(null,2,[$APP.xz,"/auth/",$APP.dw,"Login / Account"],null),new $APP.T(null,1,5,$APP.V,[$APP.oB],null)],null)],null)],null)},UE=function(a){return $APP.I.h(a,$APP.yw.g($APP.u(yD)))?"active":null},WE=function(a){return new $APP.T(null,2,5,$APP.V,[$APP.qz,new $APP.l(null,1,[VE,new $APP.sl(function(){switch(a){case "resistor":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"40"\n   height\x3d"40"\n   viewBox\x3d"0 0 40 40"\n   version\x3d"1.1"\n   id\x3d"svg4"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs8" /\x3e\n  \x3cpath\n     style\x3d"stroke-width:0.078125"\n     d\x3d"M 9.8046875,27.745269 C 9.6757813,27.665644 9.5060914,27.52819 9.4275984,27.439816 9.3491055,27.351441 8.657132,25.720431 7.8898797,23.815348 L 6.4948748,20.351562 3.2474374,20.331174 0,20.310786 v -1.291648 -1.291649 l 3.8476563,0.02297 c 4.2008273,0.02508 4.124189,0.01681 4.4927023,0.485294 0.083066,0.105602 0.530325,1.134624 0.9939078,2.286717 0.463582,1.152092 0.8821216,2.171499 0.9300866,2.265348 0.07522,0.147166 0.311909,-0.459912 1.720999,-4.414063 2.17264,-6.096808 2.039651,-5.759082 2.365731,-6.007795 0.394424,-0.300842 1.053204,-0.341453 1.422983,-0.08772 0.14644,0.100482 0.329544,0.270586 0.406898,0.378008 0.07735,0.107422 0.951591,2.408115 1.942751,5.112651 0.991158,2.704536 1.814905,4.930136 1.830548,4.945778 0.01564,0.01564 0.09878,-0.175676 0.184751,-0.425151 1.768011,-5.13049 3.319902,-9.515212 3.423924,-9.673968 0.273606,-0.417575 1.102947,-0.64298 1.539854,-0.418514 0.476521,0.244818 0.586034,0.464627 2.764406,5.548616 1.194064,2.786761 2.189705,5.066838 2.212536,5.066838 0.02283,0 0.338643,-0.955898 0.701803,-2.124218 0.363159,-1.16832 0.731506,-2.229896 0.818548,-2.359058 0.08704,-0.129161 0.281186,-0.307052 0.431431,-0.395312 0.264028,-0.155103 0.401958,-0.161243 4.120828,-0.183449 L 40,17.727489 v 1.292506 1.292505 h -3.19977 -3.199771 l -0.388987,1.230469 c -0.213942,0.676758 -0.694671,2.214843 -1.068285,3.417968 -0.433867,1.397154 -0.749885,2.282233 -0.874666,2.449697 -0.487603,0.654392 -1.568162,0.630667 -2.018859,-0.04433 -0.12436,-0.186251 -3.150054,-7.151412 -4.386126,-10.096882 -0.08515,-0.202911 -0.128732,-0.241578 -0.176102,-0.15625 -0.03462,0.06236 -0.843722,2.361993 -1.798,5.110288 -0.954279,2.748295 -1.792639,5.075017 -1.863025,5.170493 -0.202047,0.274079 -0.662052,0.49667 -1.026409,0.49667 -0.362897,0 -0.824359,-0.222439 -1.023937,-0.493569 -0.06902,-0.09377 -0.947914,-2.411704 -1.953086,-5.150962 -1.005174,-2.739258 -1.845222,-4.980469 -1.866775,-4.980469 -0.02155,0 -0.825081,2.206055 -1.785618,4.902344 -0.960537,2.696289 -1.827478,5.028685 -1.926536,5.183102 -0.327132,0.509955 -1.136778,0.704641 -1.6393605,0.394198 z"\n     id\x3d"path861" /\x3e\n\x3c/svg\x3e\n';
case "capacitor":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"37"\n   height\x3d"37"\n   viewBox\x3d"0 0 37 37"\n   version\x3d"1.1"\n   id\x3d"svg4"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs8" /\x3e\n  \x3cpath\n     style\x3d"stroke-width:0.0722656"\n     d\x3d"M 11.779297,26.34082 V 19.728516 H 5.8896484 0 V 18.5 17.271484 H 5.8896484 11.779297 V 10.65918 4.046875 h 1.192383 1.192383 V 18.5 32.953125 H 12.97168 11.779297 Z M 22.835937,18.5 V 4.046875 h 1.192383 1.192383 v 6.612305 6.612304 H 31.110352 37 V 18.5 19.728516 h -5.889648 -5.889649 v 6.612304 6.612305 H 24.02832 22.835937 Z"\n     id\x3d"path843" /\x3e\n\x3c/svg\x3e\n';
case "inductor":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"37"\n   height\x3d"37"\n   viewBox\x3d"0 0 37 37"\n   version\x3d"1.1"\n   id\x3d"svg4"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs8" /\x3e\n  \x3cpath\n     style\x3d"stroke-width:0.0722656"\n     d\x3d"m 34.776705,21.318359 c -2.025823,0 -2.245454,-0.01188 -2.472772,-0.133795 -0.356422,-0.191151 -0.494489,-0.411851 -0.652026,-1.042264 -0.07629,-0.305299 -0.185936,-0.645245 -0.24365,-0.755433 -0.38011,-0.725712 -1.22965,-1.260792 -2.077834,-1.308719 -1.14891,-0.06492 -2.115624,0.598025 -2.530248,1.735168 -0.250797,0.687836 -0.750866,1.009931 -1.403533,0.904017 -0.389144,-0.06315 -0.68111,-0.317715 -0.87794,-0.765479 -0.325164,-0.739704 -0.415697,-0.883119 -0.763746,-1.209866 -0.441205,-0.414201 -0.901281,-0.616174 -1.501396,-0.659112 -1.146558,-0.08204 -2.087722,0.527491 -2.545372,1.648461 -0.209557,0.51329 -0.323047,0.66716 -0.630063,0.854237 -0.486776,0.296612 -1.346232,0.09747 -1.567827,-0.363277 -0.04459,-0.09272 -0.178397,-0.384881 -0.297342,-0.649243 -0.262587,-0.583617 -0.685975,-1.023369 -1.23156,-1.279158 -0.347019,-0.162695 -0.505571,-0.191302 -1.058544,-0.190992 -0.77681,4.34e-4 -1.148218,0.141908 -1.677808,0.639084 -0.348049,0.326747 -0.438582,0.470162 -0.763746,1.209866 -0.19683,0.447764 -0.488796,0.70233 -0.87794,0.765479 -0.619261,0.100493 -1.169122,-0.22861 -1.370777,-0.820436 C 9.9753163,19.141869 9.572666,18.671434 8.8679374,18.302522 8.5396491,18.130669 8.4074464,18.105134 7.8397378,18.103926 c -0.5920506,-0.0013 -0.6955906,0.02031 -1.1351504,0.236511 -0.4770863,0.234657 -0.8920181,0.624826 -1.1128445,1.04643 -0.057714,0.110188 -0.1673566,0.450134 -0.2436496,0.755433 -0.1575372,0.630413 -0.2956042,0.851113 -0.6520258,1.042264 -0.2273181,0.121912 -0.4469493,0.133795 -2.472772,0.133795 H 0 v -1.192382 -1.192383 h 1.5845462 1.5845461 l 0.1861616,-0.406631 c 0.5541643,-1.210454 1.5056426,-2.08213 2.8156819,-2.579525 0.5549514,-0.210704 0.6412504,-0.222567 1.6337517,-0.224589 1.0052004,-0.002 1.0721863,0.0072 1.6457159,0.22682 0.6169126,0.236251 1.4397136,0.736733 1.7429416,1.060173 l 0.172837,0.184358 0.341687,-0.304619 c 0.843727,-0.752198 1.813117,-1.140941 2.972427,-1.191997 1.290332,-0.05683 2.43421,0.315294 3.385598,1.101387 0.218322,0.18039 0.413669,0.327982 0.434106,0.327982 0.02044,0 0.215784,-0.147592 0.434106,-0.327982 0.953837,-0.788116 2.098458,-1.159675 3.385598,-1.099009 1.168497,0.05507 2.132657,0.440948 2.972427,1.189619 l 0.341687,0.304619 0.172837,-0.184358 c 0.303228,-0.32344 1.126029,-0.823922 1.742942,-1.060173 0.573529,-0.219636 0.640515,-0.228869 1.645715,-0.22682 0.992502,0.002 1.078801,0.01389 1.633752,0.224589 1.310039,0.497395 2.261517,1.369071 2.815682,2.579525 l 0.186161,0.406631 H 35.415454 37 v 1.192383 1.192382 z"\n     id\x3d"path843" /\x3e\n\x3c/svg\x3e\n';
case "diode":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"39.5"\n   height\x3d"25"\n   viewBox\x3d"0 0 39.5 25"\n   version\x3d"1.1"\n   id\x3d"svg16"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs20" /\x3e\n  \x3cg\n     transform\x3d"translate(1.25)"\n     id\x3d"g14"\x3e\n    \x3cg\n       transform\x3d"translate(31) rotate(90)"\n       id\x3d"g6"\x3e\n      \x3cpath\n         d\x3d"M12.5,0,25,21H0Z"\n         fill\x3d"none"\n         id\x3d"path2" /\x3e\n      \x3cpath\n         d\x3d"M 12.5 5.865288734436035 L 5.276956558227539 18 L 19.72304153442383 18 L 12.5 5.865288734436035 M 12.5 0 L 25 21 L 0 21 L 12.5 0 Z"\n         id\x3d"path4" /\x3e\n    \x3c/g\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 21 22.25 h 2.5 V 21 0 -1.25 Z"\n       id\x3d"line8"\n       transform\x3d"translate(29 2)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 8 9.25 h 2.5 V 8 0 -1.25 Z"\n       id\x3d"line10"\n       transform\x3d"translate(37 12.5) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 9 10.25 h 2.5 V 9 0 -1.25 Z"\n       id\x3d"line12"\n       transform\x3d"translate(9 13) rotate(90)" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "vsource":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"34"\n   height\x3d"34"\n   viewBox\x3d"0 0 34 34"\n   version\x3d"1.1"\n   id\x3d"svg8"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs12" /\x3e\n  \x3cg\n     transform\x3d"translate(1.5 1.5)"\n     id\x3d"g6"\x3e\n    \x3cpath\n       d\x3d"m 15.5,-1.5 c -9.3710644,0 -17,7.6289356 -17,17 0,9.371064 7.6289356,17 17,17 9.371064,0 17,-7.628936 17,-17 0,-9.3710644 -7.628936,-17 -17,-17 z m 0,3 c 7.749746,0 14,6.2502543 14,14 0,7.749746 -6.250254,14 -14,14 -7.7497457,0 -14,-6.250254 -14,-14 0,-7.7497457 6.2502543,-14 14,-14 z"\n       id\x3d"circle2" /\x3e\n    \x3cpath\n       d\x3d"M4.609-7.67a3.875,3.875,0,0,0-1.775.49A7.482,7.482,0,0,0,1.074-5.9V-9.278a5.186,5.186,0,0,1,3.867-1.594,8.876,8.876,0,0,1,2.077.234,14.34,14.34,0,0,1,2.107.7,9.186,9.186,0,0,0,3.429.8A4.013,4.013,0,0,0,14.307-9.6a6.466,6.466,0,0,0,1.767-1.3v3.377A5.124,5.124,0,0,1,12.207-5.93a9.255,9.255,0,0,1-1.9-.19,14.389,14.389,0,0,1-2.266-.731A9.22,9.22,0,0,0,4.609-7.67Z"\n       transform\x3d"translate(6.926 23.901)"\n       id\x3d"path4" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "isource":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"34"\n   height\x3d"34"\n   viewBox\x3d"0 0 34 34"\n   version\x3d"1.1"\n   id\x3d"svg10"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs14" /\x3e\n  \x3cg\n     transform\x3d"translate(1.5 1.5)"\n     id\x3d"g8"\x3e\n    \x3cg\n       id\x3d"circle2"\x3e\n      \x3cpath\n         style\x3d"fill:none;stroke-width:3;"\n         d\x3d"M 31,15.5 A 15.5,15.5 0 0 1 15.5,31 15.5,15.5 0 0 1 0,15.5 15.5,15.5 0 0 1 15.5,0 15.5,15.5 0 0 1 31,15.5 Z"\n         id\x3d"path922" /\x3e\n      \x3cpath\n         d\x3d"m 15.5,-1.5 c -9.3710644,0 -17,7.6289356 -17,17 0,9.371064 7.6289356,17 17,17 9.371064,0 17,-7.628936 17,-17 0,-9.3710644 -7.628936,-17 -17,-17 z m 0,3 c 7.749746,0 14,6.2502543 14,14 0,7.749746 -6.250254,14 -14,14 -7.7497457,0 -14,-6.250254 -14,-14 0,-7.7497457 6.2502543,-14 14,-14 z"\n         id\x3d"path924" /\x3e\n    \x3c/g\x3e\n    \x3cpath\n       d\x3d"M 16.993489,22.25 H 16.842076 L 16.074478,21.482402 15.30688,20.714804 17.90344,18.107402 20.5,15.5 17.897669,12.886803 15.295337,10.273606 16.153714,9.4512289 17.012091,8.6288517 20.446183,12.062943 23.880275,15.497035 20.512589,18.873517 17.144903,22.25 Z"\n       id\x3d"path1846" /\x3e\n    \x3cpath\n       d\x3d"m 0,-1.25 v 2.5 h 12 v -2.5 z"\n       id\x3d"line6"\n       transform\x3d"translate(8.5 15.5)" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "pmos":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"22.5"\n   height\x3d"29.5"\n   viewBox\x3d"0 0 22.5 29.5"\n   version\x3d"1.1"\n   id\x3d"svg18"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs22" /\x3e\n  \x3cg\n     transform\x3d"translate(-58.75 -773.75)"\n     id\x3d"g16"\x3e\n    \x3cg\n       id\x3d"line2"\n       transform\x3d"translate(60 780)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 17"\n         id\x3d"path884" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n         id\x3d"path886" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line4"\n       transform\x3d"translate(66 780)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 17"\n         id\x3d"path878" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n         id\x3d"path880" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line6"\n       transform\x3d"translate(80 780) rotate(90)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 12"\n         id\x3d"path872" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n         id\x3d"path874" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line8"\n       transform\x3d"translate(80 797) rotate(90)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 12"\n         id\x3d"path866" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n         id\x3d"path868" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line10"\n       transform\x3d"translate(80 797)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 5"\n         id\x3d"path860" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n         id\x3d"path862" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line12"\n       transform\x3d"translate(80 775)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 5"\n         id\x3d"path854" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n         id\x3d"path856" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"path14"\n       transform\x3d"translate(67 786) rotate(-90)"\x3e\n      \x3cpath\n         d\x3d"m 6,0 6,9 H 0 Z"\n         id\x3d"path848" /\x3e\n      \x3cpath\n         d\x3d"m 6,-0.90234375 -0.4160156,0.625 L -0.93359375,9.5 H 12.933594 Z M 6,0.90234375 11.066406,8.5 H 0.93359375 Z"\n         id\x3d"path850" /\x3e\n    \x3c/g\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "nmos":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"22.5"\n   height\x3d"29.5"\n   viewBox\x3d"0 0 22.5 29.5"\n   version\x3d"1.1"\n   id\x3d"svg18"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs22" /\x3e\n  \x3cg\n     transform\x3d"translate(-58.75 -773.75)"\n     id\x3d"g16"\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n       id\x3d"line2"\n       transform\x3d"translate(60 780)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n       id\x3d"line4"\n       transform\x3d"translate(66 780)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"line6"\n       transform\x3d"translate(80 780) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"line8"\n       transform\x3d"translate(80 797) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line10"\n       transform\x3d"translate(80 797)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line12"\n       transform\x3d"translate(80 775)" /\x3e\n    \x3cpath\n       d\x3d"M6,0l6,9H0Z"\n       transform\x3d"translate(79 774) rotate(90)"\n       id\x3d"path14" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "npn":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"22.745"\n   height\x3d"28.6"\n   viewBox\x3d"0 0 22.745 28.6"\n   version\x3d"1.1"\n   id\x3d"svg18"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs22" /\x3e\n  \x3cg\n     transform\x3d"translate(-57.25 -774.45)"\n     id\x3d"g16"\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n       id\x3d"path898"\n       transform\x3d"translate(66 780)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"path895"\n       transform\x3d"translate(77.892 781.5) rotate(60)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"path892"\n       transform\x3d"translate(67.5 790) rotate(-60)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"path889"\n       transform\x3d"translate(78.37 796.8)" /\x3e\n    \x3cpath\n       d\x3d"M5,0l5,7.5H0Z"\n       transform\x3d"translate(74.995 777.5) rotate(60)"\n       id\x3d"path886" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"path883"\n       transform\x3d"translate(63.5 788.5) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"path880"\n       transform\x3d"translate(78.37 775.7)" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "pnp":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"22.37"\n   height\x3d"28.6"\n   viewBox\x3d"0 0 22.37 28.6"\n   version\x3d"1.1"\n   id\x3d"svg18"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs22" /\x3e\n  \x3cg\n     transform\x3d"translate(-57.25 -774.45)"\n     id\x3d"g16"\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n       id\x3d"line2"\n       transform\x3d"translate(66 780)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"line4"\n       transform\x3d"translate(77.892 781.5) rotate(60)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"line6"\n       transform\x3d"translate(67.5 790) rotate(-60)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line8"\n       transform\x3d"translate(78.37 796.8)" /\x3e\n    \x3cpath\n       d\x3d"M5,0l5,7.5H0Z"\n       transform\x3d"translate(72.499 790.41) rotate(-120)"\n       id\x3d"path10" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line12"\n       transform\x3d"translate(63.5 788.5) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line14"\n       transform\x3d"translate(78.37 775.7)" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
default:return""}}())],null)],null)},YE=function(a){return vE("port",a,$APP.K([XE,"ground",$APP.yy,$APP.Ju($APP.zA.rotate(-90)),$APP.Pj,"GND"]))},ZE=function(a){return vE("port",a,$APP.K([XE,"supply",$APP.yy,$APP.Ju($APP.zA.rotate(90)),$APP.Pj,"VDD"]))},$E=function(a){return vE("port",a,$APP.K([XE,"text",$APP.yy,$APP.Ju($APP.zA.rotate(90))]))},cF=function(){return new $APP.T(null,9,5,$APP.V,[$APP.pz,new $APP.T(null,6,5,$APP.V,[aF,new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add port [p]",
$APP.Kl,UE("port"),bF,function(a){return wE("port",rD(a))}],null),new $APP.T(null,1,5,$APP.V,[$APP.gB],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add wire label [t]",$APP.Kl,UE("port"),bF,function(a){return $E(rD(a))}],null),new $APP.T(null,1,5,$APP.V,[$APP.xB],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add ground [g]",$APP.Kl,UE("port"),bF,function(a){return YE(rD(a))}],null),"GND"],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,
3,[$APP.dw,"Add power supply [shift+p]",$APP.Kl,UE("port"),bF,function(a){return ZE(rD(a))}],null),"VDD"],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add text area [shift+t]",$APP.Kl,UE("port"),bF,function(a){return wE("text",rD(a))}],null),new $APP.T(null,1,5,$APP.V,[$APP.wB],null)],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add resistor [r]",$APP.Kl,UE("resistor"),bF,function(a){return wE("resistor",rD(a))}],null),new $APP.T(null,2,5,$APP.V,
[WE,"resistor"],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add inductor [l]",$APP.Kl,UE("inductor"),bF,function(a){return wE("inductor",rD(a))}],null),new $APP.T(null,2,5,$APP.V,[WE,"inductor"],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add capacitor [c]",$APP.Kl,UE("capacitor"),bF,function(a){return wE("capacitor",rD(a))}],null),new $APP.T(null,2,5,$APP.V,[WE,"capacitor"],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,
3,[$APP.dw,"Add diode [d]",$APP.Kl,UE("diode"),bF,function(a){return wE("diode",rD(a))}],null),new $APP.T(null,2,5,$APP.V,[WE,"diode"],null)],null),new $APP.T(null,3,5,$APP.V,[aF,new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add voltage source [v]",$APP.Kl,UE("vsource"),bF,function(a){return wE("vsource",rD(a))}],null),new $APP.T(null,2,5,$APP.V,[WE,"vsource"],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add current source [i]",$APP.Kl,UE("isource"),
bF,function(a){return wE("isource",rD(a))}],null),new $APP.T(null,2,5,$APP.V,[WE,"isource"],null)],null)],null),new $APP.T(null,5,5,$APP.V,[aF,new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add N-channel mosfet [m]",$APP.Kl,UE("nmos"),bF,function(a){return wE("nmos",rD(a))}],null),new $APP.T(null,2,5,$APP.V,[WE,"nmos"],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add P-channel mosfet [shift+m]",$APP.Kl,UE("pmos"),bF,function(a){return wE("pmos",rD(a))}],
null),new $APP.T(null,2,5,$APP.V,[WE,"pmos"],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add NPN BJT [b]",$APP.Kl,UE("npn"),bF,function(a){return wE("npn",rD(a))}],null),new $APP.T(null,2,5,$APP.V,[WE,"npn"],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,3,[$APP.dw,"Add PNP BJT [shift+b]",$APP.Kl,UE("pnp"),bF,function(a){return wE("pnp",rD(a))}],null),new $APP.T(null,2,5,$APP.V,[WE,"pnp"],null)],null)],null),new $APP.T(null,3,5,$APP.V,[$APP.sz,new $APP.l(null,
3,[$APP.dw,"Add subcircuit [x]",$APP.Kl,UE("ckt"),bF,function(a){return wE("ckt",rD(a))}],null),new $APP.T(null,1,5,$APP.V,[$APP.mB],null)],null)],null)},dF=function(a){return new $APP.T(null,5,5,$APP.V,[$APP.pz,function(){return function d(c){return new $APP.He(null,function(){for(var e=c;;)if(e=$APP.D(e)){if($APP.Pd(e)){var f=$APP.tc(e),g=$APP.H(f),h=$APP.Ke(g);a:{for(var n=0;;)if(n<g){var p=$APP.yd(f,n),q=$APP.N(p,0,null),t=$APP.N(p,1,null);$APP.I.h("wire",$APP.yw.g(t))&&(p=h,q=pE(iD,t,q,t),p.add(q));
n+=1}else{f=!0;break a}f=void 0}return f?$APP.Ne($APP.Pe(h),d($APP.uc(e))):$APP.Ne($APP.Pe(h),null)}f=$APP.E(e);h=$APP.N(f,0,null);f=$APP.N(f,1,null);if($APP.I.h("wire",$APP.yw.g(f)))return $APP.De(pE(iD,f,h,f),d($APP.Uc(e)));e=$APP.Uc(e)}else return null},null,null)}(a)}(),function(){return function d(c){return new $APP.He(null,function(){for(var e=c;;)if(e=$APP.D(e)){if($APP.Pd(e)){var f=$APP.tc(e),g=$APP.H(f),h=$APP.Ke(g);a:{for(var n=0;;)if(n<g){var p=$APP.yd(f,n),q=$APP.N(p,0,null),t=$APP.N(p,
1,null);$APP.bf("wire",$APP.yw.g(t))&&(p=h,q=pE(iD,t,q,t),p.add(q));n+=1}else{f=!0;break a}f=void 0}return f?$APP.Ne($APP.Pe(h),d($APP.uc(e))):$APP.Ne($APP.Pe(h),null)}f=$APP.E(e);h=$APP.N(f,0,null);f=$APP.N(f,1,null);if($APP.bf("wire",$APP.yw.g(f)))return $APP.De(pE(iD,f,h,f),d($APP.Uc(e)));e=$APP.Uc(e)}else return null},null,null)}(a)}(),function(){return function d(c){return new $APP.He(null,function(){for(;;){var e=$APP.D(c);if(e){if($APP.Pd(e)){var f=$APP.tc(e),g=$APP.H(f),h=$APP.Ke(g);a:{for(var n=
0;;)if(n<g){var p=$APP.yd(f,n),q=$APP.N(p,0,null),t=$APP.N(p,1,null);p=h;q=pE(mE,t,q,t);p.add(q);n+=1}else{f=!0;break a}f=void 0}return f?$APP.Ne($APP.Pe(h),d($APP.uc(e))):$APP.Ne($APP.Pe(h),null)}f=$APP.E(e);h=$APP.N(f,0,null);f=$APP.N(f,1,null);return $APP.De(pE(mE,f,h,f),d($APP.Uc(e)))}return null}},null,null)}(a)}(),function(){return function d(c){return new $APP.He(null,function(){for(;;){var e=$APP.D(c);if(e){if($APP.Pd(e)){var f=$APP.tc(e),g=$APP.H(f),h=$APP.Ke(g);a:{for(var n=0;;)if(n<g){var p=
$APP.yd(f,n),q=$APP.N(p,0,null),t=$APP.N(p,1,null);p=h;q=pE(hD,t,q,t);p.add(q);n+=1}else{f=!0;break a}f=void 0}return f?$APP.Ne($APP.Pe(h),d($APP.uc(e))):$APP.Ne($APP.Pe(h),null)}f=$APP.E(e);h=$APP.N(f,0,null);f=$APP.N(f,1,null);return $APP.De(pE(hD,f,h,f),d($APP.Uc(e)))}return null}},null,null)}(a)}()],null)},eF=function(){return new $APP.T(null,2,5,$APP.V,[$APP.pz,$APP.hi(function(){return function c(b){return new $APP.He(null,function(){for(var d=b;;){var e=$APP.D(d);if(e){var f=e;if($APP.Pd(f)){var g=
$APP.tc(f),h=$APP.H(g),n=$APP.Ke(h);return function(){for(var z=0;;)if(z<h){var A=$APP.yd(g,z),F=$APP.N(A,0,null),J=$APP.N(F,0,null),M=$APP.N(F,1,null),U=$APP.N(A,1,null);A=$APP.H($APP.Gf(function(){return function(Y){return $APP.I.h($APP.Hf($APP.u(CB),new $APP.T(null,2,5,$APP.V,[Y,XE],null)),"text")}}(z,d,A,F,J,M,U,g,h,n,f,e),U));$APP.bf(A,2)&&$APP.Oe(n,new $APP.T(null,2,5,$APP.V,[$APP.fy,new $APP.l(null,5,[$APP.Sj,new $APP.T(null,2,5,$APP.V,[J,M],null),$APP.Kl,A>2?"wire":"nc",vC,50*(J+.5),wC,50*
(M+.5),$APP.zy,5],null)],null));z+=1}else return!0}()?$APP.Ne($APP.Pe(n),c($APP.uc(f))):$APP.Ne($APP.Pe(n),null)}var p=$APP.E(f),q=$APP.N(p,0,null),t=$APP.N(q,0,null),w=$APP.N(q,1,null),y=$APP.N(p,1,null);p=$APP.H($APP.Gf(function(){return function(z){return $APP.I.h($APP.Hf($APP.u(CB),new $APP.T(null,2,5,$APP.V,[z,XE],null)),"text")}}(d,p,q,t,w,y,f,e),y));if($APP.bf(p,2))return $APP.De(new $APP.T(null,2,5,$APP.V,[$APP.fy,new $APP.l(null,5,[$APP.Sj,new $APP.T(null,2,5,$APP.V,[t,w],null),$APP.Kl,p>
2?"wire":"nc",vC,50*(t+.5),wC,50*(w+.5),$APP.zy,5],null)],null),c($APP.Uc(f)));d=$APP.Uc(f)}else return null}},null,null)}($APP.E($APP.u(oD)))}())],null)},lF=function(){var a=$APP.u(sD),b=$APP.af(a),c=$APP.O(b,CD);a=$APP.O(b,KD);var d=$APP.O(b,TD),e=$APP.O(b,qE);e=$APP.af(e);var f=$APP.O(e,$APP.Ru),g=$APP.O(e,$APP.Su);b=$APP.O(b,GD);var h=$APP.N(b,0,null),n=$APP.N(b,1,null);b=50*Math.round(f);e=50*Math.round(g);return $APP.m(d)?new $APP.T(null,4,5,$APP.V,[fF,pE(iD,d,gF,d),pE(mE,d,hF,d),pE(hD,d,iF,
d)],null):$APP.I.h(a,eE)?new $APP.T(null,2,5,$APP.V,[jF,new $APP.l(null,4,[$APP.Ru,function(){var p=h+f;return h<p?h:p}()*50,$APP.Su,function(){var p=n+g;return n<p?n:p}()*50,AC,Math.abs(f*50),BC,Math.abs(g*50)],null)],null):$APP.m($APP.m(c)?a:c)?new $APP.T(null,3,5,$APP.V,[kF,new $APP.l(null,1,[$APP.Vu,new $APP.l(null,1,[$APP.yy,["translate(",$APP.r.g(b),"px, ",$APP.r.g(e),"px)"].join("")],null)],null),new $APP.T(null,2,5,$APP.V,[dF,function(){var p=$APP.u(CB);return $APP.wf.h(function(q){return new $APP.T(null,
2,5,$APP.V,[q,$APP.O(p,q)],null)},c)}()],null)],null):null},LF=function(){return new $APP.T(null,6,5,$APP.V,[mF,new $APP.l(null,1,[$APP.Kl,$APP.u(nF)],null),new $APP.T(null,2,5,$APP.V,[oF,new $APP.T(null,1,5,$APP.V,[TE],null)],null),new $APP.T(null,3,5,$APP.V,[pF,new $APP.T(null,4,5,$APP.V,[qF,new $APP.T(null,2,5,$APP.V,[rF,new $APP.T(null,1,5,$APP.V,[cF],null)],null),function(){var a=$APP.D($APP.u(AD));return a?new $APP.T(null,2,5,$APP.V,[sF,$APP.hi(function(){return function d(c){return new $APP.He(null,
function(){for(;;){var e=$APP.D(c);if(e){if($APP.Pd(e)){var f=$APP.tc(e),g=$APP.H(f),h=$APP.Ke(g);a:{for(var n=0;;)if(n<g){var p=$APP.yd(f,n),q=h;p=$APP.Fd(new $APP.T(null,2,5,$APP.V,[FE,p],null),new $APP.l(null,1,[$APP.Sj,p],null));q.add(p);n+=1}else{f=!0;break a}f=void 0}return f?$APP.Ne($APP.Pe(h),d($APP.uc(e))):$APP.Ne($APP.Pe(h),null)}h=$APP.E(e);return $APP.De($APP.Fd(new $APP.T(null,2,5,$APP.V,[FE,h],null),new $APP.l(null,1,[$APP.Sj,h],null)),d($APP.Uc(e)))}return null}},null,null)}(a)}())],
null):null}(),new $APP.T(null,7,5,$APP.V,[tF,$APP.oh([AC,uF,$APP.Ov,vF,wF,bD,$APP.Kl,xF,bF,BC],["100%",vD,gE,"http://www.w3.org/2000/svg",$APP.u(yF),fE,new $APP.T(null,2,5,$APP.V,[$APP.u(nF),$APP.u(MD)],null),SD,uE,"100%"]),new $APP.T(null,2,5,$APP.V,[zF,new $APP.T(null,4,5,$APP.V,[AF,new $APP.l(null,4,[$APP.Ml,"gridfill",BF,"userSpaceOnUse",AC,50,BC,50],null),new $APP.T(null,2,5,$APP.V,[CF,new $APP.l(null,4,[DF,0,EF,0,FF,50,GF,0],null)],null),new $APP.T(null,2,5,$APP.V,[CF,new $APP.l(null,4,[DF,
0,EF,0,FF,0,GF,50],null)],null)],null)],null),new $APP.T(null,2,5,$APP.V,[HF,new $APP.l(null,6,[$APP.xr,"url(#gridfill)",bF,uE,$APP.Ru,-25E3,$APP.Su,-25E3,AC,5E4,BC,5E4],null)],null),new $APP.T(null,2,5,$APP.V,[dF,$APP.u(CB)],null),new $APP.T(null,1,5,$APP.V,[eF],null),new $APP.T(null,1,5,$APP.V,[lF],null)],null)],null),new $APP.T(null,3,5,$APP.V,[IF,new $APP.T(null,2,5,$APP.V,[$APP.Ux,"Notebook"],null),new $APP.T(null,2,5,$APP.V,[JF,new $APP.l(null,1,[KF,KE()],null)],null)],null)],null),new $APP.T(null,
1,5,$APP.V,[$APP.Yu],null),new $APP.T(null,1,5,$APP.V,[$APP.Pu],null)],null)},OF=function(){if($APP.D(MF)){var a=NF.sync(MF,{live:!0,retry:!0});a.on("paused",function(){return $APP.tf(RE,!1)});a.on("active",function(){return $APP.tf(RE,!0)});a.on("denied",function(){return mC(["Permission denied synchronising to ",MF,", changes are saved locally"].join(""))});a.on("error",function(){return mC(["Error synchronising to ",MF,", changes are saved locally"].join(""))})}},RF=function(){document.onkeyup=
$APP.Ip.h(hC,PF);document.onkeydown=$APP.Ip.h(hC,QF);return $APP.Zl(new $APP.T(null,1,5,$APP.V,[LF],null),document.querySelector(".mosaic-app.mosaic-editor"))},SF=function(){localStorage.setItem("schem",oC);history.replaceState(null,null,[$APP.r.g(window.location.pathname),"?schem\x3d",$APP.r.g(oC)].join(""));OF();return RF()},TF={},IB=function IB(a){switch(arguments.length){case 2:return IB.h(arguments[0],arguments[1]);case 3:return IB.i(arguments[0],arguments[1],arguments[2]);default:for(var c=
[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.C(c.slice(3),0,null):null;return IB.j(arguments[0],arguments[1],arguments[2],c)}};IB.h=function(a,b){return b};IB.i=function(a,b,c){return(a.g?a.g(b):a.call(null,b))>(a.g?a.g(c):a.call(null,c))?b:c};IB.j=function(a,b,c,d){return $APP.cb(function(e,f){return IB.i(a,e,f)},IB.i(a,b,c),d)};IB.C=function(a){var b=$APP.E(a),c=$APP.G(a);a=$APP.E(c);var d=$APP.G(c);c=$APP.E(d);d=$APP.G(d);return this.j(b,a,c,d)};
IB.B=3;var eC=function eC(a){switch(arguments.length){case 1:return eC.g(arguments[0]);case 2:return eC.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.C(c.slice(2),0,null):null;return eC.j(arguments[0],arguments[1],c)}};eC.g=function(a){return a};eC.h=function(a,b){return a>b?a:b};eC.j=function(a,b,c){return $APP.cb(eC,a>b?a:b,c)};
eC.C=function(a){var b=$APP.E(a),c=$APP.G(a);a=$APP.E(c);c=$APP.G(c);return this.j(b,a,c)};eC.B=2;$APP.k=GB.prototype;$APP.k.toString=function(){return $APP.Dc(this)};$APP.k.K=function(){return this.meta};$APP.k.ma=function(){return this.ra(null)};$APP.k.ga=function(){return $APP.Sc};$APP.k.Ic=function(){return this.seed!==TF};
$APP.k.pa=function(a,b){a=this.la(null);var c=this.f.g?this.f.g(a):this.f.call(null,a);for(a=b.h?b.h(a,c):b.call(null,a,c);;){if($APP.bd(a))return $APP.u(a);c=this.f.g?this.f.g(c):this.f.call(null,c);a=b.h?b.h(a,c):b.call(null,a,c)}};$APP.k.qa=function(a,b,c){a=this.la(null);for(c=b.h?b.h(c,a):b.call(null,c,a);;){if($APP.bd(c))return $APP.u(c);a=this.f.g?this.f.g(a):this.f.call(null,a);c=b.h?b.h(c,a):b.call(null,c,a)}};
$APP.k.la=function(){TF===this.seed&&(this.seed=this.f.g?this.f.g(this.Zd):this.f.call(null,this.Zd));return this.seed};$APP.k.ra=function(){this.next==null&&(this.next=new GB(null,this.f,this.la(null),TF,null));return this.next};$APP.k.W=function(){return this};$APP.k.M=function(a,b){return b===this.meta?this:new GB(b,this.f,this.Zd,this.seed,this.next)};$APP.k.aa=function(a,b){return $APP.De(b,this)};$APP.k.ba=$APP.x;$APP.k.R=function(a,b,c){return $APP.mi(b,$APP.si,"("," ",")",c,this)};
var pD=function pD(a){switch(arguments.length){case 1:return pD.g(arguments[0]);case 2:return pD.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.C(c.slice(2),0,null):null;return pD.j(arguments[0],arguments[1],c)}};pD.g=function(a){return a};
pD.h=function(a,b){for(;;)if($APP.H(b)<$APP.H(a)){var c=a;a=b;b=c}else return $APP.cb(function(d,e){return function(f,g){return $APP.Wd(e,g)?f:$APP.gv.h(f,g)}}(a,b),a,a)};pD.j=function(a,b,c){a=JB(function(d){return-$APP.H(d)},$APP.Ae.j(c,b,$APP.K([a])));return $APP.cb(pD,$APP.E(a),$APP.Uc(a))};pD.C=function(a){var b=$APP.E(a),c=$APP.G(a);a=$APP.E(c);c=$APP.G(c);return this.j(b,a,c)};pD.B=2;
var zD=function zD(a){switch(arguments.length){case 3:return zD.i(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.C(c.slice(3),0,null):null;return zD.j(arguments[0],arguments[1],arguments[2],c)}};zD.i=function(a,b,c){return $APP.Kg.i(a,$APP.wf.g(function(d){var e=$APP.V;var f=$APP.O(a,d);f=c.g?c.g(f):c.call(null,f);return new $APP.T(null,2,5,e,[d,f],null)}),b)};
zD.j=function(a,b,c,d){return $APP.Kg.i(a,$APP.wf.g(function(e){return new $APP.T(null,2,5,$APP.V,[e,$APP.S.i(c,$APP.O(a,e),d)],null)}),b)};zD.C=function(a){var b=$APP.E(a),c=$APP.G(a);a=$APP.E(c);var d=$APP.G(c);c=$APP.E(d);d=$APP.G(d);return this.j(b,a,c,d)};zD.B=3;
var KC=function KC(a){switch(arguments.length){case 0:return KC.m();case 1:return KC.g(arguments[0]);case 2:return KC.h(arguments[0],arguments[1]);case 3:return KC.i(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.C(c.slice(3),0,null):null;return KC.j(arguments[0],arguments[1],arguments[2],c)}};KC.m=function(){return $APP.me};KC.g=function(a){return a};
KC.h=function(a,b){return function(){function c(n,p,q){n=b.i?b.i(n,p,q):b.call(null,n,p,q);return a.g?a.g(n):a.call(null,n)}function d(n,p){n=b.h?b.h(n,p):b.call(null,n,p);return a.g?a.g(n):a.call(null,n)}function e(n){n=b.g?b.g(n):b.call(null,n);return a.g?a.g(n):a.call(null,n)}function f(){var n=b.m?b.m():b.call(null);return a.g?a.g(n):a.call(null,n)}var g=null,h=function(){function n(q,t,w,y){var z=null;if(arguments.length>3){z=0;for(var A=Array(arguments.length-3);z<A.length;)A[z]=arguments[z+
3],++z;z=new $APP.C(A,0,null)}return p.call(this,q,t,w,z)}function p(q,t,w,y){q=$APP.S.H(b,q,t,w,y);return a.g?a.g(q):a.call(null,q)}n.B=3;n.C=function(q){var t=$APP.E(q);q=$APP.G(q);var w=$APP.E(q);q=$APP.G(q);var y=$APP.E(q);q=$APP.Uc(q);return p(t,w,y,q)};n.j=p;return n}();g=function(n,p,q,t){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,n);case 2:return d.call(this,n,p);case 3:return c.call(this,n,p,q);default:var w=null;if(arguments.length>3){w=0;for(var y=Array(arguments.length-
3);w<y.length;)y[w]=arguments[w+3],++w;w=new $APP.C(y,0,null)}return h.j(n,p,q,w)}throw Error("Invalid arity: "+arguments.length);};g.B=3;g.C=h.C;g.m=f;g.g=e;g.h=d;g.i=c;g.j=h.j;return g}()};
KC.i=function(a,b,c){return function(){function d(p,q,t){p=c.i?c.i(p,q,t):c.call(null,p,q,t);p=b.g?b.g(p):b.call(null,p);return a.g?a.g(p):a.call(null,p)}function e(p,q){p=c.h?c.h(p,q):c.call(null,p,q);p=b.g?b.g(p):b.call(null,p);return a.g?a.g(p):a.call(null,p)}function f(p){p=c.g?c.g(p):c.call(null,p);p=b.g?b.g(p):b.call(null,p);return a.g?a.g(p):a.call(null,p)}function g(){var p=c.m?c.m():c.call(null);p=b.g?b.g(p):b.call(null,p);return a.g?a.g(p):a.call(null,p)}var h=null,n=function(){function p(t,
w,y,z){var A=null;if(arguments.length>3){A=0;for(var F=Array(arguments.length-3);A<F.length;)F[A]=arguments[A+3],++A;A=new $APP.C(F,0,null)}return q.call(this,t,w,y,A)}function q(t,w,y,z){t=$APP.S.H(c,t,w,y,z);t=b.g?b.g(t):b.call(null,t);return a.g?a.g(t):a.call(null,t)}p.B=3;p.C=function(t){var w=$APP.E(t);t=$APP.G(t);var y=$APP.E(t);t=$APP.G(t);var z=$APP.E(t);t=$APP.Uc(t);return q(w,y,z,t)};p.j=q;return p}();h=function(p,q,t,w){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,
p);case 2:return e.call(this,p,q);case 3:return d.call(this,p,q,t);default:var y=null;if(arguments.length>3){y=0;for(var z=Array(arguments.length-3);y<z.length;)z[y]=arguments[y+3],++y;y=new $APP.C(z,0,null)}return n.j(p,q,t,y)}throw Error("Invalid arity: "+arguments.length);};h.B=3;h.C=n.C;h.m=g;h.g=f;h.h=e;h.i=d;h.j=n.j;return h}()};
KC.j=function(a,b,c,d){var e=$APP.Be($APP.De(a,$APP.De(b,$APP.De(c,d))));return function(){function f(h){var n=null;if(arguments.length>0){n=0;for(var p=Array(arguments.length-0);n<p.length;)p[n]=arguments[n+0],++n;n=new $APP.C(p,0,null)}return g.call(this,n)}function g(h){h=$APP.S.h($APP.E(e),h);for(var n=$APP.G(e);;)if(n){var p=$APP.E(n);h=p.g?p.g(h):p.call(null,h);n=$APP.G(n)}else return h}f.B=0;f.C=function(h){h=$APP.D(h);return g(h)};f.j=g;return f}()};
KC.C=function(a){var b=$APP.E(a),c=$APP.G(a);a=$APP.E(c);var d=$APP.G(c);c=$APP.E(d);d=$APP.G(d);return this.j(b,a,c,d)};KC.B=3;var sE=function sE(a){switch(arguments.length){case 0:return sE.m();case 1:return sE.g(arguments[0]);case 2:return sE.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.C(c.slice(2),0,null):null;return sE.j(arguments[0],arguments[1],c)}};sE.m=function(){return $APP.Ph};sE.g=function(a){return a};
sE.h=function(a,b){return $APP.H(a)<$APP.H(b)?$APP.cb($APP.Ae,b,a):$APP.cb($APP.Ae,a,b)};sE.j=function(a,b,c){a=JB($APP.H,$APP.Ae.j(c,b,$APP.K([a])));return $APP.cb($APP.Kg,$APP.E(a),$APP.Uc(a))};sE.C=function(a){var b=$APP.E(a),c=$APP.G(a);a=$APP.E(c);c=$APP.G(c);return this.j(b,a,c)};sE.B=2;OB.prototype.za=function(){var a=this,b=a.yc;return b==null?$APP.sk(function(){return $APP.S.h(a.f,a.Cc)},a.f,a.Cc,this,null):$APP.u(b)};
OB.prototype.U=function(a,b){return b instanceof OB&&$APP.I.h(this.f,b.f)&&$APP.I.h(this.Cc,b.Cc)};OB.prototype.V=function(){return $APP.Lc(new $APP.T(null,2,5,$APP.V,[this.f,this.Cc],null))};OB.prototype.R=function(a,b,c){return $APP.ok(b,c,"Track",new $APP.l(null,2,[$APP.On,this.za(null),$APP.Jy,this.f],null))};$APP.k=QB.prototype;$APP.k.M=function(a,b){return new QB(this.form,this.hb,this.gb,this.zc,b)};$APP.k.K=function(){return this.yf};$APP.k.kb=function(){return this};$APP.k.lb=function(){return this};
$APP.k.Zb=$APP.x;$APP.k.Nb=function(a,b){return b==null?null:$APP.fn($APP.u(this.zc),b)};$APP.k.Ob=function(a,b,c,d,e){a=$APP.u(this.zc);return $APP.yn($APP.Vn(a,e,$APP.xo,null))&&e!=null?$APP.Ae.h($APP.Xn(this.form,this.hb,$APP.Ae.h(b,$APP.Gw),c,d,e),new $APP.l(null,5,[$APP.Kn,$APP.Ae.h(b,$APP.kp),$APP.Nn,$APP.Xv,$APP.On,e,$APP.Qn,c,$APP.Ln,d],null)):null};$APP.k.Pb=function(a,b){return RB.i?RB.i(this.form,this.hb,b):RB.call(null,this.form,this.hb,b)};
var aD=new $APP.P(null,"image","image",-58725096),AF=new $APP.P(null,"pattern","pattern",242135423),UD=new $APP.P("nyancad.mosaic.editor","wire","nyancad.mosaic.editor/wire",-496129451),xF=new $APP.P(null,"on-mouse-move","on-mouse-move",-1386320874),LE=new $APP.P(null,"div.primary","div.primary",1467266760),NE=new $APP.P("nyancad.mosaic.editor","probe","nyancad.mosaic.editor/probe",33168059),XE=new $APP.P(null,"variant","variant",-424354234),eE=new $APP.P("nyancad.mosaic.editor","box","nyancad.mosaic.editor/box",
72685753),JF=new $APP.P(null,"iframe","iframe",884422026),mF=new $APP.P(null,"div.mosaic-container","div.mosaic-container",-1349574763),UF=new $APP.P(null,"transform-origin","transform-origin",-586167370),pF=new $APP.P(null,"div.content-wrapper","div.content-wrapper",-1101894014),lE=new $APP.B(null,"circuit-conn","circuit-conn",381274267,null),YD=new $APP.P("nyancad.mosaic.editor","tool","nyancad.mosaic.editor/tool",195718619),jF=new $APP.P(null,"rect.select","rect.select",-274352052),KD=new $APP.P("nyancad.mosaic.editor",
"dragging","nyancad.mosaic.editor/dragging",-1899225452),EC=new $APP.P(null,"polyline","polyline",-1731551044),SE=new $APP.P(null,"div.secondary","div.secondary",-2037301824),VF=new $APP.P(null,"unit","unit",375175175),LC=new $APP.P(null,"res","res",-1395007879),AE=new $APP.P(null,"_attachments","_attachments",-1723171260),BE=new $APP.P(null,"content_type","content_type",52159344),qC=new $APP.P("nyancad.mosaic.editor","undo","nyancad.mosaic.editor/undo",1787806883),jE=new $APP.B(null,"circuit-shape",
"circuit-shape",22565817,null),WF=new $APP.P("nyancad.mosaic.editor","theme","nyancad.mosaic.editor/theme",-1698705327),HF=new $APP.P(null,"rect","rect",-108902628),OE=new $APP.P(null,"span.sep","span.sep",-303070340),GD=new $APP.P("nyancad.mosaic.editor","mouse-start","nyancad.mosaic.editor/mouse-start",-1507097836),bF=new $APP.P(null,"on-mouse-up","on-mouse-up",-1340533320),cD=new $APP.P(null,"rect.outline","rect.outline",35870808),FC=new $APP.P(null,"points","points",-1486596883),uF=new $APP.P(null,
"on-wheel","on-wheel",-1971630708),XF=new $APP.P(null,"capacitance","capacitance",-273749869),gF=new $APP.P("nyancad.mosaic.editor","stagingbg","nyancad.mosaic.editor/stagingbg",1418997463),YF=new $APP.P(null,"text-anchor","text-anchor",585613696),fF=new $APP.P(null,"g.toolstaging","g.toolstaging",1423440533),ND=new $APP.P("nyancad.mosaic.editor","eraser","nyancad.mosaic.editor/eraser",-1170358934),BF=new $APP.P(null,"pattern-units","pattern-units",-1273751842),qF=new $APP.P(null,"div.content","div.content",
-298042649),ZF=new $APP.P(null,"backspace","backspace",-696007848),BC=new $APP.P(null,"height","height",1025178622),rF=new $APP.P(null,"div.devicetray.chrome","div.devicetray.chrome",903230993),iE=new $APP.B(null,"nyancad.mosaic.editor","nyancad.mosaic.editor",1155727264,null),mE=new $APP.P("nyancad.mosaic.editor","sym","nyancad.mosaic.editor/sym",1888367968),$F=new $APP.P(null,"line.wire","line.wire",58251721),hD=new $APP.P("nyancad.mosaic.editor","conn","nyancad.mosaic.editor/conn",1132704290),
aG=new $APP.P(null,"g.text","g.text",1871614707),bG=new $APP.P(null,"tran","tran",-330179187),cG=new $APP.P(null,"selected","selected",574897764),UC=new $APP.P(null,"text.identifier","text.identifier",968733366),oE=new $APP.B(null,"circuit-sym","circuit-sym",1687815857,null),wF=new $APP.P(null,"view-box","view-box",-1792199155),PC=new $APP.P(null,"dy","dy",1719547243),CF=new $APP.P(null,"line.grid","line.grid",1678589712),KF=new $APP.P(null,"src","src",-1651076051),OC=new $APP.P(null,"tspan","tspan",
-1557853197),AC=new $APP.P(null,"width","width",-384071477),IF=new $APP.P(null,"details#mosaic_notebook","details#mosaic_notebook",-15766245),SC=new $APP.P("nyancad.mosaic.editor","template","nyancad.mosaic.editor/template",2100370107),dG=new $APP.P("nyancad.mosaic.editor","split","nyancad.mosaic.editor/split",-2060037753),hF=new $APP.P("nyancad.mosaic.editor","stagingsym","nyancad.mosaic.editor/stagingsym",1725041827),kE=new $APP.B("nyancad.mosaic.editor","circuit-conn","nyancad.mosaic.editor/circuit-conn",
2141897096,null),wC=new $APP.P(null,"cy","cy",755331060),vC=new $APP.P(null,"cx","cx",1272694324),eG=new $APP.P(null,"dc","dc",1726058308),tD=new $APP.P("nyancad.mosaic.editor","zoom","nyancad.mosaic.editor/zoom",-1377973775),fG=new $APP.P(null,"ac","ac",-1891632475),VE=new $APP.P(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),gG=new $APP.P(null,"delete","delete",-1768633620),CD=new $APP.P("nyancad.mosaic.editor","selected","nyancad.mosaic.editor/selected",1532065651),zF=new $APP.P(null,
"defs","defs",1398449717),hG=new $APP.P(null,"dominant-baseline","dominant-baseline",609259826),iG=new $APP.P(null,"nfin","nfin",1388383179),cE=new $APP.P("nyancad.mosaic.editor","device","nyancad.mosaic.editor/device",1397330629),HC=new $APP.P(null,"polygon.arrow","polygon.arrow",-453339260),ZD=new $APP.P("nyancad.mosaic.editor","cursor","nyancad.mosaic.editor/cursor",61601755),jG=new $APP.P(null,"g.device","g.device",-538642655),kG=new $APP.P(null,"escape","escape",-991601952),lG=new $APP.P("nyancad.mosaic.editor",
"ui","nyancad.mosaic.editor/ui",-586117532),QD=new $APP.P("nyancad.mosaic.editor","mouse","nyancad.mosaic.editor/mouse",1202743035),ME=new $APP.P("nyancad.mosaic.editor","pan","nyancad.mosaic.editor/pan",1148994537),nE=new $APP.B("nyancad.mosaic.editor","circuit-sym","nyancad.mosaic.editor/circuit-sym",-1670824032,null),iF=new $APP.P("nyancad.mosaic.editor","stagingconn","nyancad.mosaic.editor/stagingconn",-932497011),kF=new $APP.P(null,"g.staging","g.staging",1672233513),tF=new $APP.P(null,"svg.mosaic-canvas",
"svg.mosaic-canvas",716635672),mG=new $APP.P(null,"circle.outline","circle.outline",1162019949),PE=new $APP.P(null,"div.status","div.status",246710893),GF=new $APP.P(null,"y2","y2",-718691301),EF=new $APP.P(null,"y1","y1",589123466),EE=new $APP.P("nyancad.mosaic.editor","props","nyancad.mosaic.editor/props",1113223408),nG=new $APP.P(null,"g.wire","g.wire",1233150072),oG=new $APP.P(null,"z","z",-789527183),pG=new $APP.P(null,"v","v",21465059),zC=new $APP.P(null,"rect.tetris","rect.tetris",319962617),
qG=new $APP.P(null,"s","s",1705939918),rG=new $APP.P(null,"t","t",-1397832519),RD=new $APP.P("nyancad.mosaic.editor","view","nyancad.mosaic.editor/view",-479208243),oF=new $APP.P(null,"div.menu.chrome","div.menu.chrome",2039856843),TD=new $APP.P("nyancad.mosaic.editor","staging","nyancad.mosaic.editor/staging",160758696),sG=new $APP.P(null,"m","m",1632677161),tG=new $APP.P(null,"g","g",1738089905),uG=new $APP.P(null,"i","i",-1386841315),vG=new $APP.P(null,"c","c",-1763192079),wG=new $APP.P(null,"b",
"b",1482224470),zE=new $APP.P(null,"schematic","schematic",884071610),xG=new $APP.P(null,"line.wirebb","line.wirebb",-1079360418),DF=new $APP.P(null,"x1","x1",-1863922247),FF=new $APP.P(null,"x2","x2",-1362513475),yG=new $APP.P(null,"span.tray","span.tray",393150468),zG=new $APP.P(null,"inductance","inductance",-14909622),uC=new $APP.P(null,"circle.port","circle.port",2124426562),sF=new $APP.P(null,"div.sidebar","div.sidebar",1454675964),AG=new $APP.P(null,"resistance","resistance",-1289779601),vF=
new $APP.P(null,"xmlns","xmlns",-1862095571),qE=new $APP.P("nyancad.mosaic.editor","delta","nyancad.mosaic.editor/delta",-1578540228),bD=new $APP.P(null,"on-mouse-down","on-mouse-down",1147755470),MC=new $APP.P(null,"schem","schem",-607362953),DE=new $APP.P(null,"tooltip","tooltip",-1809677058),hE=new $APP.B("nyancad.mosaic.editor","circuit-shape","nyancad.mosaic.editor/circuit-shape",-666412374,null),BG=new $APP.P("nyancad.mosaic.editor","prev-tool","nyancad.mosaic.editor/prev-tool",1457058552),
NC=new $APP.P(null,"self","self",-1547428899),iD=new $APP.P("nyancad.mosaic.editor","bg","nyancad.mosaic.editor/bg",1513825358),RC=new $APP.P(null,"template","template",-702405684);var oC;var CG=(new URLSearchParams(window.location.search)).get("schem");if($APP.m(CG))oC=CG;else{var DG=localStorage.getItem("schem");oC=$APP.m(DG)?DG:$APP.r.g($APP.kj())}var MF=$APP.Mu(),NF=new $APP.Jz("schematics"),CB=$APP.en(NF,oC,$APP.Tl($APP.R));AB(CB.cache,function(a){var b=$APP.Wn($APP.Oy,a);return b?b:console.log($APP.Li.j($APP.K([a])),NB($APP.Oy,a))});var kC=$APP.en(NF,"models",$APP.Tl($APP.R)),yE=$APP.en(NF,"snapshots",$APP.Tl($APP.R)),JC=$APP.en(NF,[$APP.r.g(oC),"$result"].join(""),$APP.Tl($APP.Fh()));
$APP.cn(NF,$APP.K([CB,kC,yE,JC]));var EG=new $APP.Jz("local"),GE=$APP.en(EG,"local",$APP.sf($APP.R));$APP.cn(EG,$APP.K([GE]));var sD=$APP.Tl(new $APP.l(null,6,[tD,new $APP.T(null,4,5,$APP.V,[0,0,500,500],null),WF,"tetris",YD,ZD,CD,$APP.Ph,QD,new $APP.T(null,2,5,$APP.V,[0,0],null),GD,new $APP.T(null,2,5,$APP.V,[0,0],null)],null));
$APP.Un(tD,$APP.Kj($APP.Bw,$APP.My,$APP.No,4),$APP.To($APP.Qw,$APP.Sa,new $APP.l(null,5,[$APP.Qo,!0,$APP.No,4,$APP.Go,null,$APP.Ko,$APP.Kj($APP.Bw,$APP.My,$APP.No,4),$APP.Io,function(a){return $APP.Id(a)&&$APP.I.h(4,$APP.Qe(4,a))}],null),null));$APP.Un(WF,new $APP.Oh(null,new $APP.l(null,2,["eyesore","null","tetris","null"],null),null),new $APP.Oh(null,new $APP.l(null,2,["eyesore",null,"tetris",null],null),null));
$APP.Un(YD,new $APP.Oh(null,new $APP.l(null,6,[cE,"null",ME,"null",ND,"null",UD,"null",NE,"null",ZD,"null"],null),null),new $APP.Oh(null,new $APP.l(null,6,[cE,null,ME,null,ND,null,UD,null,NE,null,ZD,null],null),null));
$APP.Un(CD,$APP.Kj($APP.fx,$APP.Jw,$APP.Kj($APP.Bw,$APP.by)),$APP.vo(new $APP.T(null,2,5,$APP.V,[$APP.Jw,$APP.Kj($APP.Bw,$APP.by)],null),new $APP.T(null,2,5,$APP.V,[$APP.Kd,$APP.To($APP.Vx,$APP.Ua,new $APP.l(null,4,[$APP.Qo,!0,$APP.Go,null,$APP.Ko,$APP.Kj($APP.Bw,$APP.by),$APP.Io,function(a){return $APP.Id(a)}],null),null)],null),null));
$APP.Un(KD,$APP.Kj($APP.Sw,new $APP.Oh(null,new $APP.l(null,4,[cE,"null",RD,"null",UD,"null",eE,"null"],null),null)),RB(new $APP.Oh(null,new $APP.l(null,4,[cE,"null",RD,"null",UD,"null",eE,"null"],null),null),new $APP.Oh(null,new $APP.l(null,4,[cE,null,RD,null,UD,null,eE,null],null),null),null));$APP.Un(TD,$APP.Kj($APP.Sw,$APP.jy),RB($APP.jy,$APP.jy,null));
$APP.Un(lG,$APP.Kj($APP.ey,$APP.ho,new $APP.T(null,4,5,$APP.V,[tD,WF,YD,CD],null),$APP.Zn,new $APP.T(null,2,5,$APP.V,[KD,TD],null)),$APP.lo($APP.oh([$APP.$n,$APP.ao,$APP.bo,$APP.co,$APP.eo,$APP.fo,$APP.go,$APP.ho,$APP.io,$APP.jo,$APP.ko,$APP.Zn],[null,null,null,new $APP.T(null,5,5,$APP.V,[function(a){return $APP.Md(a)},function(a){return $APP.Wd(a,tD)},function(a){return $APP.Wd(a,WF)},function(a){return $APP.Wd(a,YD)},function(a){return $APP.Wd(a,CD)}],null),function(a){return $APP.Md(a)&&$APP.Wd(a,
tD)&&$APP.Wd(a,WF)&&$APP.Wd(a,YD)&&$APP.Wd(a,CD)},new $APP.T(null,2,5,$APP.V,[KD,TD],null),new $APP.T(null,4,5,$APP.V,[tD,WF,YD,CD],null),new $APP.T(null,4,5,$APP.V,[tD,WF,YD,CD],null),new $APP.T(null,4,5,$APP.V,[tD,WF,YD,CD],null),new $APP.T(null,2,5,$APP.V,[KD,TD],null),new $APP.T(null,5,5,$APP.V,[$APP.Kj($APP.Mx,new $APP.T(null,1,5,$APP.V,[$APP.Bn],null),$APP.Kj($APP.dz,$APP.Bn)),$APP.Kj($APP.Mx,new $APP.T(null,1,5,$APP.V,[$APP.Bn],null),$APP.Kj($APP.ex,$APP.Bn,tD)),$APP.Kj($APP.Mx,new $APP.T(null,
1,5,$APP.V,[$APP.Bn],null),$APP.Kj($APP.ex,$APP.Bn,WF)),$APP.Kj($APP.Mx,new $APP.T(null,1,5,$APP.V,[$APP.Bn],null),$APP.Kj($APP.ex,$APP.Bn,YD)),$APP.Kj($APP.Mx,new $APP.T(null,1,5,$APP.V,[$APP.Bn],null),$APP.Kj($APP.ex,$APP.Bn,CD))],null),new $APP.T(null,2,5,$APP.V,[KD,TD],null)])));AB(sD,function(a){var b=$APP.Wn(lG,a);return b?b:console.log($APP.Li.j($APP.K([a])),NB(lG,a))});
var yF=$APP.Ul(sD,new $APP.T(null,1,5,$APP.V,[tD],null)),nF=$APP.Ul(sD,new $APP.T(null,1,5,$APP.V,[WF],null)),MD=$APP.Ul(sD,new $APP.T(null,1,5,$APP.V,[YD],null)),AD=$APP.Ul(sD,new $APP.T(null,1,5,$APP.V,[CD],null)),HD=$APP.Ul(sD,new $APP.T(null,1,5,$APP.V,[qE],null)),yD=$APP.Ul(sD,new $APP.T(null,1,5,$APP.V,[TD],null)),aC=$APP.sf($APP.Fd(new $APP.T(null,2,5,$APP.V,[new $APP.xe(null,null,null,1,null),null],null),new $APP.l(null,3,[$APP.kz,$APP.Rd,$APP.nw,$APP.me,$APP.xw,function(a,b){return $APP.Fd(b,
$APP.Gd(a))}],null)));$APP.Hi(CB,qC,function(a,b,c,d){return bC(d)});var RE=$APP.Tl(!1),yC=function yC(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.C(c.slice(3),0,null):null;return yC.j(arguments[0],arguments[1],arguments[2],c)};
yC.j=function(a,b,c,d){return $APP.Kg.h(new $APP.T(null,2,5,$APP.V,[jG,new $APP.l(null,4,[bD,function(e){return dE.h?dE.h(b,e):dE.call(null,b,e)},xF,function(e){return PD.h?PD.h(b,e):PD.call(null,b,e)},$APP.Vu,new $APP.l(null,2,[$APP.yy,ZB($APP.yy.h(c,$APP.AA)).translate($APP.Ru.g(c)*50,$APP.Su.g(c)*50).toString(),UF,[$APP.r.g(($APP.Ru.g(c)+a/2)*50),"px ",$APP.r.g(($APP.Su.g(c)+a/2)*50),"px"].join("")],null),$APP.Kl,new $APP.T(null,3,5,$APP.V,[$APP.yw.g(c),XE.g(c),$APP.Wd($APP.u(AD),b)?cG:null],null)],
null)],null),d)};yC.B=3;yC.C=function(a){var b=$APP.E(a),c=$APP.G(a);a=$APP.E(c);var d=$APP.G(c);c=$APP.E(d);d=$APP.G(d);return this.j(b,a,c,d)};
var TC=$APP.oh("pmos capacitor wire pnp inductor diode isource text port vsource resistor npn nmos".split(" "),[new $APP.l(null,5,[iD,$APP.QA,hD,$APP.RA,mE,WC,SC,"{self.name}: {self.props.width}/{self.props.length}",EE,new $APP.l(null,4,[sG,new $APP.l(null,1,[DE,"multiplier"],null),iG,new $APP.l(null,1,[DE,"number of fingers"],null),AC,new $APP.l(null,2,[DE,"width",VF,"meter"],null),$APP.xx,new $APP.l(null,2,[DE,"length",VF,"meter"],null)],null)],null),new $APP.l(null,5,[iD,$APP.TA,hD,$APP.UA,mE,
function(a,b){return new $APP.T(null,6,5,$APP.V,[yC,3,a,b,new $APP.T(null,3,5,$APP.V,[VC,b,3],null),new $APP.T(null,2,5,$APP.V,[GC,new $APP.T(null,4,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,.5],null),new $APP.T(null,2,5,$APP.V,[1.5,1.4],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.1,1.4],null),new $APP.T(null,2,5,$APP.V,[1.9,1.4],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.1,1.6],null),new $APP.T(null,2,5,$APP.V,[1.9,
1.6],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,1.6],null),new $APP.T(null,2,5,$APP.V,[1.5,2.5],null)],null)],null)],null)],null)},SC,"{self.name}: {self.props.capacitance}F",EE,new $APP.l(null,1,[XF,new $APP.l(null,2,[DE,"Capacitance",VF,"Farad"],null)],null)],null),new $APP.l(null,4,[iD,$APP.$f,hD,$APP.$f,mE,function(a,b){(function(){var g=$APP.Pj.g(b);return $APP.m(g)?g:a})();var c=$APP.Ru.g(b),d=$APP.Su.g(b),e=$APP.Zy.g(b),f=$APP.Yy.g(b);return new $APP.T(null,4,
5,$APP.V,[nG,new $APP.l(null,3,[bD,function(g){return dE.h?dE.h(a,g):dE.call(null,a,g)},xF,function(g){return PD.h?PD.h(a,g):PD.call(null,a,g)},$APP.Kl,$APP.Wd($APP.u(AD),a)?cG:null],null),new $APP.T(null,2,5,$APP.V,[xG,new $APP.l(null,4,[DF,(c+.5)*50,EF,(d+.5)*50,FF,(c+e+.5)*50,GF,(d+f+.5)*50],null)],null),new $APP.T(null,2,5,$APP.V,[$F,new $APP.l(null,4,[DF,(c+.5)*50,EF,(d+.5)*50,FF,(c+e+.5)*50,GF,(d+f+.5)*50],null)],null)],null)},EE,$APP.R],null),new $APP.l(null,5,[iD,$APP.QA,hD,$APP.SA,mE,XC,
SC,"{self.name}: {self.props.width}/{self.props.length}",EE,new $APP.l(null,1,[sG,new $APP.l(null,1,[DE,"multiplier"],null)],null)],null),new $APP.l(null,5,[iD,$APP.TA,hD,$APP.UA,mE,function(a,b){return new $APP.T(null,7,5,$APP.V,[yC,3,a,b,new $APP.T(null,3,5,$APP.V,[VC,b,3],null),new $APP.T(null,2,5,$APP.V,[GC,new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,.5],null),new $APP.T(null,2,5,$APP.V,[1.5,1.1],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,
2,5,$APP.V,[1.5,1.9],null),new $APP.T(null,2,5,$APP.V,[1.5,2.5],null)],null)],null)],null),new $APP.T(null,2,5,$APP.V,[$APP.Kn,new $APP.l(null,1,[$APP.Ms,"M75,55\n                 a5,5 90 0,0 0,10\n                 a5,5 90 0,0 0,10\n                 a5,5 90 0,0 0,10\n                 a5,5 90 0,0 0,10\n                 "],null)],null)],null)},SC,"{self.name}: {self.props.inductance}H",EE,new $APP.l(null,1,[zG,new $APP.l(null,2,[DE,"Inductance",VF,"Henry"],null)],null)],null),new $APP.l(null,4,[iD,
$APP.TA,hD,$APP.UA,mE,function(a,b){return new $APP.T(null,7,5,$APP.V,[yC,3,a,b,new $APP.T(null,3,5,$APP.V,[VC,b,3],null),new $APP.T(null,2,5,$APP.V,[GC,new $APP.T(null,3,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,.5],null),new $APP.T(null,2,5,$APP.V,[1.5,1.4],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.3,1.6],null),new $APP.T(null,2,5,$APP.V,[1.7,1.6],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,1.6],null),new $APP.T(null,
2,5,$APP.V,[1.5,2.5],null)],null)],null)],null),new $APP.T(null,5,5,$APP.V,[IC,1.5,1.6,.2,270],null)],null)},EE,$APP.R],null),new $APP.l(null,6,[iD,$APP.TA,hD,$APP.UA,mE,function(a,b){return new $APP.T(null,8,5,$APP.V,[yC,3,a,b,new $APP.T(null,3,5,$APP.V,[VC,b,3],null),new $APP.T(null,2,5,$APP.V,[GC,new $APP.T(null,3,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,.5],null),new $APP.T(null,2,5,$APP.V,[1.5,1.1],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,
[1.5,1.25],null),new $APP.T(null,2,5,$APP.V,[1.5,1.65],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,1.9],null),new $APP.T(null,2,5,$APP.V,[1.5,2.5],null)],null)],null)],null),new $APP.T(null,2,5,$APP.V,[mG,new $APP.l(null,3,[vC,75,wC,75,$APP.zy,20],null)],null),new $APP.T(null,5,5,$APP.V,[IC,1.5,1.8,.15,-90],null)],null)},SC,"{self.name}: {self.props.dc}I",EE,new $APP.l(null,2,[eG,new $APP.l(null,2,[DE,"DC current",VF,"Ampere"],null),fG,new $APP.l(null,2,[DE,"AC current",
VF,"Ampere"],null)],null),bG,new $APP.l(null,2,[DE,"Transient current",VF,"Ampere"],null)],null),new $APP.l(null,5,[iD,$APP.$f,hD,$APP.$f,mE,function(a,b){var c=$APP.Ru.g(b),d=$APP.Su.g(b);b=QC(b,$APP.Ad(b,RC,$APP.Hf(TC,new $APP.T(null,2,5,$APP.V,["text",SC],null))));return new $APP.T(null,3,5,$APP.V,[aG,new $APP.l(null,4,[bD,function(e){return dE.h?dE.h(a,e):dE.call(null,a,e)},xF,function(e){return PD.h?PD.h(a,e):PD.call(null,a,e)},$APP.Kl,$APP.Wd($APP.u(AD),a)?cG:null,$APP.yy,["translate(",$APP.r.g((c+
.1)*50),", ",$APP.r.g((d+.3)*50),")"].join("")],null),new $APP.T(null,2,5,$APP.V,[$APP.ry,b],null)],null)},SC,"Operating Point:\n{res.op}",EE,$APP.R],null),new $APP.l(null,5,[iD,$APP.$f,hD,new $APP.T(null,1,5,$APP.V,[new $APP.T(null,3,5,$APP.V,[0,0,"P"],null)],null),mE,function(a,b){return new $APP.T(null,6,5,$APP.V,[yC,1,a,b,function(){switch(XE.g(b)){case "ground":return new $APP.T(null,2,5,$APP.V,[GC,new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[.5,.5],null),
new $APP.T(null,2,5,$APP.V,[.3,.5],null)],null),new $APP.T(null,4,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[0,.5],null),new $APP.T(null,2,5,$APP.V,[.3,.2],null),new $APP.T(null,2,5,$APP.V,[.3,.8],null),new $APP.T(null,2,5,$APP.V,[0,.5],null)],null)],null)],null);case "supply":return new $APP.T(null,2,5,$APP.V,[GC,new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[.5,.5],null),new $APP.T(null,2,5,$APP.V,[0,.5],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,
5,$APP.V,[0,.2],null),new $APP.T(null,2,5,$APP.V,[0,.8],null)],null)],null)],null);case "text":return null;default:return new $APP.T(null,2,5,$APP.V,[GC,new $APP.T(null,1,5,$APP.V,[new $APP.T(null,6,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[.5,.5],null),new $APP.T(null,2,5,$APP.V,[.3,.3],null),new $APP.T(null,2,5,$APP.V,[0,.3],null),new $APP.T(null,2,5,$APP.V,[0,.7],null),new $APP.T(null,2,5,$APP.V,[.3,.7],null),new $APP.T(null,2,5,$APP.V,[.5,.5],null)],null)],null)],null)}}(),new $APP.T(null,3,5,$APP.V,
[$APP.ry,new $APP.l(null,3,[YF,function(){switch(Math.round($APP.E($APP.yy.g(b)))){case 1:return"end";case -1:return"start";default:return"middle"}}(),hG,"middle",$APP.yy,ZB($APP.yy.g(b)).translate(50/($APP.I.h(XE.g(b),"text")?-4:4),-25).inverse().toString()],null),XE.g(b)==null?QC(b,$APP.Ad(b,RC,$APP.Hf(TC,new $APP.T(null,2,5,$APP.V,["port",SC],null)))):$APP.Pj.h(b,"net")],null)],null)},SC,"{self.name}: {res.op[self.name.toLowerCase()]:.2f}V",EE,$APP.R],null),new $APP.l(null,5,[iD,$APP.TA,hD,$APP.UA,
mE,function(a,b){return new $APP.T(null,9,5,$APP.V,[yC,3,a,b,new $APP.T(null,3,5,$APP.V,[VC,b,3],null),new $APP.T(null,2,5,$APP.V,[GC,new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,.5],null),new $APP.T(null,2,5,$APP.V,[1.5,1.1],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,1.9],null),new $APP.T(null,2,5,$APP.V,[1.5,2.5],null)],null)],null)],null),new $APP.T(null,2,5,$APP.V,[mG,new $APP.l(null,3,[vC,75,wC,75,$APP.zy,20],null)],null),
new $APP.T(null,3,5,$APP.V,[$APP.ry,new $APP.l(null,3,[$APP.Ru,75,$APP.Su,70,YF,"middle"],null),"+"],null),new $APP.T(null,3,5,$APP.V,[$APP.ry,new $APP.l(null,3,[$APP.Ru,75,$APP.Su,90,YF,"middle"],null),"â"],null)],null)},SC,"{self.name}: {self.props.dc}V",EE,new $APP.l(null,3,[eG,new $APP.l(null,2,[DE,"DC voltage",VF,"Volt"],null),fG,new $APP.l(null,2,[DE,"AC voltage",VF,"Volt"],null),bG,new $APP.l(null,2,[DE,"Transient voltage",VF,"Volt"],null)],null)],null),new $APP.l(null,5,[iD,$APP.TA,hD,$APP.UA,
mE,function(a,b){return new $APP.T(null,7,5,$APP.V,[yC,3,a,b,new $APP.T(null,3,5,$APP.V,[VC,b,3],null),new $APP.T(null,2,5,$APP.V,[cD,new $APP.l(null,4,[$APP.Ru,67.5,$APP.Su,1.1*50,AC,15,BC,40],null)],null),new $APP.T(null,2,5,$APP.V,[GC,new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,.5],null),new $APP.T(null,2,5,$APP.V,[1.5,1.1],null)],null),new $APP.T(null,2,5,$APP.V,[new $APP.T(null,2,5,$APP.V,[1.5,1.9],null),new $APP.T(null,2,5,$APP.V,[1.5,2.5],null)],
null)],null)],null)],null)},SC,"{self.name}: {self.props.resistance}Î©",EE,new $APP.l(null,1,[AG,new $APP.l(null,2,[DE,"Resistance",VF,"Ohm"],null)],null)],null),new $APP.l(null,5,[iD,$APP.QA,hD,$APP.SA,mE,XC,SC,"{self.name}: {self.props.width}/{self.props.length}",EE,new $APP.l(null,1,[sG,new $APP.l(null,1,[DE,"multiplier"],null)],null)],null),new $APP.l(null,5,[iD,$APP.QA,hD,$APP.RA,mE,WC,SC,"{self.name}: {self.props.width}/{self.props.length}",EE,new $APP.l(null,4,[sG,new $APP.l(null,1,[DE,"multiplier"],
null),iG,new $APP.l(null,1,[DE,"number of fingers"],null),AC,new $APP.l(null,2,[DE,"width",VF,"meter"],null),$APP.xx,new $APP.l(null,2,[DE,"length",VF,"meter"],null)],null)],null)]),oD=PB(function(){return mD()});
$APP.Hi(CB,dG,function FG(){DB(dG);DB(qC);var b=$APP.Rm(1);$APP.wm(function(){var c=function(){function e(f){var g=f[1];if(g===7){var h=f[7];g=f[8];var n=f[9],p=f[10];f[11]=f[2];f[8]=g;f[9]=n;f[10]=p;f[7]=h+1;f[2]=null;f[1]=2;return $APP.Z}return g===1?(g=$APP.u(oD),g=nD(g),g=$APP.D(g),f[8]=g,f[9]=null,f[10]=0,f[7]=0,f[2]=null,f[1]=2,$APP.Z):g===4?(n=f[9],h=f[7],h=$APP.yd(n,h),g=$APP.N(h,0,null),h=$APP.N(h,1,null),g=qD(g,h),$APP.Om(f,7,g)):g===13?(f[2]=f[2],f[1]=10,$APP.Z):g===6?(f[2]=f[2],f[1]=3,
$APP.Z):g===3?(g=f[2],h=$APP.Hi(CB,qC,function(){return function(q,t,w,y){return bC(y)}}()),n=$APP.Hi(CB,dG,FG),f[12]=g,f[13]=h,$APP.Pm(f,n)):g===12?(h=f[14],h=$APP.E(h),g=$APP.N(h,0,null),h=$APP.N(h,1,null),g=qD(g,h),$APP.Om(f,14,g)):g===2?(h=f[7],p=f[10],f[1]=$APP.m(h<p)?4:5,$APP.Z):g===11?(h=f[14],g=$APP.tc(h),h=$APP.uc(h),n=$APP.H(g),f[8]=h,f[9]=g,f[10]=n,f[7]=0,f[2]=null,f[1]=2,$APP.Z):g===9?(f[2]=null,f[1]=10,$APP.Z):g===5?(g=f[8],h=f[14],g=$APP.D(g),f[14]=g,f[1]=g?8:9,$APP.Z):g===14?(h=f[14],
n=f[2],g=$APP.G(h),f[15]=n,f[8]=g,f[9]=null,f[10]=0,f[7]=0,f[2]=null,f[1]=2,$APP.Z):g===10?(f[2]=f[2],f[1]=6,$APP.Z):g===8?(h=f[14],f[1]=$APP.Pd(h)?11:12,$APP.Z):null}return function(){function f(n){for(;;){a:{try{for(;;){var p=e(n);if(!$APP.Q(p,$APP.Z)){var q=p;break a}}}catch(t){q=t;n[2]=q;if($APP.D(n[4]))n[1]=$APP.E(n[4]);else throw q;q=$APP.Z;break a}q=void 0}if(!$APP.Q(q,$APP.Z))return q}}function g(){var n=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];n[0]=
h;n[1]=1;return n}var h=null;h=function(n){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,n)}throw Error("Invalid arity: "+arguments.length);};h.m=g;h.g=f;return h}()}(),d=function(){var e=c();e[6]=b;return e}();return $APP.Nm(d)});return b});
var ED=$APP.sf(new $APP.T(null,2,5,$APP.V,[0,0],null)),OD=$APP.sf($APP.Ph),aE=new BroadcastChannel("probe"),QE=PB(function(){return lC()}),aF=function aF(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.C(c.slice(0),0,null):null;return aF.j(c)};
aF.j=function(){var a=$APP.Tl(0),b=$APP.Tl(null);return function(){function c(e){var f=null;if(arguments.length>0){f=0;for(var g=Array(arguments.length-0);f<g.length;)g[f]=arguments[f+0],++f;f=new $APP.C(g,0,null)}return d.call(this,f)}function d(e){var f=$APP.pf(function(g,h){return new $APP.T(null,3,5,$APP.V,[$APP.qz,new $APP.l(null,2,[$APP.Sj,g,bF,function(){return $APP.tf(a,g)}],null),h],null)},e);return new $APP.T(null,4,5,$APP.V,[$APP.mx,new $APP.l(null,2,[bD,function(g){var h=g.currentTarget;
return $APP.tf(b,setTimeout(function(){return h.open=!0},300))},bF,function(g){clearTimeout($APP.u(b));return g.currentTarget.open=!1}],null),new $APP.T(null,3,5,$APP.V,[$APP.Ux,new $APP.l(null,1,[$APP.iy,function(g){return g.preventDefault()}],null),$APP.od(e,$APP.u(a))],null),new $APP.T(null,3,5,$APP.V,[yG,$APP.Kp.h($APP.u(a),f),$APP.vf($APP.u(a)+1,f)],null)],null)}c.B=0;c.C=function(e){e=$APP.D(e);return d(e)};c.j=d;return c}()};aF.B=0;aF.C=function(a){return this.j($APP.D(a))};
var PF=$APP.oh([new $APP.Oh(null,new $APP.l(null,1,[vG,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[$APP.Iy,null],null),null),new $APP.Oh(null,new $APP.l(null,2,[oG,null,$APP.Tw,null],null),null),new $APP.Oh(null,new $APP.l(null,2,[$APP.Xy,null,$APP.Ay,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[$APP.Ms,null],null),null),new $APP.Oh(null,new $APP.l(null,2,[$APP.Xy,null,wG,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[gG,null],null),null),new $APP.Oh(null,new $APP.l(null,
1,[qG,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[$APP.zy,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[tG,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[wG,null],null),null),new $APP.Oh(null,new $APP.l(null,2,[$APP.Xy,null,sG,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[$APP.Qs,null],null),null),new $APP.Oh(null,new $APP.l(null,2,[vG,null,$APP.Tw,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[kG,null],null),null),new $APP.Oh(null,new $APP.l(null,2,[$APP.Tw,
null,$APP.Ru,null],null),null),new $APP.Oh(null,new $APP.l(null,2,[$APP.Xy,null,qG,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[$APP.Ru,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[sG,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[pG,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[uG,null],null),null),new $APP.Oh(null,new $APP.l(null,2,[pG,null,$APP.Tw,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[ZF,null],null),null),new $APP.Oh(null,new $APP.l(null,3,[$APP.Xy,
null,oG,null,$APP.Tw,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[$APP.Ls,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[$APP.Jy,null],null),null),new $APP.Oh(null,new $APP.l(null,2,[$APP.Xy,null,rG,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[$APP.Ay,null],null),null),$APP.Qh([$APP.ti.g(" ")]),new $APP.Oh(null,new $APP.l(null,2,[$APP.Xy,null,$APP.Jy,null],null),null),new $APP.Oh(null,new $APP.l(null,1,[rG,null],null),null)],[function(){return wE("capacitor",QD.g($APP.u(sD)))},
function(){return wE("inductor",QD.g($APP.u(sD)))},sC,function(){return ZE(QD.g($APP.u(sD)))},function(){return wE("diode",QD.g($APP.u(sD)))},function(){return wE("pnp",QD.g($APP.u(sD)))},DD,function(){return BD(function(a){return a.rotate(90)})},function(){return wE("resistor",QD.g($APP.u(sD)))},function(){return YE(QD.g($APP.u(sD)))},function(){return wE("npn",QD.g($APP.u(sD)))},function(){return wE("pmos",QD.g($APP.u(sD)))},function(){return $APP.X.j(sD,$APP.W,YD,ND,$APP.K([TD,null]))},HE,$D,IE,
function(){return BD(function(a){return a.rotate(-90)})},function(){return wE("ckt",QD.g($APP.u(sD)))},function(){return wE("nmos",QD.g($APP.u(sD)))},function(){return wE("vsource",QD.g($APP.u(sD)))},function(){return wE("isource",QD.g($APP.u(sD)))},JE,DD,tC,function(){return $APP.X.s(sD,$APP.W,YD,UD)},function(){return BD(function(a){return a.flipX()})},function(){return $E(QD.g($APP.u(sD)))},function(){return wE("port",QD.g($APP.u(sD)))},function(){return $APP.X.h(sD,function(a){return $APP.W.i(a,
YD,BG.g(a))})},function(){return BD(function(a){return a.flipY()})},function(){return wE("text",QD.g($APP.u(sD)))}]),QF=$APP.$e([$APP.Qh([$APP.ti.g(" ")]),function(){return $APP.X.h(sD,function(a){return $APP.W.j(a,YD,ME,$APP.K([BG,YD.g(a)]))})}]);$APP.la("nyancad.mosaic.editor.render",RF);$APP.la("nyancad.mosaic.editor.init",SF);$APP.la("nyancad.mosaic.editor.clear",function(){return $APP.X.i(CB,function(a,b){return $APP.S.i($APP.lk,a,b)},$APP.Th($APP.Hh($APP.u(CB))))});SF();