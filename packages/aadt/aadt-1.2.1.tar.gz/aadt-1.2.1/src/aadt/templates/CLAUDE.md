# Claude AI åŠ©æ‰‹è®°å¿† - Anki æ’ä»¶å¼€å‘

æœ¬æ–‡æ¡£ä¸º Claude AI æä¾›ä¸“ä¸šçš„ Anki æ’ä»¶å¼€å‘æŒ‡å¯¼å’Œé¡¹ç›®ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚

### å¼€å‘ä¼˜å…ˆçº§

1. **äº§å“è®¾è®¡å“è¶Š**: ä¼˜åŒ–ç”¨æˆ·ä½“éªŒå’Œæ’ä»¶è®¾è®¡
2. **ä»£ç è´¨é‡**: é€šè¿‡ TDDã€ç±»åž‹åŒ–å’ŒçŽ°ä»£æ¨¡å¼ä¿æŒé«˜æ ‡å‡†
3. **Anki ç”Ÿæ€ç³»ç»Ÿå…¼å®¹æ€§**: éµå¾ª Anki å®¿ä¸»çŽ¯å¢ƒçº¦å®š
4. **æ€§èƒ½**: ä½¿ç”¨åŽå°æ“ä½œå’Œé«˜æ•ˆæ•°æ®å¤„ç†
5. **å¯ç»´æŠ¤æ€§**: ç¼–å†™å¹²å‡€ã€æ–‡æ¡£è‰¯å¥½ã€å¯æµ‹è¯•çš„ä»£ç 

è®°ä½: è¿™æ˜¯ä¸€ä¸ªé’ˆå¯¹ 25.06+ çš„çŽ°ä»£ Anki æ’ä»¶ï¼Œé‡‡ç”¨å½“å‰æœ€ä½³å®žè·µå’Œå·¥å…·ã€‚å§‹ç»ˆä¼˜å…ˆè€ƒè™‘æœ€æ–°çš„ Anki æ¨¡å¼è€Œéžé—ç•™æ–¹æ³•ã€‚

## å‚è€ƒä¿¡æºä¼˜å…ˆçº§

1. **æœ¬åœ°æºä»£ç **: æ£€æŸ¥ `.venv` ä¸‹ `anki` å’Œ `aqt` æºä»£ç 
2. **é¡¹ç›®æ–‡æ¡£**: é¡¹ç›®æ ¹ç›®å½•ä¸‹ `ANKI.md` ä¸­çš„ API è¯¦è§£å’Œæœ€ä½³å®žè·µ
3. **ç¦æ­¢ç½‘ç»œæœç´¢**: ç½‘ç»œå†…å®¹å¾€å¾€è¿‡æ—¶ï¼Œä¸è¦å‚è€ƒ

## è®¾è®¡åŽŸåˆ™

1. **çŽ°ä»£ Anki 25.06+**: é’ˆå¯¹æœ€æ–° Anki ç‰ˆæœ¬ä½¿ç”¨çŽ°ä»£ API
2. **ç±»åž‹å®‰å…¨**: ä½¿ç”¨çŽ°ä»£ Python 3.10+ æ³¨è§£çš„å®Œæ•´ mypy è¦†ç›–
3. **ä»…æ”¯æŒ Qt6**: é€šè¿‡ aqt.qt å…¼å®¹å±‚ï¼Œæ—  Qt5 é—ç•™ä»£ç ï¼Œç®€åŒ–æž¶æž„
4. **åŸºäºŽæ“ä½œ**: ä½¿ç”¨ CollectionOp/QueryOp è€Œéžé—ç•™çº¿ç¨‹
5. **ç½‘ç»œ-æ•°æ®åº“åˆ†ç¦»**: ä¸¥æ ¼åˆ†ç¦»ç½‘ç»œè¯·æ±‚å’Œæ•°æ®åº“æ“ä½œ
6. **æµ‹è¯•é©±åŠ¨å¼€å‘**: å…ˆå†™æµ‹è¯•ï¼ŒåŽå®žçŽ°åŠŸèƒ½
7. **ç±»åž‹å®‰å…¨é’©å­**: ä½¿ç”¨ gui_hooks è€Œéžé—ç•™ anki.hooks
8. **src-layout**: æœ€ä½³å®žè·µé¡¹ç›®ç»“æž„

### å¼ƒç”¨æ¨¡å¼ 

- **ç¦æ­¢** ä½¿ç”¨ç›´æŽ¥ PyQt6 å¯¼å…¥ - å§‹ç»ˆä½¿ç”¨ `from aqt.qt import *`
- **ç¦æ­¢** ä½¿ç”¨é—ç•™ `anki.hooks` - ä½¿ç”¨ `gui_hooks` ä»£æ›¿
- **ç¦æ­¢** ä½¿ç”¨æ‰‹åŠ¨çº¿ç¨‹ - ä½¿ç”¨ `CollectionOp`/`QueryOp`
- **ç¦æ­¢** åœ¨å•ä¸ªå‡½æ•°ä¸­æ··åˆç½‘ç»œå’Œæ•°æ®åº“æ“ä½œ
- **ç¦æ­¢** ä½¿ç”¨ä¸è¿”å›ž `OpChanges` çš„æ—§é›†åˆæ–¹æ³•
- **ç¦æ­¢** ä½¿ç”¨ Qt5 æ¨¡å¼ - æ­¤é¡¹ç›®ä»…æ”¯æŒ Qt6
- **ç¦æ­¢** ä½¿ç”¨æ—§å¼ç±»åž‹æç¤º (`List`, `Dict`, `Optional`)
- **ç¦æ­¢** æ‰‹åŠ¨å¤åˆ¶ UI æ–‡ä»¶ - ä½¿ç”¨ `aadt ui` å‘½ä»¤
- **ç¦æ­¢** ä½¿ç”¨ QRC æ–‡ä»¶ - ä½¿ç”¨ç›´æŽ¥æ–‡ä»¶è·¯å¾„
- **ç¦æ­¢** ä½¿ç”¨ pip - å§‹ç»ˆä½¿ç”¨ uv å‘½ä»¤

## ðŸŽ¯ é¡¹ç›®æ¦‚è¿°

**ç›®æ ‡ç‰ˆæœ¬**: Anki 25.06b7+ (buildhash: ad34b76f)  
**å¼€å‘è¯­è¨€**: Python 3.13+  
**æž¶æž„**: çŽ°ä»£ Qt6 ä¸“ç”¨ Anki æ’ä»¶  
**å¼€å‘æ¨¡å¼**: æµ‹è¯•é©±åŠ¨å¼€å‘ (TDD)  

## é¡¹ç›®ç»“æž„

```
your-addon/
â”œâ”€â”€ src/your_module/            # ä¸» Python åŒ… (src-layout)
â”‚   â”œâ”€â”€ __init__.py             # æ’ä»¶å…¥å£ç‚¹å’Œä¸»è¦åŠŸèƒ½
â”‚   â”œâ”€â”€ resources/              # UI èµ„æº (ä»Ž ui/resources/ å¤åˆ¶)
â”‚   â””â”€â”€ ui/                     # ç¼–è¯‘çš„ UI æ–‡ä»¶ (.py ä»Ž .ui è½¬æ¢)
â”œâ”€â”€ ui/                         # UI æºæ–‡ä»¶
â”‚   â”œâ”€â”€ designer/               # Qt Designer .ui æ–‡ä»¶
â”‚   â””â”€â”€ resources/              # UI èµ„æº (å›¾æ ‡ã€æ ·å¼ç­‰)
â”œâ”€â”€ tests/                      # æµ‹è¯•æ–‡ä»¶ (TDD æ–¹æ³•)
â”œâ”€â”€ addon.json                  # æ’ä»¶é…ç½®
â”œâ”€â”€ pyproject.toml              # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ .python-version             # Python ç‰ˆæœ¬è§„èŒƒ
â”œâ”€â”€ README.md                   # æ’ä»¶è¯´æ˜Ž
â”œâ”€â”€ ANKI.md                     # ANKI æ ¸å¿ƒåº“è¯¦è§£
â””â”€â”€ CLAUDE.md                   # æœ¬æ–‡ä»¶
```

## ä¾èµ–ç®¡ç†

æœ¬é¡¹ç›®ä½¿ç”¨å•ä¸€ `dev` ç»„åŒ…å«æ‰€æœ‰å¼€å‘ä¾èµ–ï¼š

```bash
# å®‰è£…/æ›´æ–°æ‰€æœ‰å¼€å‘ä¾èµ–
uv sync --group dev

# åŒ…å«:
# - anki>=25.6                  # Anki æ ¸å¿ƒåº“
# - aqt>=25.6                   # Anki ä¸“å±ž PyQt6 åº“
# - aadt>=1.1.0                 # å¼€å‘å·¥å…·åº“
# - mypy>=1.16.1                # é™æ€ç±»åž‹æ£€æŸ¥
# - ruff>=0.12.1                # å¿«é€Ÿä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–
# - pytest>=8.0.0               # æµ‹è¯•æ¡†æž¶
```
