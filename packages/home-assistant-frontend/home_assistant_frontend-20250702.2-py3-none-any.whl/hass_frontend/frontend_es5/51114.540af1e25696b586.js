"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["51114"],{65505:function(e,t,n){n.d(t,{Cu:function(){return b},Ex:function(){return u},R9:function(){return f},_T:function(){return p},fC:function(){return l},gK:function(){return _},lN:function(){return g},nJ:function(){return w},tB:function(){return h},td:function(){return d},uV:function(){return m},xO:function(){return y},xr:function(){return v}});var i=n(29694),a=n(75778),r=(n(25518),n(70021),n(26847),n(24819),n(81738),n(94814),n(29981),n(6989),n(54480),n(69920),n(11353),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(48694),n(27530),n(67050)),s=n(28905),o=n(37528),c=n(89014),d=function(e){return e.THREAD="thread",e.WIFI="wifi",e.ETHERNET="ethernet",e.UNKNOWN="unknown",e}({}),u=function(e){var t;return null===(t=e.auth.external)||void 0===t?void 0:t.config.canCommissionMatter},l=function(){var e=(0,a.Z)((0,i.Z)().m(function e(t){var n,a,r,s,d,u,l,f;return(0,i.Z)().w(function(e){for(;;)switch(e.n){case 0:if(!(0,o.p)(t,"thread")){e.n=3;break}return e.n=1,(0,c.r9)(t);case 1:if(n=e.v,!(a=n.datasets.find(function(e){return e.preferred}))){e.n=3;break}return r=t.auth.external,e.n=2,(0,c.EM)(t,a.dataset_id);case 2:return s=e.v.tlv,d=a.preferred_border_agent_id,u=a.preferred_extended_address,l=a.extended_pan_id,f={type:"matter/commission",payload:{active_operational_dataset:s,border_agent_id:d,mac_extended_address:u,extended_pan_id:l}},e.a(2,r.fireMessage.call(r,f));case 3:return e.a(2,t.auth.external.fireMessage({type:"matter/commission"}))}},e)}));return function(t){return e.apply(this,arguments)}}(),f=function(e,t){var n,i=(0,s.q4)(e.connection,function(e){if(n){var a=Object.values(e).filter(function(e){return e.identifiers.find(function(e){return"matter"===e[0]})&&!n.has(e.id)});a.length&&(i(),n=void 0,null==t||t(),(0,r.c)("/config/devices/device/".concat(a[0].id)))}else n=new Set(Object.values(e).filter(function(e){return e.identifiers.find(function(e){return"matter"===e[0]})}).map(function(e){return e.id}))});return function(){i(),n=void 0}},p=function(e,t){return e.callWS({type:"matter/commission",code:t})},_=function(e,t){return e.callWS({type:"matter/commission_on_network",pin:t})},v=function(e,t,n){return e.callWS({type:"matter/set_wifi_credentials",network_name:t,password:n})},h=function(e,t){return e.callWS({type:"matter/set_thread",thread_operation_dataset:t})},m=function(e,t){return e.callWS({type:"matter/node_diagnostics",device_id:t})},y=function(e,t){return e.callWS({type:"matter/ping_node",device_id:t})},g=function(e,t){return e.callWS({type:"matter/open_commissioning_window",device_id:t})},w=function(e,t,n){return e.callWS({type:"matter/remove_matter_fabric",device_id:t,fabric_index:n})},b=function(e,t){return e.callWS({type:"matter/interview_node",device_id:t})}},89014:function(e,t,n){n.d(t,{EM:function(){return c},NO:function(){return f},Xt:function(){return u},h:function(){return s},jK:function(){return d},lR:function(){return l},r9:function(){return o}});var i=n(54521),a=n(4490),r=(n(69920),function(){return(0,a.Z)(function e(){(0,i.Z)(this,e),this.routers={}},[{key:"processEvent",value:function(e){return"router_discovered"===e.type?this.routers[e.key]=e.data:"router_removed"===e.type&&delete this.routers[e.key],Object.values(this.routers)}}])}()),s=function(e,t){var n=new r;return e.connection.subscribeMessage(function(e){return t(n.processEvent(e))},{type:"thread/discover_routers"})},o=function(e){return e.callWS({type:"thread/list_datasets"})},c=function(e,t){return e.callWS({type:"thread/get_dataset_tlv",dataset_id:t})},d=function(e,t,n){return e.callWS({type:"thread/add_dataset_tlv",source:t,tlv:n})},u=function(e,t){return e.callWS({type:"thread/delete_dataset",dataset_id:t})},l=function(e,t){return e.callWS({type:"thread/set_preferred_dataset",dataset_id:t})},f=function(e,t,n,i){return e.callWS({type:"thread/set_preferred_border_agent",dataset_id:t,border_agent_id:n,extended_address:i})}},21979:function(e,t,n){n.r(t),n.d(t,{HaDeviceInfoMatter:function(){return x}});var i,a,r,s,o,c=n(54982),d=n(29694),u=n(75778),l=n(54521),f=n(4490),p=n(20129),_=n(53389),v=n(85297),h=(n(24819),n(81738),n(6989),n(54480),n(73742)),m=n(59048),y=n(7616),g=(n(19515),n(65505)),w=n(6291),b=n(95814),x=function(e){function t(){return(0,l.Z)(this,t),(0,p.Z)(this,t,arguments)}return(0,v.Z)(t,e),(0,f.Z)(t,[{key:"willUpdate",value:function(e){(0,_.Z)(t,"willUpdate",this,3)([e]),e.has("device")&&this._fetchNodeDetails()}},{key:"_fetchNodeDetails",value:(n=(0,u.Z)((0,d.Z)().m(function e(){return(0,d.Z)().w(function(e){for(;;)switch(e.n){case 0:if(this.device){e.n=1;break}return e.a(2);case 1:if(null===this.device.via_device_id){e.n=2;break}return e.a(2);case 2:return e.p=2,e.n=3,(0,g.uV)(this.hass,this.device.id);case 3:this._nodeDiagnostics=e.v,e.n=5;break;case 4:e.p=4,e.v,this._nodeDiagnostics=void 0;case 5:return e.a(2)}},e,this,[[2,4]])})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return this._nodeDiagnostics?(0,m.dy)(i||(i=(0,c.Z)([' <ha-expansion-panel .header="','"> <div class="row"> <span class="name">',':</span> <span class="value">','</span> </div> <div class="row"> <span class="name">',':</span> <span class="value">','</span> </div> <div class="row"> <span class="name">',':</span> <span class="value">',"</span> </div> "," ",' <div class="row"> <span class="name">',':</span> <span class="value">',"</span> </div> </ha-expansion-panel> "])),this.hass.localize("ui.panel.config.matter.device_info.device_info"),this.hass.localize("ui.panel.config.matter.device_info.node_id"),this._nodeDiagnostics.node_id,this.hass.localize("ui.panel.config.matter.device_info.network_type"),this.hass.localize("ui.panel.config.matter.network_type.".concat(this._nodeDiagnostics.network_type)),this.hass.localize("ui.panel.config.matter.device_info.node_type"),this.hass.localize("ui.panel.config.matter.node_type.".concat(this._nodeDiagnostics.node_type)),this._nodeDiagnostics.network_name?(0,m.dy)(a||(a=(0,c.Z)([' <div class="row"> <span class="name">',':</span> <span class="value">',"</span> </div> "])),this.hass.localize("ui.panel.config.matter.device_info.network_name"),this._nodeDiagnostics.network_name):m.Ld,this._nodeDiagnostics.mac_address?(0,m.dy)(r||(r=(0,c.Z)([' <div class="row"> <span class="name">',':</span> <span class="value">',"</span> </div> "])),this.hass.localize("ui.panel.config.matter.device_info.mac_address"),this._nodeDiagnostics.mac_address):m.Ld,this.hass.localize("ui.panel.config.matter.device_info.ip_adresses"),this._nodeDiagnostics.ip_adresses.map(function(e){return(0,m.dy)(s||(s=(0,c.Z)(["","<br>"])),e)})):m.Ld}}],[{key:"styles",get:function(){return[b.Qx,(0,m.iv)(o||(o=(0,c.Z)(["h4{margin-bottom:4px}div{word-break:break-all;margin-top:2px}.row{display:flex;justify-content:space-between;padding-bottom:4px}.value{text-align:right}ha-expansion-panel{margin:8px -16px 0;--expansion-panel-summary-padding:0 16px;--expansion-panel-content-padding:0 16px;--ha-card-border-radius:0px}"])))]}}]);var n}((0,w.f)(m.oi));(0,h.__decorate)([(0,y.Cb)({attribute:!1})],x.prototype,"hass",void 0),(0,h.__decorate)([(0,y.Cb)({attribute:!1})],x.prototype,"device",void 0),(0,h.__decorate)([(0,y.SB)()],x.prototype,"_nodeDiagnostics",void 0),x=(0,h.__decorate)([(0,y.Mo)("ha-device-info-matter")],x)}}]);
//# sourceMappingURL=51114.540af1e25696b586.js.map