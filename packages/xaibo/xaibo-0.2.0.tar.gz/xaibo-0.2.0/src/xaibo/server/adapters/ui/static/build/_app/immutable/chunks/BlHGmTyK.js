var Fe=Object.defineProperty;var we=o=>{throw TypeError(o)};var We=(o,t,e)=>t in o?Fe(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var P=(o,t,e)=>We(o,typeof t!="symbol"?t+"":t,e),le=(o,t,e)=>t.has(o)||we("Cannot "+e);var p=(o,t,e)=>(le(o,t,"read from private field"),e?e.call(o):t.get(o)),M=(o,t,e)=>t.has(o)?we("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),ae=(o,t,e,r)=>(le(o,t,"write to private field"),r?r.call(o,e):t.set(o,e),e),ct=(o,t,e)=>(le(o,t,"access private method"),e);import"./CWj6FrbW.js";import{p as B,R as S,f as T,F as n,a as F,t as J,ag as X,a0 as Y,u as fe,B as ze,Q as he,c as j,n as Z,r as z,s as ot,S as qe}from"./CioMtalE.js";import{c as D,a as v,t as W,b as je,n as Pe}from"./8I6xAQmg.js";import{s as L}from"./CxwmnHuf.js";import{p as I,r as G,s as tt,c as rt,b as Xe}from"./i2x3WpvN.js";import{m as st,J as Ye,C as Ce,u as Et,K as ft,L as bt,E as Se,S as de,M as ye,N as ke,O as Te,Q as Me,R as Ae,A as He,g as Oe,B as Ge,U as Qe,y as lt,n as dt,V as Je,G as Ee,W as Ze,X as $e,Y as to,Z as eo,_ as oo,d as V,b as vt,I as ge,a as pt,P as ro,$ as no}from"./gsB6E_W3.js";import{o as pe,s as io}from"./DCQgh7ZV.js";import{i as K}from"./CTeLhLzh.js";import{r as Ne,a as et,e as _t,i as Vt,g as De,s as at,b as Re}from"./CnvS_7Kp.js";import{a as so,C as Ve,c as lo,S as ao,B as ho,N as uo}from"./BZVSwjMJ.js";import{b as Le,P as co,a as fo,o as go,F as po,c as vo}from"./DqxGqOhk.js";function mo(o,t,e=!0){if(!(o.length===0||t<0||t>=o.length))return o.length===1&&t===0?o[0]:t===o.length-1?e?o[0]:void 0:o[t+1]}function bo(o,t,e=!0){if(!(o.length===0||t<0||t>=o.length))return o.length===1&&t===0?o[0]:t===0?e?o[o.length-1]:void 0:o[t-1]}function _o(o,t,e,r=!0){if(o.length===0||t<0||t>=o.length)return;let s=t+e;return r?s=(s%o.length+o.length)%o.length:s=Math.max(0,Math.min(s,o.length-1)),o[s]}function wo(o,t,e,r=!0){if(o.length===0||t<0||t>=o.length)return;let s=t-e;return r?s=(s%o.length+o.length)%o.length:s=Math.max(0,Math.min(s,o.length-1)),o[s]}function ve(o,t,e){const r=t.toLowerCase();if(r.endsWith(" ")){const i=r.slice(0,-1);if(o.filter(g=>g.toLowerCase().startsWith(i)).length<=1)return ve(o,i,e);const N=e==null?void 0:e.toLowerCase();if(N&&N.startsWith(i)&&N.charAt(i.length)===" "&&t.trim()===i)return e;const A=o.filter(g=>g.toLowerCase().startsWith(r));if(A.length>0){const g=e?o.indexOf(e):-1;return xe(A,Math.max(g,0)).find(h=>h!==e)||e}}const m=t.length>1&&Array.from(t).every(i=>i===t[0])?t[0]:t,l=m.toLowerCase(),u=e?o.indexOf(e):-1;let w=xe(o,Math.max(u,0));m.length===1&&(w=w.filter(i=>i!==e));const a=w.find(i=>i==null?void 0:i.toLowerCase().startsWith(l));return a!==e?a:void 0}function xe(o,t){return o.map((e,r)=>o[(t+r)%o.length])}var So=W("<input>"),yo=W("<input>");function No(o,t){B(t,!0);let e=I(t,"value",15),r=G(t,["$$slots","$$events","$$legacy","value"]);const s=S(()=>st(r,{"aria-hidden":"true",tabindex:-1,style:Ye}));var m=D(),l=T(m);{var u=_=>{var a=So();Ne(a);let i;J(()=>i=et(a,i,{...n(s),value:e()})),v(_,a)},w=_=>{var a=yo();Ne(a);let i;J(()=>i=et(a,i,{...n(s)})),so(a,e),v(_,a)};K(l,_=>{n(s).type==="checkbox"?_(u):_(w,!1)})}v(o,m),F()}function xo(o){const t=Le("",1e3),e=(o==null?void 0:o.onMatch)??(l=>l.focus()),r=(o==null?void 0:o.getCurrentItem)??(()=>document.activeElement);function s(l,u){var N;if(!u.length)return;t.current=t.current+l;const w=r(),_=((N=u.find(A=>A===w))==null?void 0:N.textContent)??"",a=u.map(A=>A.textContent??""),i=ve(a,t.current,_),b=u.find(A=>A.textContent===i);return b&&e(b),b}function m(){t.current=""}return{search:t,handleTypeaheadSearch:s,resetTypeahead:m}}function Io(o){const t=Le("",1e3),e=S(()=>o.candidateValues());function r(m){if(!o.enabled||!n(e).length)return;t.current=t.current+m;const l=o.getCurrentItem(),u=n(e).find(i=>i===l)??"",w=n(e).map(i=>i??""),_=ve(w,t.current,u),a=n(e).find(i=>i===_);return a&&o.onMatch(a),a}function s(){t.current=""}return{search:t,handleTypeaheadSearch:r,resetTypeahead:s}}const Po=[bt,ke,Te],Co=[ft,Me,Ae],ko=[...Po,...Co];var wt,St,yt,Nt,xt,It,Pt,Lt,Ut,Kt;class Ue{constructor(t){P(this,"opts");M(this,wt,X(!1));M(this,St,X(""));M(this,yt,X(null));M(this,Nt,X(null));M(this,xt,X(null));M(this,It,X(""));M(this,Pt,X(null));M(this,Lt,S(()=>this.highlightedNode?this.highlightedNode.getAttribute("data-value"):null));M(this,Ut,S(()=>{if(this.highlightedNode)return this.highlightedNode.id}));M(this,Kt,S(()=>this.highlightedNode?this.highlightedNode.getAttribute("data-label"):null));P(this,"isUsingKeyboard",!1);P(this,"isCombobox",!1);P(this,"bitsAttrs");this.opts=t,this.isCombobox=t.isCombobox,this.bitsAttrs=Xo(this),ze(()=>{this.opts.open.current||this.setHighlightedNode(null)})}get touchedInput(){return n(p(this,wt))}set touchedInput(t){Y(p(this,wt),t,!0)}get inputValue(){return n(p(this,St))}set inputValue(t){Y(p(this,St),t,!0)}get inputNode(){return n(p(this,yt))}set inputNode(t){Y(p(this,yt),t,!0)}get contentNode(){return n(p(this,Nt))}set contentNode(t){Y(p(this,Nt),t,!0)}get triggerNode(){return n(p(this,xt))}set triggerNode(t){Y(p(this,xt),t,!0)}get valueId(){return n(p(this,It))}set valueId(t){Y(p(this,It),t,!0)}get highlightedNode(){return n(p(this,Pt))}set highlightedNode(t){Y(p(this,Pt),t,!0)}get highlightedValue(){return n(p(this,Lt))}get highlightedId(){return n(p(this,Ut))}get highlightedLabel(){return n(p(this,Kt))}setHighlightedNode(t,e=!1){this.highlightedNode=t,t&&(this.isUsingKeyboard||e)&&t.scrollIntoView({block:"nearest"})}getCandidateNodes(){const t=this.contentNode;return t?Array.from(t.querySelectorAll(`[${this.bitsAttrs.item}]:not([data-disabled])`)):[]}setHighlightedToFirstCandidate(){this.setHighlightedNode(null);const t=this.getCandidateNodes();t.length&&this.setHighlightedNode(t[0])}getNodeByValue(t){return this.getCandidateNodes().find(r=>r.dataset.value===t)??null}setOpen(t){this.opts.open.current=t}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleOpen(){this.setOpen(!0)}handleClose(){this.setHighlightedNode(null),this.setOpen(!1)}toggleMenu(){this.toggleOpen()}}wt=new WeakMap,St=new WeakMap,yt=new WeakMap,Nt=new WeakMap,xt=new WeakMap,It=new WeakMap,Pt=new WeakMap,Lt=new WeakMap,Ut=new WeakMap,Kt=new WeakMap;var Bt,Ft,Wt,zt;class To extends Ue{constructor(e){super(e);P(this,"opts");P(this,"isMulti",!1);M(this,Bt,S(()=>this.opts.value.current!==""));M(this,Ft,S(()=>{var r;return this.opts.items.current.length?((r=this.opts.items.current.find(s=>s.value===this.opts.value.current))==null?void 0:r.label)??"":""}));M(this,Wt,S(()=>this.opts.items.current.length?this.opts.items.current.filter(r=>!r.disabled).map(r=>r.label):[]));M(this,zt,S(()=>!(this.isMulti||this.opts.items.current.length===0)));this.opts=e,fe(()=>{!this.opts.open.current&&this.highlightedNode&&this.setHighlightedNode(null)}),lt(()=>this.opts.open.current,()=>{this.opts.open.current&&this.setInitialHighlightedNode()})}get hasValue(){return n(p(this,Bt))}get currentLabel(){return n(p(this,Ft))}get candidateLabels(){return n(p(this,Wt))}get dataTypeaheadEnabled(){return n(p(this,zt))}includesItem(e){return this.opts.value.current===e}toggleItem(e,r=e){this.opts.value.current=this.includesItem(e)?"":e,this.inputValue=r}setInitialHighlightedNode(){Ee(()=>{if(this.highlightedNode&&document.contains(this.highlightedNode))return;if(this.opts.value.current!==""){const r=this.getNodeByValue(this.opts.value.current);if(r){this.setHighlightedNode(r,!0);return}}const e=this.getCandidateNodes()[0];e&&this.setHighlightedNode(e,!0)})}}Bt=new WeakMap,Ft=new WeakMap,Wt=new WeakMap,zt=new WeakMap;var qt;class Mo extends Ue{constructor(e){super(e);P(this,"opts");P(this,"isMulti",!0);M(this,qt,S(()=>this.opts.value.current.length>0));this.opts=e,fe(()=>{!this.opts.open.current&&this.highlightedNode&&this.setHighlightedNode(null)}),lt(()=>this.opts.open.current,()=>{this.opts.open.current&&this.setInitialHighlightedNode()})}get hasValue(){return n(p(this,qt))}includesItem(e){return this.opts.value.current.includes(e)}toggleItem(e,r=e){this.includesItem(e)?this.opts.value.current=this.opts.value.current.filter(s=>s!==e):this.opts.value.current=[...this.opts.value.current,e],this.inputValue=r}setInitialHighlightedNode(){Ee(()=>{if(this.highlightedNode&&document.contains(this.highlightedNode))return;if(this.opts.value.current.length&&this.opts.value.current[0]!==""){const r=this.getNodeByValue(this.opts.value.current[0]);if(r){this.setHighlightedNode(r,!0);return}}const e=this.getCandidateNodes()[0];e&&this.setHighlightedNode(e,!0)})}}qt=new WeakMap;var ut,gt,nt,Ke,ue,ce,jt;class Ao{constructor(t,e){M(this,nt);P(this,"opts");P(this,"root");M(this,ut);M(this,gt);M(this,jt,S(()=>({id:this.opts.id.current,disabled:this.root.opts.disabled.current?!0:void 0,"aria-haspopup":"listbox","aria-expanded":Ge(this.root.opts.open.current),"aria-activedescendant":this.root.highlightedId,"data-state":Oe(this.root.opts.open.current),"data-disabled":He(this.root.opts.disabled.current),"data-placeholder":this.root.hasValue?void 0:"",[this.root.bitsAttrs.trigger]:"",onpointerdown:this.onpointerdown,onkeydown:this.onkeydown,onclick:this.onclick,onpointerup:this.onpointerup})));this.opts=t,this.root=e,Et({...t,onRefChange:r=>{this.root.triggerNode=r}}),ae(this,ut,xo({getCurrentItem:()=>this.root.highlightedNode,onMatch:r=>{this.root.setHighlightedNode(r)}})),ae(this,gt,Io({getCurrentItem:()=>this.root.isMulti?"":this.root.currentLabel,onMatch:r=>{if(this.root.isMulti||!this.root.opts.items.current)return;const s=this.root.opts.items.current.find(m=>m.label===r);s&&(this.root.opts.value.current=s.value)},enabled:!this.root.isMulti&&this.root.dataTypeaheadEnabled,candidateValues:()=>this.root.isMulti?[]:this.root.candidateLabels})),this.onkeydown=this.onkeydown.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onclick=this.onclick.bind(this)}onkeydown(t){if(this.root.isUsingKeyboard=!0,(t.key===ft||t.key===bt)&&t.preventDefault(),!this.root.opts.open.current){if(t.key===Se||t.key===de||t.key===bt||t.key===ft)t.preventDefault(),this.root.handleOpen();else if(!this.root.isMulti&&this.root.dataTypeaheadEnabled){p(this,gt).handleTypeaheadSearch(t.key);return}if(this.root.hasValue)return;const l=this.root.getCandidateNodes();if(!l.length)return;if(t.key===bt){const u=l[0];this.root.setHighlightedNode(u)}else if(t.key===ft){const u=l[l.length-1];this.root.setHighlightedNode(u)}return}if(t.key===ye){this.root.handleClose();return}if((t.key===Se||t.key===de&&p(this,ut).search.current==="")&&!t.isComposing&&(t.preventDefault(),ct(this,nt,ce).call(this)))return;if(t.key===ft&&t.altKey&&this.root.handleClose(),ko.includes(t.key)){t.preventDefault();const l=this.root.getCandidateNodes(),u=this.root.highlightedNode,w=u?l.indexOf(u):-1,_=this.root.opts.loop.current;let a;if(t.key===bt?a=mo(l,w,_):t.key===ft?a=bo(l,w,_):t.key===Me?a=_o(l,w,10,_):t.key===ke?a=wo(l,w,10,_):t.key===Te?a=l[0]:t.key===Ae&&(a=l[l.length-1]),!a)return;this.root.setHighlightedNode(a);return}const e=t.ctrlKey||t.altKey||t.metaKey,r=t.key.length===1,s=t.key===de,m=this.root.getCandidateNodes();if(t.key!==ye){if(!e&&(r||s)){!p(this,ut).handleTypeaheadSearch(t.key,m)&&s&&(t.preventDefault(),ct(this,nt,ce).call(this));return}this.root.highlightedNode||this.root.setHighlightedToFirstCandidate()}}onclick(t){t.currentTarget.focus()}onpointerdown(t){if(this.root.opts.disabled.current)return;if(t.pointerType==="touch")return t.preventDefault();const e=t.target;e!=null&&e.hasPointerCapture(t.pointerId)&&(e==null||e.releasePointerCapture(t.pointerId)),t.button===0&&t.ctrlKey===!1&&(this.root.opts.open.current===!1?ct(this,nt,ue).call(this,t):this.root.handleClose())}onpointerup(t){t.preventDefault(),t.pointerType==="touch"&&(this.root.opts.open.current===!1?ct(this,nt,ue).call(this,t):this.root.handleClose())}get props(){return n(p(this,jt))}}ut=new WeakMap,gt=new WeakMap,nt=new WeakSet,Ke=function(){this.root.opts.open.current=!0,p(this,gt).resetTypeahead(),p(this,ut).resetTypeahead()},ue=function(t){ct(this,nt,Ke).call(this)},ce=function(){const t=this.root.highlightedValue===this.root.opts.value.current;return!this.root.opts.allowDeselect.current&&t&&!this.root.isMulti?(this.root.handleClose(),!0):(this.root.highlightedValue!==null&&this.root.toggleItem(this.root.highlightedValue,this.root.highlightedLabel??void 0),!this.root.isMulti&&!t?(this.root.handleClose(),!0):!1)},jt=new WeakMap;var Ct,kt,Xt,Yt,Gt;class Ho{constructor(t,e){P(this,"opts");P(this,"root");M(this,Ct,X(null));M(this,kt,X(!1));M(this,Xt,S(()=>{const t=this.root.isCombobox?"--bits-combobox":"--bits-select";return{[`${t}-content-transform-origin`]:"var(--bits-floating-transform-origin)",[`${t}-content-available-width`]:"var(--bits-floating-available-width)",[`${t}-content-available-height`]:"var(--bits-floating-available-height)",[`${t}-anchor-width`]:" var(--bits-floating-anchor-width)",[`${t}-anchor-height`]:"var(--bits-floating-anchor-height)"}}));P(this,"onInteractOutside",t=>{if(t.target===this.root.triggerNode||t.target===this.root.inputNode){t.preventDefault();return}this.opts.onInteractOutside.current(t),!t.defaultPrevented&&this.root.handleClose()});P(this,"onEscapeKeydown",t=>{this.opts.onEscapeKeydown.current(t),!t.defaultPrevented&&this.root.handleClose()});P(this,"onOpenAutoFocus",t=>{t.preventDefault()});P(this,"onCloseAutoFocus",t=>{t.preventDefault()});M(this,Yt,S(()=>({open:this.root.opts.open.current})));M(this,Gt,S(()=>({id:this.opts.id.current,role:"listbox","aria-multiselectable":this.root.isMulti?"true":void 0,"data-state":Oe(this.root.opts.open.current),[this.root.bitsAttrs.content]:"",style:{display:"flex",flexDirection:"column",outline:"none",boxSizing:"border-box",pointerEvents:"auto",...n(p(this,Xt))},onpointermove:this.onpointermove})));P(this,"popperProps",{onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus,trapFocus:!1,loop:!1,onPlaced:()=>{this.isPositioned=!0}});this.opts=t,this.root=e,Et({...t,onRefChange:r=>{this.root.contentNode=r},deps:()=>this.root.opts.open.current}),Qe(()=>{this.root.contentNode=null,this.isPositioned=!1}),lt(()=>this.root.opts.open.current,()=>{this.root.opts.open.current||(this.isPositioned=!1)}),this.onpointermove=this.onpointermove.bind(this)}get viewportNode(){return n(p(this,Ct))}set viewportNode(t){Y(p(this,Ct),t,!0)}get isPositioned(){return n(p(this,kt))}set isPositioned(t){Y(p(this,kt),t,!0)}onpointermove(t){this.root.isUsingKeyboard=!1}get snippetProps(){return n(p(this,Yt))}get props(){return n(p(this,Gt))}}Ct=new WeakMap,kt=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,Gt=new WeakMap;var Qt,Jt,Tt,Zt,$t;class Oo{constructor(t,e){P(this,"opts");P(this,"root");M(this,Qt,S(()=>this.root.includesItem(this.opts.value.current)));M(this,Jt,S(()=>this.root.highlightedValue===this.opts.value.current));P(this,"prevHighlighted",new eo(()=>this.isHighlighted));M(this,Tt,X(!1));M(this,Zt,S(()=>({selected:this.isSelected,highlighted:this.isHighlighted})));M(this,$t,S(()=>({id:this.opts.id.current,role:"option","aria-selected":this.root.includesItem(this.opts.value.current)?"true":void 0,"data-value":this.opts.value.current,"data-disabled":He(this.opts.disabled.current),"data-highlighted":this.root.highlightedValue===this.opts.value.current?"":void 0,"data-selected":this.root.includesItem(this.opts.value.current)?"":void 0,"data-label":this.opts.label.current,[this.root.bitsAttrs.item]:"",onpointermove:this.onpointermove,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup})));this.opts=t,this.root=e,Et({...t,deps:()=>this.mounted}),lt([()=>this.isHighlighted,()=>this.prevHighlighted.current],()=>{this.isHighlighted?this.opts.onHighlight.current():this.prevHighlighted.current&&this.opts.onUnhighlight.current()}),lt(()=>this.mounted,()=>{this.mounted&&this.root.setInitialHighlightedNode()}),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onpointermove=this.onpointermove.bind(this)}get isSelected(){return n(p(this,Qt))}get isHighlighted(){return n(p(this,Jt))}get mounted(){return n(p(this,Tt))}set mounted(t){Y(p(this,Tt),t,!0)}handleSelect(){if(this.opts.disabled.current)return;const t=this.opts.value.current===this.root.opts.value.current;if(!this.root.opts.allowDeselect.current&&t&&!this.root.isMulti){this.root.handleClose();return}this.root.toggleItem(this.opts.value.current,this.opts.label.current),!this.root.isMulti&&!t&&this.root.handleClose()}get snippetProps(){return n(p(this,Zt))}onpointerdown(t){t.preventDefault()}onpointerup(t){if(!(t.defaultPrevented||!this.opts.ref.current)){if(t.pointerType==="touch"&&!oo){pe(this.opts.ref.current,"click",()=>{this.handleSelect(),this.root.setHighlightedNode(this.opts.ref.current)},{once:!0});return}t.preventDefault(),this.handleSelect(),t.pointerType==="touch"&&this.root.setHighlightedNode(this.opts.ref.current)}}onpointermove(t){t.pointerType!=="touch"&&this.root.highlightedNode!==this.opts.ref.current&&this.root.setHighlightedNode(this.opts.ref.current)}get props(){return n(p(this,$t))}}Qt=new WeakMap,Jt=new WeakMap,Tt=new WeakMap,Zt=new WeakMap,$t=new WeakMap;var te,ee;class Eo{constructor(t,e){P(this,"opts");P(this,"root");M(this,te,S(()=>this.root.opts.name.current!==""));M(this,ee,S(()=>({disabled:$e(this.root.opts.disabled.current),required:Ze(this.root.opts.required.current),name:this.root.opts.name.current,value:this.opts.value.current,onfocus:this.onfocus})));this.opts=t,this.root=e,this.onfocus=this.onfocus.bind(this)}get shouldRender(){return n(p(this,te))}onfocus(t){var e,r;t.preventDefault(),this.root.isCombobox?(r=this.root.inputNode)==null||r.focus():(e=this.root.triggerNode)==null||e.focus()}get props(){return n(p(this,ee))}}te=new WeakMap,ee=new WeakMap;var Mt,oe;class Do{constructor(t,e){P(this,"opts");P(this,"content");P(this,"root");M(this,Mt,X(0));M(this,oe,S(()=>({id:this.opts.id.current,role:"presentation",[this.root.bitsAttrs.viewport]:"",style:{position:"relative",flex:1,overflow:"auto"}})));this.opts=t,this.content=e,this.root=e.root,Et({...t,onRefChange:r=>{this.content.viewportNode=r},deps:()=>this.root.opts.open.current})}get prevScrollTop(){return n(p(this,Mt))}set prevScrollTop(t){Y(p(this,Mt),t,!0)}get props(){return n(p(this,oe))}}Mt=new WeakMap,oe=new WeakMap;var At,re;class Be{constructor(t,e){P(this,"opts");P(this,"content");P(this,"root");P(this,"autoScrollInterval",null);P(this,"userScrollTimer",-1);P(this,"isUserScrolling",!1);P(this,"onAutoScroll",dt);M(this,At,X(!1));M(this,re,S(()=>({id:this.opts.id.current,"aria-hidden":Je(!0),style:{flexShrink:0},onpointerdown:this.onpointerdown,onpointermove:this.onpointermove,onpointerleave:this.onpointerleave})));this.opts=t,this.content=e,this.root=e.root,Et({...t,deps:()=>this.mounted}),lt([()=>this.mounted],()=>{if(!this.mounted){this.isUserScrolling=!1;return}this.isUserScrolling}),fe(()=>{this.mounted||this.clearAutoScrollInterval()}),this.onpointerdown=this.onpointerdown.bind(this),this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this)}get mounted(){return n(p(this,At))}set mounted(t){Y(p(this,At),t,!0)}handleUserScroll(){window.clearTimeout(this.userScrollTimer),this.isUserScrolling=!0,this.userScrollTimer=window.setTimeout(()=>{this.isUserScrolling=!1},200)}clearAutoScrollInterval(){this.autoScrollInterval!==null&&(window.clearInterval(this.autoScrollInterval),this.autoScrollInterval=null)}onpointerdown(t){this.autoScrollInterval===null&&(this.autoScrollInterval=window.setInterval(()=>{this.onAutoScroll()},50))}onpointermove(t){this.autoScrollInterval===null&&(this.autoScrollInterval=window.setInterval(()=>{this.onAutoScroll()},50))}onpointerleave(t){this.clearAutoScrollInterval()}get props(){return n(p(this,re))}}At=new WeakMap,re=new WeakMap;var Ht,ne;class Ro{constructor(t){P(this,"state");P(this,"content");P(this,"root");M(this,Ht,X(!1));P(this,"scrollIntoViewTimer",null);P(this,"handleScroll",(t=!1)=>{if(t||this.state.handleUserScroll(),!this.content.viewportNode)return;const e=this.content.viewportNode.scrollHeight-this.content.viewportNode.clientHeight,r=Number.parseInt(getComputedStyle(this.content.viewportNode).paddingTop,10);this.canScrollDown=Math.ceil(this.content.viewportNode.scrollTop)<e-r});P(this,"handleAutoScroll",()=>{const t=this.content.viewportNode,e=this.root.highlightedNode;!t||!e||(t.scrollTop=t.scrollTop+e.offsetHeight)});M(this,ne,S(()=>({...this.state.props,[this.root.bitsAttrs["scroll-down-button"]]:""})));this.state=t,this.content=t.content,this.root=t.root,this.state.onAutoScroll=this.handleAutoScroll,lt([()=>this.content.viewportNode,()=>this.content.isPositioned],()=>{if(!(!this.content.viewportNode||!this.content.isPositioned))return this.handleScroll(!0),pe(this.content.viewportNode,"scroll",()=>this.handleScroll())}),lt(()=>this.state.mounted,()=>{this.state.mounted&&(this.scrollIntoViewTimer&&clearTimeout(this.scrollIntoViewTimer),this.scrollIntoViewTimer=to(5,()=>{const e=this.root.highlightedNode;e==null||e.scrollIntoView({block:"nearest"})}))})}get canScrollDown(){return n(p(this,Ht))}set canScrollDown(t){Y(p(this,Ht),t,!0)}get props(){return n(p(this,ne))}}Ht=new WeakMap,ne=new WeakMap;var Ot,ie;class Vo{constructor(t){P(this,"state");P(this,"content");P(this,"root");M(this,Ot,X(!1));P(this,"handleScroll",(t=!1)=>{if(t||this.state.handleUserScroll(),!this.content.viewportNode)return;const e=Number.parseInt(getComputedStyle(this.content.viewportNode).paddingTop,10);this.canScrollUp=this.content.viewportNode.scrollTop-e>.1});P(this,"handleAutoScroll",()=>{!this.content.viewportNode||!this.root.highlightedNode||(this.content.viewportNode.scrollTop=this.content.viewportNode.scrollTop-this.root.highlightedNode.offsetHeight)});M(this,ie,S(()=>({...this.state.props,[this.root.bitsAttrs["scroll-up-button"]]:""})));this.state=t,this.content=t.content,this.root=t.root,this.state.onAutoScroll=this.handleAutoScroll,lt([()=>this.content.viewportNode,()=>this.content.isPositioned],()=>{if(!(!this.content.viewportNode||!this.content.isPositioned))return this.handleScroll(!0),pe(this.content.viewportNode,"scroll",()=>this.handleScroll())})}get canScrollUp(){return n(p(this,Ot))}set canScrollUp(t){Y(p(this,Ot),t,!0)}get props(){return n(p(this,ie))}}Ot=new WeakMap,ie=new WeakMap;const Dt=new Ce("Select.Root | Combobox.Root"),se=new Ce("Select.Content | Combobox.Content");function Lo(o){const{type:t,...e}=o,r=t==="single"?new To(e):new Mo(e);return Dt.set(r)}function Uo(o){return se.set(new Ho(o,Dt.get()))}function Ko(o){return new Ao(o,Dt.get())}function Bo(o){return new Oo(o,Dt.get())}function Fo(o){return new Do(o,se.get())}function Wo(o){return new Vo(new Be(o,se.get()))}function zo(o){return new Ro(new Be(o,se.get()))}function qo(o){return new Eo(o,Dt.get())}const jo=["trigger","content","item","viewport","scroll-up-button","scroll-down-button","group","group-label","separator","arrow","input","content-wrapper","item-text","value"];function Xo(o){const t=o.isCombobox,e={};for(const r of jo)e[r]=t?`data-combobox-${r}`:`data-select-${r}`;return e}function Ie(o,t){B(t,!0);let e=I(t,"value",15,"");const r=qo({value:V.with(()=>e())});var s=D(),m=T(s);{var l=u=>{No(u,tt(()=>r.props,{get value(){return e()},set value(w){e(w)}}))};K(m,u=>{r.shouldRender&&u(l)})}v(o,s),F()}var Yo=W("<div><div><!></div></div>"),Go=W("<div><div><!></div></div>");function Qo(o,t){B(t,!0);let e=I(t,"id",19,vt),r=I(t,"ref",15,null),s=I(t,"forceMount",3,!1),m=I(t,"side",3,"bottom"),l=I(t,"onInteractOutside",3,dt),u=I(t,"onEscapeKeydown",3,dt),w=I(t,"preventScroll",3,!1),_=G(t,["$$slots","$$events","$$legacy","id","ref","forceMount","side","onInteractOutside","onEscapeKeydown","children","child","preventScroll"]);const a=Uo({id:V.with(()=>e()),ref:V.with(()=>r(),c=>r(c)),onInteractOutside:V.with(()=>l()),onEscapeKeydown:V.with(()=>u())}),i=S(()=>st(_,a.props));var b=D(),N=T(b);{var A=c=>{co(c,tt(()=>n(i),()=>a.popperProps,{get side(){return m()},get enabled(){return a.root.opts.open.current},get id(){return e()},get preventScroll(){return w()},forceMount:!0,popper:(h,d)=>{let k=()=>d==null?void 0:d().props,C=()=>d==null?void 0:d().wrapperProps;var f=D();const x=S(()=>st(k(),{style:a.props.style}));var O=T(f);{var E=H=>{var q=D(),it=T(q),Q=he(()=>({props:n(x),wrapperProps:C(),...a.snippetProps}));L(it,()=>t.child,()=>n(Q)),v(H,q)},R=H=>{var q=Yo();let it;var Q=j(q);let $;var U=j(Q);L(U,()=>t.children??Z),z(Q),z(q),J(()=>{it=et(q,it,{...C()}),$=et(Q,$,{...n(x)})}),v(H,q)};K(O,H=>{t.child?H(E):H(R,!1)})}v(h,f)},$$slots:{popper:!0}}))},g=(c,y)=>{{var h=d=>{fo(d,tt(()=>n(i),()=>a.popperProps,{get side(){return m()},get present(){return a.root.opts.open.current},get id(){return e()},get preventScroll(){return w()},forceMount:!1,popper:(C,f)=>{let x=()=>f==null?void 0:f().props,O=()=>f==null?void 0:f().wrapperProps;var E=D();const R=S(()=>st(x(),{style:a.props.style}));var H=T(E);{var q=Q=>{var $=D(),U=T($),ht=he(()=>({props:n(R),wrapperProps:O(),...a.snippetProps}));L(U,()=>t.child,()=>n(ht)),v(Q,$)},it=Q=>{var $=Go();let U;var ht=j($);let mt;var Rt=j(ht);L(Rt,()=>t.children??Z),z(ht),z($),J(()=>{U=et($,U,{...O()}),mt=et(ht,mt,{...n(R)})}),v(Q,$)};K(H,Q=>{t.child?Q(q):Q(it,!1)})}v(C,E)},$$slots:{popper:!0}}))};K(c,d=>{s()||d(h)},y)}};K(N,c=>{s()?c(A):c(g,!1)})}v(o,b),F()}function me(o,t){B(t,!0);let e=I(t,"mounted",15,!1),r=I(t,"onMountedChange",3,dt);go(()=>(e(!0),r()(!0),()=>{e(!1),r()(!1)})),F()}var Jo=W("<div><!></div>"),Zo=W("<!> <!>",1);function $o(o,t){B(t,!0);let e=I(t,"id",19,vt),r=I(t,"ref",15,null),s=I(t,"label",19,()=>t.value),m=I(t,"disabled",3,!1),l=I(t,"onHighlight",3,dt),u=I(t,"onUnhighlight",3,dt),w=G(t,["$$slots","$$events","$$legacy","id","ref","value","label","disabled","children","child","onHighlight","onUnhighlight"]);const _=Bo({id:V.with(()=>e()),ref:V.with(()=>r(),c=>r(c)),value:V.with(()=>t.value),disabled:V.with(()=>m()),label:V.with(()=>s()),onHighlight:V.with(()=>l()),onUnhighlight:V.with(()=>u())}),a=S(()=>st(w,_.props));var i=Zo(),b=T(i);{var N=c=>{var y=D(),h=T(y),d=he(()=>({props:n(a),..._.snippetProps}));L(h,()=>t.child,()=>n(d)),v(c,y)},A=c=>{var y=Jo();let h;var d=j(y);L(d,()=>t.children??Z,()=>_.snippetProps),z(y),J(()=>h=et(y,h,{...n(a)})),v(c,y)};K(b,c=>{t.child?c(N):c(A,!1)})}var g=ot(b,2);me(g,{get mounted(){return _.mounted},set mounted(c){_.mounted=c}}),v(o,i),F()}var tr=W("<div><!></div>");function er(o,t){B(t,!0);let e=I(t,"id",19,vt),r=I(t,"ref",15,null),s=G(t,["$$slots","$$events","$$legacy","id","ref","children","child"]);const m=Fo({id:V.with(()=>e()),ref:V.with(()=>r(),i=>r(i))}),l=S(()=>st(s,m.props));var u=D(),w=T(u);{var _=i=>{var b=D(),N=T(b);L(N,()=>t.child,()=>({props:n(l)})),v(i,b)},a=i=>{var b=tr();let N;var A=j(b);L(A,()=>t.children??Z),z(b),J(()=>N=et(b,N,{...n(l)})),v(i,b)};K(w,i=>{t.child?i(_):i(a,!1)})}v(o,u),F()}var or=W("<div><!></div>"),rr=W("<!> <!>",1);function nr(o,t){B(t,!0);let e=I(t,"id",19,vt),r=I(t,"ref",15,null),s=G(t,["$$slots","$$events","$$legacy","id","ref","child","children"]);const m=zo({id:V.with(()=>e()),ref:V.with(()=>r(),a=>r(a))}),l=S(()=>st(s,m.props));var u=D(),w=T(u);{var _=a=>{var i=rr(),b=T(i);me(b,{get mounted(){return m.state.mounted},set mounted(c){m.state.mounted=c}});var N=ot(b,2);{var A=c=>{var y=D(),h=T(y);L(h,()=>t.child,()=>({props:s})),v(c,y)},g=c=>{var y=or();let h;var d=j(y);L(d,()=>t.children??Z),z(y),J(()=>h=et(y,h,{...n(l)})),v(c,y)};K(N,c=>{t.child?c(A):c(g,!1)})}v(a,i)};K(w,a=>{m.canScrollDown&&a(_)})}v(o,u),F()}var ir=W("<div><!></div>"),sr=W("<!> <!>",1);function lr(o,t){B(t,!0);let e=I(t,"id",19,vt),r=I(t,"ref",15,null),s=G(t,["$$slots","$$events","$$legacy","id","ref","child","children"]);const m=Wo({id:V.with(()=>e()),ref:V.with(()=>r(),a=>r(a))}),l=S(()=>st(s,m.props));var u=D(),w=T(u);{var _=a=>{var i=sr(),b=T(i);me(b,{get mounted(){return m.state.mounted},set mounted(c){m.state.mounted=c}});var N=ot(b,2);{var A=c=>{var y=D(),h=T(y);L(h,()=>t.child,()=>({props:s})),v(c,y)},g=c=>{var y=ir();let h;var d=j(y);L(d,()=>t.children??Z),z(y),J(()=>h=et(y,h,{...n(l)})),v(c,y)};K(N,c=>{t.child?c(A):c(g,!1)})}v(a,i)};K(w,a=>{m.canScrollUp&&a(_)})}v(o,u),F()}var ar=W("<!> <!>",1);function dr(o,t){B(t,!0);let e=I(t,"value",15),r=I(t,"onValueChange",3,dt),s=I(t,"name",3,""),m=I(t,"disabled",3,!1),l=I(t,"open",15,!1),u=I(t,"onOpenChange",3,dt),w=I(t,"loop",3,!1),_=I(t,"scrollAlignment",3,"nearest"),a=I(t,"required",3,!1),i=I(t,"items",19,()=>[]),b=I(t,"allowDeselect",3,!1);if(e()===void 0){const d=t.type==="single"?"":[];e(d)}const N=Lo({type:t.type,value:V.with(()=>e(),d=>{e(d),r()(d)}),disabled:V.with(()=>m()),required:V.with(()=>a()),open:V.with(()=>l(),d=>{l(d),u()(d)}),loop:V.with(()=>w()),scrollAlignment:V.with(()=>_()),name:V.with(()=>s()),isCombobox:!1,items:V.with(()=>i()),allowDeselect:V.with(()=>b())});var A=ar(),g=T(A);po(g,{children:(d,k)=>{var C=D(),f=T(C);L(f,()=>t.children??Z),v(d,C)},$$slots:{default:!0}});var c=ot(g,2);{var y=d=>{var k=D(),C=T(k);{var f=x=>{var O=D(),E=T(O);_t(E,17,()=>N.opts.value.current,Vt,(R,H)=>{Ie(R,{get value(){return n(H)}})}),v(x,O)};K(C,x=>{N.opts.value.current.length&&x(f)})}v(d,k)},h=d=>{Ie(d,{get value(){return N.opts.value.current},set value(k){N.opts.value.current=k}})};K(c,d=>{Array.isArray(N.opts.value.current)?d(y):d(h,!1)})}v(o,A),F()}var hr=W("<button><!></button>");function ur(o,t){B(t,!0);let e=I(t,"id",19,vt),r=I(t,"ref",15,null),s=I(t,"type",3,"button"),m=G(t,["$$slots","$$events","$$legacy","id","ref","child","children","type"]);const l=Ko({id:V.with(()=>e()),ref:V.with(()=>r(),N=>r(N))}),u=S(()=>st(m,l.props,{type:s()})),w=De(),[_,a]=w;var i=D(),b=T(i);rt(b,()=>vo,(N,A)=>{A(N,{get id(){return e()},children:(g,c)=>{var y=D(),h=T(y);{var d=C=>{var f=D(),x=T(f);L(x,()=>t.child,()=>({props:n(u)})),v(C,f)},k=C=>{var f=hr();let x;var O=j(f);L(O,()=>t.children??Z),z(f),J(E=>x=et(f,x,{...E}),[()=>a({...n(u)},[{attribute_name:"formaction"}])]),v(C,f)};K(h,C=>{t.child?C(d):C(k,!1)})}v(g,y)},$$slots:{default:!0}})}),v(o,i),F()}function Lr(o,t){B(t,!0);let e=G(t,["$$slots","$$events","$$legacy"]);ge(o,tt({name:"plus"},()=>e,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]],children:(s,m)=>{var l=D(),u=T(l);L(u,()=>t.children??Z),v(s,l)},$$slots:{default:!0}})),F()}function cr(o,t){B(t,!0);let e=G(t,["$$slots","$$events","$$legacy"]);ge(o,tt({name:"check"},()=>e,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(s,m)=>{var l=D(),u=T(l);L(u,()=>t.children??Z),v(s,l)},$$slots:{default:!0}})),F()}var fr=W('<span class="absolute right-2 flex size-3.5 items-center justify-center"><!></span> <!>',1);function Ur(o,t){B(t,!0);let e=I(t,"ref",15,null),r=G(t,["$$slots","$$events","$$legacy","ref","class","value","label","children"]);var s=D(),m=T(s);const l=S(()=>pt("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t.class));rt(m,()=>$o,(u,w)=>{w(u,tt({get value(){return t.value},get class(){return n(l)}},()=>r,{get ref(){return e()},set ref(a){e(a)},children:(a,i)=>{let b=()=>i==null?void 0:i().selected,N=()=>i==null?void 0:i().highlighted;var A=fr(),g=T(A),c=j(g);{var y=C=>{cr(C,{class:"size-4"})};K(c,C=>{b()&&C(y)})}z(g);var h=ot(g,2);{var d=C=>{var f=D(),x=T(f);L(x,()=>t.children,()=>({selected:b(),highlighted:N()})),v(C,f)},k=C=>{var f=je();J(()=>io(f,t.label||t.value)),v(C,f)};K(h,C=>{t.children?C(d):C(k,!1)})}v(a,A)},$$slots:{default:!0}}))}),v(o,s),F()}var gr=W("<!> <!> <!>",1);function Kr(o,t){B(t,!0);let e=I(t,"ref",15,null),r=I(t,"sideOffset",3,4),s=G(t,["$$slots","$$events","$$legacy","ref","class","sideOffset","portalProps","children"]);var m=D(),l=T(m);rt(l,()=>ro,(u,w)=>{w(u,tt(()=>t.portalProps,{children:(_,a)=>{var i=D(),b=T(i);const N=S(()=>pt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 bg-popover text-popover-foreground relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t.class));rt(b,()=>Qo,(A,g)=>{g(A,tt({get sideOffset(){return r()},get class(){return n(N)}},()=>s,{get ref(){return e()},set ref(c){e(c)},children:(c,y)=>{var h=gr(),d=T(h);rt(d,()=>mr,(x,O)=>{O(x,{})});var k=ot(d,2);const C=S(()=>pt("h-[var(--bits-select-anchor-height)] w-full min-w-[var(--bits-select-anchor-width)] p-1"));rt(k,()=>er,(x,O)=>{O(x,{get class(){return n(C)},children:(E,R)=>{var H=D(),q=T(H);L(q,()=>t.children??Z),v(E,H)},$$slots:{default:!0}})});var f=ot(k,2);rt(f,()=>vr,(x,O)=>{O(x,{})}),v(c,h)},$$slots:{default:!0}}))}),v(_,i)},$$slots:{default:!0}}))}),v(o,m),F()}var pr=W("<!> <!>",1);function Br(o,t){B(t,!0);let e=I(t,"ref",15,null),r=G(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=D(),m=T(s);const l=S(()=>pt("border-input ring-offset-background data-[placeholder]:text-muted-foreground focus:ring-ring flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border bg-transparent px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t.class));rt(m,()=>ur,(u,w)=>{w(u,tt({get class(){return n(l)}},()=>r,{get ref(){return e()},set ref(_){e(_)},children:(_,a)=>{var i=pr(),b=T(i);L(b,()=>t.children??Z);var N=ot(b,2);Ve(N,{class:"size-4 opacity-50"}),v(_,i)},$$slots:{default:!0}}))}),v(o,s),F()}function vr(o,t){B(t,!0);let e=I(t,"ref",15,null),r=G(t,["$$slots","$$events","$$legacy","ref","class"]);var s=D(),m=T(s);const l=S(()=>pt("flex cursor-default items-center justify-center py-1",t.class));rt(m,()=>nr,(u,w)=>{w(u,tt({get class(){return n(l)}},()=>r,{get ref(){return e()},set ref(_){e(_)},children:(_,a)=>{Ve(_,{class:"size-4"})},$$slots:{default:!0}}))}),v(o,s),F()}function mr(o,t){B(t,!0);let e=I(t,"ref",15,null),r=G(t,["$$slots","$$events","$$legacy","ref","class"]);var s=D(),m=T(s);const l=S(()=>pt("flex cursor-default items-center justify-center py-1",t.class));rt(m,()=>lr,(u,w)=>{w(u,tt({get class(){return n(l)}},()=>r,{get ref(){return e()},set ref(_){e(_)},children:(_,a)=>{lo(_,{class:"size-4"})},$$slots:{default:!0}}))}),v(o,s),F()}const Fr=dr;function br(o,t){B(t,!0);let e=G(t,["$$slots","$$events","$$legacy"]);ge(o,tt({name:"circle-off"},()=>e,{iconNode:[["path",{d:"m2 2 20 20"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92"}]],children:(s,m)=>{var l=D(),u=T(l);L(u,()=>t.children??Z),v(s,l)},$$slots:{default:!0}})),F()}var _r=Pe('<circle r="3" fill="white" class="dot-animation svelte-wnub8r"><animateMotion dur="1.5s" repeatCount="indefinite" rotate="auto"><mpath></mpath></animateMotion></circle>'),wr=Pe('<g class="opacity-80"><path></path><!></g>');function Sr(o,t){B(t,!0);let e=I(t,"active",3,null),r=S(m);function s(i,b){if(!i)return{x:0,y:0};const N=b?i.right-t.rects.container.left:i.left-t.rects.container.left,A=i.top+i.height/2-t.rects.container.top;return{x:N,y:A}}function m(){t.rects.container,t.rects.source.node,t.rects.target.node;const i=s(t.rects.source.port,!1),b=s(t.rects.target.port,!0);if(i.x===0&&i.y===0||b.x===0&&b.y===0)return"";const N=5,A=i.x-N,g=b.x+N,c=g-A,y=A+c/2;return`M ${i.x} ${i.y} L ${A} ${i.y} C ${y} ${i.y}, ${y} ${b.y}, ${g} ${b.y} L ${b.x} ${b.y}`}De();var l=wr(),u=j(l);let w;var _=ot(u);{var a=i=>{var b=D();const N=S(()=>e()==="sending"),A=S(()=>`#${t.id}`);var g=T(b);_t(g,16,()=>[0,.3,.6],Vt,(c,y,h)=>{var d=_r();at(d,"opacity",h===0?1:h===1?.7:.4);var k=j(d),C=j(k);z(k),z(d),J(()=>{at(k,"begin",y?`${y}s`:void 0),at(k,"keyPoints",n(N)?"1;0":void 0),at(k,"keyTimes",n(N)?"0;1":void 0),at(k,"calcMode",n(N)?"linear":void 0),at(C,"href",n(A))}),v(c,d)}),v(i,b)};K(_,i=>{(e()==="receiving"||e()==="sending")&&i(a)})}z(l),J(i=>{at(u,"id",t.id),at(u,"d",n(r)),w=Re(u,0,"fill-none stroke-gray-600 dark:stroke-gray-400 stroke-[2px] transition-colors duration-300 hover:stroke-blue-400 dark:hover:stroke-blue-500 hover:stroke-[3px] svelte-wnub8r",null,w,i)},[()=>({"active-path":e()!==null})]),v(o,l),F()}var yr=W('<div class="flex flex-col justify-between"></div>'),Nr=W('<div class="flex flex-col items-center justify-center h-64 gap-4 text-gray-500 dark:text-gray-300"><!> <p class="text-sm font-medium">No configuration data available</p></div>'),xr=W('<div class="relative"><svg class="absolute inset-0" width="100%" height="100%"></svg> <div class="flex w-full flex-row justify-between overflow-visible"></div></div> <!>',1),Ir=W("<div><!></div>");function Wr(o,t){B(t,!0);let e=I(t,"dark",3,!1),r=X(null),s=S(()=>new ho(n(r))),m=S(_),l=S(()=>n(m).nodes),u=S(()=>n(m).links),w=new no;function _(){let g=[],c=[];if(g=t.config.modules.map(h=>({id:h.id,module:h.module,provides:(h.provides||[]).map(d=>({protocol:d,ref:null})),uses:(h.uses||[]).map(d=>({protocol:d})),config:h.config,level:0,isOpen:!1})),t.config.exchange.some(h=>h.module==="__entry__"||h.provider==="__entry__")){const h=t.config.exchange.filter(k=>k.provider==="__entry__").map(k=>({protocol:k.protocol,ref:null})),d=t.config.exchange.filter(k=>k.module==="__entry__").map(k=>({protocol:k.protocol,ref:null}));g.push({id:"__entry__",module:"Entry Point",provides:h,uses:d,config:null,isEntry:!0,level:0,isOpen:!1,ref:void 0})}for(const h of g)h.provides&&h.provides.length>0&&h.provides.sort((d,k)=>{const C=g.find(E=>E.uses&&E.uses.some(R=>R.protocol===d.protocol)),f=g.find(E=>E.uses&&E.uses.some(R=>R.protocol===k.protocol)),x=C?g.indexOf(C):1/0,O=f?g.indexOf(f):1/0;return x-O}),h.uses&&h.uses.length>0&&h.uses.sort((d,k)=>{const C=t.config.exchange.find(H=>H.module===h.id&&H.protocol===d.protocol),f=t.config.exchange.find(H=>H.module===h.id&&H.protocol===k.protocol),x=C?g.find(H=>H.id===C.provider):null,O=f?g.find(H=>H.id===f.provider):null,E=x?g.indexOf(x):1/0,R=O?g.indexOf(O):1/0;return E-R});return c=t.config.exchange.map((h,d)=>({id:`link-${d}`,source:h.provider,sourcePort:h.protocol,target:h.module,targetPort:h.protocol,protocol:h.protocol})),a(g,c),{nodes:g,links:c}}function a(g,c){const y=g.filter(f=>f.isEntry||!c.some(x=>x.target===f.id)),h=new Map,d=y.map(f=>({nodeId:f.id,level:0}));for(;d.length>0;){const{nodeId:f,level:x}=d.shift(),O=h.get(f)||-1;if(x<=O)continue;h.set(f,x);const E=c.filter(R=>R.source===f);for(const R of E){const H=g.find(q=>q.id===R.target);H&&d.push({nodeId:H.id,level:x+1})}}for(const f of g)f.level=h.get(f.id)||0;let k=!0;for(;k;){k=!1;for(const f of c){const x=g.find(E=>E.id===f.target),O=g.find(E=>E.id===f.source);if(x&&O){const E=x.level||0,R=O.level||0,H=E+1;R<H&&(O.level=H,k=!0)}}}let C=Math.max(...g.map(f=>f.level||0));for(const f of g)f.level=C-(f.level||0);C=Math.max(...g.map(f=>f.level||0));for(const f of g)f.level=C-(f.level||0)}function i(g,c){return g.findIndex(y=>y.protocol===c)}var b=Ir();let N;var A=j(b);ao(A,{orientation:"both",class:"flex-1",children:(g,c)=>{var y=xr(),h=T(y),d=j(h);_t(d,21,()=>n(u),Vt,(x,O)=>{var E=D();const R=S(()=>n(l).find(U=>U.id===n(O).source)),H=S(()=>n(l).find(U=>U.id===n(O).target)),q=S(()=>{var U;return i(((U=n(R))==null?void 0:U.provides)||[],n(O).sourcePort)}),it=S(()=>{var U;return i(((U=n(H))==null?void 0:U.uses)||[],n(O).targetPort)});var Q=T(E);{var $=U=>{const ht=S(()=>{var mt,Rt,be,_e;return{container:n(s).current,source:{port:(mt=w.get(n(R)))==null?void 0:mt.provides[n(q)],node:(Rt=w.get(n(R)))==null?void 0:Rt.node},target:{port:(be=w.get(n(H)))==null?void 0:be.uses[n(it)],node:(_e=w.get(n(H)))==null?void 0:_e.node}}});Sr(U,{get id(){return`path-${n(R).id??""}-${n(H).id??""}`},active:Math.random()<.33?"sending":Math.random()<.5?"receiving":null,get rects(){return n(ht)}})};K(Q,U=>{n(R)&&n(H)&&n(q)>=0&&n(it)>=0&&n(r)&&U($)})}v(x,E)}),z(d);var k=ot(d,2);_t(k,21,()=>[...new Set(n(l).map(x=>x.level))].toSorted(),Vt,(x,O)=>{var E=yr();_t(E,20,()=>n(l).filter(R=>R.level===n(O)),R=>R,(R,H)=>{uo(R,{get node(){return H},get class(){return t.nodeClass},get containerRect(){return n(s).current},onPositionChange:q=>w.set(H,q)})}),z(E),v(x,E)}),z(k),Xe(k,x=>Y(r,x),()=>n(r)),z(h);var C=ot(h,2);{var f=x=>{var O=Nr(),E=j(O);br(E,{class:"w-12 h-12"}),qe(2),z(O),v(x,O)};K(C,x=>{n(l).length===0&&x(f)})}v(g,y)},$$slots:{default:!0}}),z(b),J(g=>N=Re(b,1,"w-full h-full flex",null,N,g),[()=>({dark:e()})]),v(o,b),F()}export{Wr as A,cr as C,Lr as P,Fr as R,Br as S,Kr as a,Ur as b};
