"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["24966"],{2183:function(e,t,a){a.r(t),a.d(t,{HaQrCode:function(){return m}});var i,r,n,o=a(54982),s=a(54521),c=a(4490),d=a(20129),h=a(85297),l=a(53389),_=(a(12212),a(24819),a(81738),a(6989),a(96821),a(54480),a(70820),a(73742)),u=a(59048),f=a(7616),v=a(18915),p=(a(12942),a(45657)),m=function(e){function t(){var e;(0,s.Z)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=(0,d.Z)(this,t,[].concat(i))).errorCorrectionLevel="medium",e.width=4,e.scale=4,e.margin=4,e}return(0,h.Z)(t,e),(0,c.Z)(t,[{key:"willUpdate",value:function(e){(0,l.Z)(t,"willUpdate",this,3)([e]),(e.has("data")||e.has("scale")||e.has("width")||e.has("margin")||e.has("maskPattern")||e.has("errorCorrectionLevel"))&&this._error&&(this._error=void 0)}},{key:"updated",value:function(e){var t=this,a=this._canvas;if(a&&this.data&&(e.has("data")||e.has("scale")||e.has("width")||e.has("margin")||e.has("maskPattern")||e.has("errorCorrectionLevel")||e.has("centerImage"))){var i=getComputedStyle(this),r=i.getPropertyValue("--rgb-primary-text-color"),n=i.getPropertyValue("--rgb-card-background-color"),o=(0,p.CO)(r.split(",").map(function(e){return parseInt(e,10)})),s=(0,p.CO)(n.split(",").map(function(e){return parseInt(e,10)}));if(v.toCanvas(a,this.data,{errorCorrectionLevel:this.errorCorrectionLevel||(this.centerImage?"Q":"M"),width:this.width,scale:this.scale,margin:this.margin,maskPattern:this.maskPattern,color:{light:s,dark:o}}).catch(function(e){t._error=e.message}),this.centerImage){var c=this._canvas.getContext("2d"),d=new Image;d.src=this.centerImage,d.onload=function(){null==c||c.drawImage(d,.375*a.width,.375*a.height,a.width/4,a.height/4)}}}}},{key:"render",value:function(){return this.data?this._error?(0,u.dy)(i||(i=(0,o.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):(0,u.dy)(r||(r=(0,o.Z)(["<canvas></canvas>"]))):u.Ld}}])}(u.oi);m.styles=(0,u.iv)(n||(n=(0,o.Z)([":host{display:block}"]))),(0,_.__decorate)([(0,f.Cb)()],m.prototype,"data",void 0),(0,_.__decorate)([(0,f.Cb)({attribute:"error-correction-level"})],m.prototype,"errorCorrectionLevel",void 0),(0,_.__decorate)([(0,f.Cb)({type:Number})],m.prototype,"width",void 0),(0,_.__decorate)([(0,f.Cb)({type:Number})],m.prototype,"scale",void 0),(0,_.__decorate)([(0,f.Cb)({type:Number})],m.prototype,"margin",void 0),(0,_.__decorate)([(0,f.Cb)({attribute:!1,type:Number})],m.prototype,"maskPattern",void 0),(0,_.__decorate)([(0,f.Cb)({attribute:"center-image"})],m.prototype,"centerImage",void 0),(0,_.__decorate)([(0,f.SB)()],m.prototype,"_error",void 0),(0,_.__decorate)([(0,f.IO)("canvas")],m.prototype,"_canvas",void 0),m=(0,_.__decorate)([(0,f.Mo)("ha-qr-code")],m)},53653:function(e,t,a){a.a(e,async function(e,i){try{a.r(t);var r,n,o,s,c,d=a(54982),h=a(29694),l=a(75778),_=a(54521),u=a(4490),f=a(20129),v=a(85297),p=(a(24819),a(81738),a(6989),a(54480),a(56303),a(73742)),m=(a(98334),a(59048)),g=a(7616),b=a(39884),y=a(83378),k=(a(64881),a(69760),a(2183),a(6514)),Z=a(65505),w=a(72242),C=a(95814),x=e([k]);k=(x.then?(await x)():x)[0];var D=function(e){function t(){return(0,_.Z)(this,t),(0,f.Z)(this,t,arguments)}return(0,v.Z)(t,e),(0,u.Z)(t,[{key:"showDialog",value:(p=(0,l.Z)((0,h.Z)().m(function e(t){return(0,h.Z)().w(function(e){for(;;)switch(e.n){case 0:this.device_id=t.device_id,this._fetchNodeDetails();case 1:return e.a(2)}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"render",value:function(){var e=this;return this.device_id?(0,m.dy)(r||(r=(0,d.Z)([' <ha-dialog open hideActions @closed="','" .heading="','"> <p> '," </p> "," </ha-dialog> "])),this.closeDialog,(0,y.i)(this.hass,this.hass.localize("ui.panel.config.matter.manage_fabrics.title")),this.hass.localize("ui.panel.config.matter.manage_fabrics.fabrics"),this._nodeDiagnostics?(0,m.dy)(n||(n=(0,d.Z)(["<ha-list> "," </ha-list>"])),this._nodeDiagnostics.active_fabrics.map(function(t){return(0,m.dy)(o||(o=(0,d.Z)(['<ha-list-item noninteractive .hasMeta="','">',' <ha-icon-button @click="','" slot="meta" .fabric="','" .path="','"></ha-icon-button> </ha-list-item>'])),e._nodeDiagnostics.available&&t.fabric_index!==e._nodeDiagnostics.active_fabric_index,t.vendor_name||t.fabric_label||t.vendor_id,e._removeFabric,t,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z")})):(0,m.dy)(s||(s=(0,d.Z)(['<div class="center"> <ha-spinner></ha-spinner> </div>'])))):m.Ld}},{key:"_fetchNodeDetails",value:(i=(0,l.Z)((0,h.Z)().m(function e(){return(0,h.Z)().w(function(e){for(;;)switch(e.n){case 0:if(this.device_id){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,(0,Z.uV)(this.hass,this.device_id);case 2:this._nodeDiagnostics=e.v,e.n=4;break;case 3:e.p=3,e.v,this._nodeDiagnostics=void 0;case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return i.apply(this,arguments)})},{key:"_removeFabric",value:(a=(0,l.Z)((0,h.Z)().m(function e(t){var a,i;return(0,h.Z)().w(function(e){for(;;)switch(e.n){case 0:if(a=t.target.fabric,this._nodeDiagnostics.active_fabric_index!==a.fabric_index){e.n=1;break}return e.a(2);case 1:return i=a.vendor_name||a.fabric_label||a.vendor_id.toString(),e.n=2,(0,w.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.matter.manage_fabrics.remove_fabric_confirm_header",{fabric:i}),text:this.hass.localize("ui.panel.config.matter.manage_fabrics.remove_fabric_confirm_text",{fabric:i}),warning:!0});case 2:if(e.v){e.n=3;break}return e.a(2);case 3:return e.p=3,e.n=4,(0,Z.nJ)(this.hass,this.device_id,a.fabric_index);case 4:this._fetchNodeDetails(),e.n=6;break;case 5:e.p=5,e.v,(0,w.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.matter.manage_fabrics.remove_fabric_failed_header",{fabric:i}),text:this.hass.localize("ui.panel.config.matter.manage_fabrics.remove_fabric_failed_text")});case 6:return e.a(2)}},e,this,[[3,5]])})),function(e){return a.apply(this,arguments)})},{key:"closeDialog",value:function(){this.device_id=void 0,this._nodeDiagnostics=void 0,(0,b.B)(this,"dialog-closed",{dialog:this.localName})}}],[{key:"styles",get:function(){return[C.yu,(0,m.iv)(c||(c=(0,d.Z)(["ha-dialog{--dialog-content-padding:0;--mdc-list-side-padding:24px;--mdc-list-side-padding-right:16px;--mdc-list-item-meta-size:48px}p{margin:8px 24px}.center{display:flex;align-items:center;justify-content:center}"])))]}}]);var a,i,p}(m.oi);(0,p.__decorate)([(0,g.Cb)({attribute:!1})],D.prototype,"hass",void 0),(0,p.__decorate)([(0,g.SB)()],D.prototype,"device_id",void 0),(0,p.__decorate)([(0,g.SB)()],D.prototype,"_nodeDiagnostics",void 0),D=(0,p.__decorate)([(0,g.Mo)("dialog-matter-manage-fabrics")],D),i()}catch(I){i(I)}})}}]);
//# sourceMappingURL=24966.52451c0cd4578569.js.map