# automatically generated by the FlatBuffers compiler, do not modify

# namespace: fbs

import flatbuffers
from flatbuffers.compat import import_numpy
np = import_numpy()

class TaskConfiguration(object):
    __slots__ = ['_tab']

    @classmethod
    def GetRootAs(cls, buf, offset=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, offset)
        x = TaskConfiguration()
        x.Init(buf, n + offset)
        return x

    @classmethod
    def GetRootAsTaskConfiguration(cls, buf, offset=0):
        """This method is deprecated. Please switch to GetRootAs."""
        return cls.GetRootAs(buf, offset)
    # TaskConfiguration
    def Init(self, buf, pos):
        self._tab = flatbuffers.table.Table(buf, pos)

    # Default task context for the callable
    # TaskConfiguration
    def Task(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # Default CPU index on which the task should run
    # Is composed of the preferred CPU type and an index.
    # The cpu type can be 'rt' for isolated cores or 'nrt' for non-isolated cores.
    # TaskConfiguration
    def CoreIndex(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # Default priority of the task e.g. high, mid, low
    # TaskConfiguration
    def Priority(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        if o != 0:
            return self._tab.String(o + self._tab.Pos)
        return None

    # User defined synchronization points, execute callable in order before these points, any alphanumeric character
    # TaskConfiguration
    def BeforeSyncPoints(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(10))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.String(a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 4))
        return ""

    # TaskConfiguration
    def BeforeSyncPointsLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(10))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # TaskConfiguration
    def BeforeSyncPointsIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(10))
        return o == 0

    # User defined synchronization points, execute callable in order after these points
    # TaskConfiguration
    def AfterSyncPoints(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(12))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.String(a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 4))
        return ""

    # TaskConfiguration
    def AfterSyncPointsLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(12))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # TaskConfiguration
    def AfterSyncPointsIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(12))
        return o == 0

def TaskConfigurationStart(builder): builder.StartObject(5)
def Start(builder):
    return TaskConfigurationStart(builder)
def TaskConfigurationAddTask(builder, task): builder.PrependUOffsetTRelativeSlot(0, flatbuffers.number_types.UOffsetTFlags.py_type(task), 0)
def AddTask(builder, task):
    return TaskConfigurationAddTask(builder, task)
def TaskConfigurationAddCoreIndex(builder, coreIndex): builder.PrependUOffsetTRelativeSlot(1, flatbuffers.number_types.UOffsetTFlags.py_type(coreIndex), 0)
def AddCoreIndex(builder, coreIndex):
    return TaskConfigurationAddCoreIndex(builder, coreIndex)
def TaskConfigurationAddPriority(builder, priority): builder.PrependUOffsetTRelativeSlot(2, flatbuffers.number_types.UOffsetTFlags.py_type(priority), 0)
def AddPriority(builder, priority):
    return TaskConfigurationAddPriority(builder, priority)
def TaskConfigurationAddBeforeSyncPoints(builder, beforeSyncPoints): builder.PrependUOffsetTRelativeSlot(3, flatbuffers.number_types.UOffsetTFlags.py_type(beforeSyncPoints), 0)
def AddBeforeSyncPoints(builder, beforeSyncPoints):
    return TaskConfigurationAddBeforeSyncPoints(builder, beforeSyncPoints)
def TaskConfigurationStartBeforeSyncPointsVector(builder, numElems): return builder.StartVector(4, numElems, 4)
def StartBeforeSyncPointsVector(builder, numElems):
    return TaskConfigurationStartBeforeSyncPointsVector(builder, numElems)
def TaskConfigurationAddAfterSyncPoints(builder, afterSyncPoints): builder.PrependUOffsetTRelativeSlot(4, flatbuffers.number_types.UOffsetTFlags.py_type(afterSyncPoints), 0)
def AddAfterSyncPoints(builder, afterSyncPoints):
    return TaskConfigurationAddAfterSyncPoints(builder, afterSyncPoints)
def TaskConfigurationStartAfterSyncPointsVector(builder, numElems): return builder.StartVector(4, numElems, 4)
def StartAfterSyncPointsVector(builder, numElems):
    return TaskConfigurationStartAfterSyncPointsVector(builder, numElems)
def TaskConfigurationEnd(builder): return builder.EndObject()
def End(builder):
    return TaskConfigurationEnd(builder)
try:
    from typing import List
except:
    pass

class TaskConfigurationT(object):

    # TaskConfigurationT
    def __init__(self):
        self.task = None  # type: str
        self.coreIndex = None  # type: str
        self.priority = None  # type: str
        self.beforeSyncPoints = None  # type: List[str]
        self.afterSyncPoints = None  # type: List[str]

    @classmethod
    def InitFromBuf(cls, buf, pos):
        taskConfiguration = TaskConfiguration()
        taskConfiguration.Init(buf, pos)
        return cls.InitFromObj(taskConfiguration)

    @classmethod
    def InitFromPackedBuf(cls, buf, pos=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, pos)
        return cls.InitFromBuf(buf, pos+n)

    @classmethod
    def InitFromObj(cls, taskConfiguration):
        x = TaskConfigurationT()
        x._UnPack(taskConfiguration)
        return x

    def __eq__(self, other):
        return type(self) == type(other) and \
            self.task == other.task and \
            self.coreIndex == other.coreIndex and \
            self.priority == other.priority and \
            self.beforeSyncPoints == other.beforeSyncPoints and \
            self.afterSyncPoints == other.afterSyncPoints

    # TaskConfigurationT
    def _UnPack(self, taskConfiguration):
        if taskConfiguration is None:
            return
        self.task = taskConfiguration.Task()
        self.coreIndex = taskConfiguration.CoreIndex()
        self.priority = taskConfiguration.Priority()
        if not taskConfiguration.BeforeSyncPointsIsNone():
            self.beforeSyncPoints = []
            for i in range(taskConfiguration.BeforeSyncPointsLength()):
                self.beforeSyncPoints.append(taskConfiguration.BeforeSyncPoints(i))
        if not taskConfiguration.AfterSyncPointsIsNone():
            self.afterSyncPoints = []
            for i in range(taskConfiguration.AfterSyncPointsLength()):
                self.afterSyncPoints.append(taskConfiguration.AfterSyncPoints(i))

    # TaskConfigurationT
    def Pack(self, builder):
        if self.task is not None:
            task = builder.CreateString(self.task)
        if self.coreIndex is not None:
            coreIndex = builder.CreateString(self.coreIndex)
        if self.priority is not None:
            priority = builder.CreateString(self.priority)
        if self.beforeSyncPoints is not None:
            beforeSyncPointslist = []
            for i in range(len(self.beforeSyncPoints)):
                beforeSyncPointslist.append(builder.CreateString(self.beforeSyncPoints[i]))
            TaskConfigurationStartBeforeSyncPointsVector(builder, len(self.beforeSyncPoints))
            for i in reversed(range(len(self.beforeSyncPoints))):
                builder.PrependUOffsetTRelative(beforeSyncPointslist[i])
            beforeSyncPoints = builder.EndVector()
        if self.afterSyncPoints is not None:
            afterSyncPointslist = []
            for i in range(len(self.afterSyncPoints)):
                afterSyncPointslist.append(builder.CreateString(self.afterSyncPoints[i]))
            TaskConfigurationStartAfterSyncPointsVector(builder, len(self.afterSyncPoints))
            for i in reversed(range(len(self.afterSyncPoints))):
                builder.PrependUOffsetTRelative(afterSyncPointslist[i])
            afterSyncPoints = builder.EndVector()
        TaskConfigurationStart(builder)
        if self.task is not None:
            TaskConfigurationAddTask(builder, task)
        if self.coreIndex is not None:
            TaskConfigurationAddCoreIndex(builder, coreIndex)
        if self.priority is not None:
            TaskConfigurationAddPriority(builder, priority)
        if self.beforeSyncPoints is not None:
            TaskConfigurationAddBeforeSyncPoints(builder, beforeSyncPoints)
        if self.afterSyncPoints is not None:
            TaskConfigurationAddAfterSyncPoints(builder, afterSyncPoints)
        taskConfiguration = TaskConfigurationEnd(builder)
        return taskConfiguration
