"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["60915"],{2110:function(t,e,n){n.d(e,{Z:function(){return a}});n(12212);var i=function(t){return t<10?"0".concat(t):t};function a(t){var e=Math.floor(t/3600),n=Math.floor(t%3600/60),a=Math.floor(t%3600%60);return e>0?"".concat(e,":").concat(i(n),":").concat(i(a)):n>0?"".concat(n,":").concat(i(a)):a>0?""+a:null}},17684:function(t,e,n){n.d(e,{rv:function(){return o},mK:function(){return u},aT:function(){return a},mZ:function(){return s},eF:function(){return r},WH:function(){return c}});n(12212),n(87799),n(24819),n(81738),n(6989),n(96821),n(54480);var i=n(2110),a=function(t){return t.callWS({type:"timer/list"})},r=function(t,e){return t.callWS(Object.assign({type:"timer/create"},e))},s=function(t,e,n){return t.callWS(Object.assign({type:"timer/update",timer_id:e},n))},c=function(t,e){return t.callWS({type:"timer/delete",timer_id:e})},u=function(t){if(t.attributes.remaining){var e,n,i=(e=t.attributes.remaining,3600*(n=e.split(":").map(Number))[0]+60*n[1]+n[2]);if("active"===t.state){var a=(new Date).getTime(),r=new Date(t.attributes.finishes_at).getTime();i=Math.max((r-a)/1e3,0)}return i}},o=function(t,e,n){if(!e)return null;if("idle"===e.state||0===n)return t.formatEntityState(e);var a=(0,i.Z)(n||0)||"0";return"paused"===e.state&&(a="".concat(a," (").concat(t.formatEntityState(e),")")),a}},60502:function(t,e,n){n.a(t,async function(t,i){try{n.r(e);var a,r,s=n(54982),c=n(54521),u=n(4490),o=n(20129),h=n(85297),l=(n(40777),n(73742)),f=n(59048),d=n(7616),v=(n(6595),n(93647)),m=n(75948),_=n(99389),g=t([m]);m=(g.then?(await g)():g)[0];var y=function(t){function e(){return(0,c.Z)(this,e),(0,o.Z)(this,e,arguments)}return(0,h.Z)(e,t),(0,u.Z)(e,[{key:"setConfig",value:function(t){if(!t)throw new Error("Invalid configuration");this._config=t}},{key:"render",value:function(){if(!this._config||!this.hass)return f.Ld;var t=this.hass.states[this._config.entity];return t?(0,f.dy)(r||(r=(0,s.Z)([' <hui-generic-entity-row .hass="','" .config="','"> <div class="text-content"> <ha-timer-remaining-time .hass="','" .stateObj="','"></ha-timer-remaining-time> </div> </hui-generic-entity-row> '])),this.hass,this._config,this.hass,t):(0,f.dy)(a||(a=(0,s.Z)([' <hui-warning .hass="','"> '," </hui-warning> "])),this.hass,(0,_.i)(this.hass,this._config.entity))}},{key:"shouldUpdate",value:function(t){return(0,v.G2)(this,t)}}])}(f.oi);(0,l.__decorate)([(0,d.Cb)({attribute:!1})],y.prototype,"hass",void 0),(0,l.__decorate)([(0,d.SB)()],y.prototype,"_config",void 0),y=(0,l.__decorate)([(0,d.Mo)("hui-timer-entity-row")],y),i()}catch(p){i(p)}})},6595:function(t,e,n){n.r(e);var i=n(54521),a=n(4490),r=n(20129),s=n(53389),c=n(85297),u=n(73742),o=n(59048),h=n(7616),l=n(17684),f=function(t){function e(){return(0,i.Z)(this,e),(0,r.Z)(this,e,arguments)}return(0,c.Z)(e,t),(0,a.Z)(e,[{key:"createRenderRoot",value:function(){return this}},{key:"update",value:function(t){var n;(0,s.Z)(e,"update",this,3)([t]),this.innerHTML=null!==(n=(0,l.rv)(this.hass,this.stateObj,this.timeRemaining))&&void 0!==n?n:"-"}},{key:"connectedCallback",value:function(){(0,s.Z)(e,"connectedCallback",this,3)([]),this.stateObj&&this._startInterval(this.stateObj)}},{key:"disconnectedCallback",value:function(){(0,s.Z)(e,"disconnectedCallback",this,3)([]),this._clearInterval()}},{key:"willUpdate",value:function(t){(0,s.Z)(e,"willUpdate",this,3)([t]),t.has("stateObj")&&this._startInterval(this.stateObj)}},{key:"_clearInterval",value:function(){this._updateRemaining&&(clearInterval(this._updateRemaining),this._updateRemaining=null)}},{key:"_startInterval",value:function(t){var e=this;this._clearInterval(),this._calculateRemaining(t),"active"===t.state&&(this._updateRemaining=setInterval(function(){return e._calculateRemaining(e.stateObj)},1e3))}},{key:"_calculateRemaining",value:function(t){this.timeRemaining=(0,l.mK)(t)}}])}(o.fl);(0,u.__decorate)([(0,h.Cb)({attribute:!1})],f.prototype,"hass",void 0),(0,u.__decorate)([(0,h.Cb)({attribute:!1})],f.prototype,"stateObj",void 0),(0,u.__decorate)([(0,h.SB)()],f.prototype,"timeRemaining",void 0),f=(0,u.__decorate)([(0,h.Mo)("ha-timer-remaining-time")],f)}}]);
//# sourceMappingURL=60915.19b3412c94fd2f41.js.map