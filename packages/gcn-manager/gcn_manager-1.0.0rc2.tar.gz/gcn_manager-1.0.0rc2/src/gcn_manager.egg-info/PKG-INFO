Metadata-Version: 2.4
Name: gcn-manager
Version: 1.0.0rc2
Summary: Management application for mqtt-based gpio-change-notifier clients
Author-email: nipil <nipil@users.noreply.github.com>
License-Expression: MIT
Project-URL: Homepage, https://github.com/nipil/gcn-manager-py
Project-URL: Issues, https://github.com/nipil/gcn-manager-py/issues
Classifier: Programming Language :: Python :: 3
Classifier: Operating System :: OS Independent
Requires-Python: >=3.11
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: backoff==2.2.1
Requires-Dist: dotenv==0.9.9
Requires-Dist: email_validator==2.2.0
Requires-Dist: ovh==1.2.0
Requires-Dist: paho-mqtt==2.1.0
Requires-Dist: phonenumbers==9.0.8
Requires-Dist: pydantic==2.11.7
Requires-Dist: tweepy==4.16.0
Requires-Dist: aiohappyeyeballs==2.6.1
Requires-Dist: aiohttp==3.12.13
Requires-Dist: aiosignal==1.4.0
Requires-Dist: annotated-types==0.7.0
Requires-Dist: async-lru==2.0.5
Requires-Dist: attrs==25.3.0
Requires-Dist: certifi==2025.6.15
Requires-Dist: charset-normalizer==3.4.2
Requires-Dist: dnspython==2.7.0
Requires-Dist: frozenlist==1.7.0
Requires-Dist: idna==3.10
Requires-Dist: multidict==6.6.3
Requires-Dist: oauthlib==3.3.1
Requires-Dist: propcache==0.3.2
Requires-Dist: pydantic_core==2.33.2
Requires-Dist: python-dotenv==1.1.1
Requires-Dist: requests==2.32.4
Requires-Dist: requests-oauthlib==2.0.0
Requires-Dist: typing-inspection==0.4.1
Requires-Dist: typing_extensions==4.14.1
Requires-Dist: urllib3==2.5.0
Requires-Dist: yarl==1.20.1
Dynamic: license-file

# Manager (in Python) for Gpio Change Notifier clients

# specification

- ENV
    - recipients
        - email -> DONE
        - sms -> DONE
        - twitter -> DONE

- MQTT
    - tls
        - mandatory -> DONE
        - mandatory verification -> DONE
    - auth
        - login/password -> DONE
    - errors
        - retryable
            - dns resolution -> DONE
            - host unreachable -> DONE
            - port unreachable -> DONE
        - fatal
            - auth failed -> DONE
            - tls failed -> DONE

- notifications
    - manager
        - starting -> DONE
        - exiting -> DONE
    - mqtt connection
        - failing -> DONE
        - established -> DONE
    - client
        - status
            - offline -> DONE
            - online -> DONE
        - heartbeat
            - skewed -> DONE
            - missed -> DONE
        - dropped item -> DONE
    - gpio
        - raising -> DONE
        - falling -> DONE

- brain
    - monitored gpio -> DONE
    - gpio initial -> DONE
    - gpio changed -> DONE
    - untracked -> DONE

# TODO

- see TODO/FIXME in project files

- delete non-monitored pins from memory (optional) and mqtt (need acl change)

- implement a safeguard regarding notifications : max N/day

- send a notification for when one of the providers has no low/no resources

- external monitor for the manager, to ensure it is running

- monitor
    - self sms sent and success
    - metrics from gcn client

- dev
    - add tracing
    - add metrics

- mqtt
    - auth client cert (mtls)
    - auth tls preshared key ?
    - using proxy ?

- callback URL
    - id : numéro d'identification du SMS
    - ptt : code qui correspond à un état du SMS. Les différents codes ptt sont décrits dans le premier tableau
      ci-dessous.
    - date : date du DLR (Delivery report)
    - description : ID du DLR . Les différents ID sont décrits dans le second tableau ci-dessous
    - descriptionDlr : description du status du DLR

# python asyncio debug

    export PYTHONASYNCIODEBUG=1

# credentials

## twitter

developer portal https://developer.x.com/en

project / app / keys and token

- Consumer Keys / API Key and Secret : `regenerate`
- Authentication Tokens
    - Bearer Token : **not needed**
    - Access Token and Secret : `regenerate`
- OAuth 2.0 Client ID and Client Secret : `regenerate`

project / app / settings

- oauth 1.0 : `Read and write and Direct message`
- type of app : `native app`
- oauth 2.0 / callback uri : `https://localhost` + mandatory website

_**IMPORTANT**: regenerate `Access Token and Secret` each time you modify oauth 1.0 permissions !_
