Metadata-Version: 2.4
Name: gravity_controller_operator
Version: 2.2.5
Summary: SDK –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ –º–Ω–æ–≥–∏–º–∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ)
Author: PunchyArchy
Author-email: ksmdrmvscthny@gmail.com
Classifier: Programming Language :: Python :: 3
Classifier: Operating System :: OS Independent
Requires-Python: >=3.7
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: pyModbusTCP
Requires-Dist: pymodbus==3.6.9
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: license-file
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# Gravity Controller Operator

–ú–æ–¥—É–ª—å –¥–ª—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏ (—Ä–µ–ª–µ, –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–µ –≤—Ö–æ–¥—ã –∏ —Ç.–¥.). –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

---

## üöÄ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

- **EmulatorController** ‚Äî –∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- **ARMK210Controller** ‚Äî Modbus TCP
- **WBMR6LV** ‚Äî Modbus RTU
- **NetPing2Controller** ‚Äî HTTP API
- **Sigur** ‚Äî –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ TCP (–°–ö–£–î)
- **MoxaE1214** ‚Äî REST API (vdn.dac.v1)

---

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### üß† –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

- `DIInterface`: —á—Ç–µ–Ω–∏–µ –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤
- `RelayInterface`: —á—Ç–µ–Ω–∏–µ/—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ª–µ–π–Ω—ã–º–∏ –≤—ã—Ö–æ–¥–∞–º–∏
- `ControllerInterface`: –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –æ–±–∞

–í—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–∞—Å–ª–µ–¥—É—é—Ç `SoftStateMixin`, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–æ—á–µ–∫ (`state`, `changed`, `addr`).

### üõ† –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
–ö–∞–∂–¥—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ä–µ–∞–ª–∏–∑—É–µ—Ç:
```python
self.interface = ControllerInterface(di_interface=..., relay_interface=...)
```

### üß™ –û–±—ë—Ä—Ç–∫–∏:

- `ControllerOperator` ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, mutex-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —É–¥–æ–±–Ω—ã–π API
- `ControllerCreator` ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –ø–æ –∏–º–µ–Ω–∏ –º–æ–¥–µ–ª–∏ (—Å–º. `controller_factory.py`)

---

## üß™ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

```python
from gravity_controller_operator.controllers.moxa import MoxaE1214
from gravity_controller_operator.controller_operator import ControllerOperator

moxa = MoxaE1214("192.168.60.103")
operator = ControllerOperator(moxa)

print(operator.get_points())
operator.change_relay_state(0, 1)  # –≤–∫–ª—é—á–∏—Ç—å —Ä–µ–ª–µ 0
```

---

## üî¨ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
pip install pytest
```

–ó–∞–ø—É—Å–∫:
```bash
pytest gravity_controller_operator/tests/
```

---

## üì¶ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

1. –†–µ–∞–ª–∏–∑—É–π `YourControllerDI` –∏ `YourControllerRelay`, –Ω–∞—Å–ª–µ–¥—É—è `DIInterface`, `RelayInterface`
2. –°–æ–∑–¥–∞–π `YourController`, –≤ –∫–æ—Ç–æ—Ä–æ–º:
```python
self.interface = ControllerInterface(di_interface=..., relay_interface=...)
```
3. –î–æ–±–∞–≤—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤ `AVAILABLE_CONTROLLERS` –≤ `controller_factory.py`

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
controllers_super.py          # –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
controllers/                  # –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
controller_operator.py        # –û–±—ë—Ä—Ç–∫–∞ ControllerOperator ‚úÖ
controller_factory.py         # AVAILABLE_CONTROLLERS + —Ñ–∞–±—Ä–∏–∫–∞ ‚úÖ
exceptions.py                 # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è ‚úÖ
tests/                        # –¢–µ—Å—Ç—ã
README.md
```

---

## ü§ù –ö–æ–Ω—Ç–∞–∫—Ç—ã

- üìß Email: ksmdrmvstchny@gmail.com
- üí¨ Telegram: [@PunchyArchy](https://t.me/PunchyArchy)
- üìû Phone: +7 996 294-75-95

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ê—Ä—Ç—É—Ä–æ–º (PunchyArchy, Qodex)
