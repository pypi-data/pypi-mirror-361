"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["29447"],{93508:function(n,e,t){t.d(e,{j:function(){return r}});var r=function(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return null!==(n=e.activeElement)&&void 0!==n&&null!==(n=n.shadowRoot)&&void 0!==n&&n.activeElement?r(e.activeElement.shadowRoot):e.activeElement}},67050:function(n,e,t){t.d(e,{c:function(){return c}});var r=t(29694),a=t(75778),o=(t(12212),t(54480),t(1455),t(64455),t(6202),t(12066)),i=t(39884),u=t(83054),c=function(){var n=(0,a.Z)((0,r.Z)().m(function n(e,t){var a,s,l,f,d,g,v,h=arguments;return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:if(s=h.length>2&&void 0!==h[2]?h[2]:Date.now(),l=u.E.history,!(null!==(a=l.state)&&void 0!==a&&a.dialog&&Date.now()-s<500)){n.n=3;break}return n.n=1,(0,o.ts)();case 1:if(n.v){n.n=2;break}return console.warn("Navigation blocked, because dialog refused to close"),n.a(2,!1);case 2:return n.a(2,new Promise(function(n){setTimeout(function(){c(e,t,s).then(n)})}));case 3:return(f=(null==t?void 0:t.replace)||!1)?l.replaceState(null!==(d=l.state)&&void 0!==d&&d.root?{root:!0}:null!==(g=null==t?void 0:t.data)&&void 0!==g?g:null,"",e):l.pushState(null!==(v=null==t?void 0:t.data)&&void 0!==v?v:null,"",e),(0,i.B)(u.E,"location-changed",{replace:f}),n.a(2,!0)}},n)}));return function(e,t){return n.apply(this,arguments)}}()},87639:function(n,e,t){t.d(e,{D:function(){return r}});var r=function(n,e){var t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var u=r&&!t;clearTimeout(t),t=window.setTimeout(function(){t=void 0,n.apply(void 0,o)},e),u&&n.apply(void 0,o)};return a.cancel=function(){clearTimeout(t)},a}},61036:function(n,e,t){t.d(e,{n:function(){return a}});t(40777),t(26847),t(1455),t(27530);class r extends Error{constructor(n,...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,r),this.name="TimeoutError",this.timeout=n,this.message=`Timed out in ${n} ms.`}}const a=(n,e)=>{const t=new Promise((e,t)=>{setTimeout(()=>{t(new r(n))},n)});return Promise.race([e,t])}},97133:function(n,e,t){t.d(e,{$_:function(){return p},A1:function(){return i},A4:function(){return l},Cy:function(){return o},Gn:function(){return s},LW:function(){return d},TD:function(){return b},WC:function(){return k},bI:function(){return a},cR:function(){return c},kd:function(){return f},l3:function(){return h},pw:function(){return g},qF:function(){return u},we:function(){return m},x_:function(){return v}});var r=t(72644);const a=(0,r.kr)("connection"),o=(0,r.kr)("states"),i=(0,r.kr)("entities"),u=(0,r.kr)("devices"),c=(0,r.kr)("areas"),s=(0,r.kr)("localize"),l=(0,r.kr)("locale"),f=(0,r.kr)("config"),d=(0,r.kr)("themes"),g=(0,r.kr)("selectedTheme"),v=(0,r.kr)("user"),h=(0,r.kr)("userData"),p=(0,r.kr)("panels"),m=(0,r.kr)("extendedEntities"),k=(0,r.kr)("floors"),b=(0,r.kr)("labels")},97903:function(n,e,t){if(t.d(e,{q:function(){return u}}),66977!=t.j)var r=t(5657);if(66977!=t.j)var a=t(87639);var o=function(n){return n.sendMessagePromise({type:"config/device_registry/list"})},i=function(n,e){return n.subscribeEvents((0,a.D)(function(){return o(n).then(function(n){return e.setState(n,!0)})},500,!0),"device_registry_updated")},u=function(n,e){return(0,r.B)("_dr",o,i,n,e)}},72242:function(n,e,t){t.r(e),t.d(e,{loadGenericDialog:function(){return a},showAlertDialog:function(){return i},showConfirmationDialog:function(){return u},showPromptDialog:function(){return c}});t(26847),t(87799),t(1455),t(27530);var r=t(39884);const a=()=>Promise.all([t.e("73614"),t.e("2243"),t.e("5055"),t.e("20771"),t.e("48166")]).then(t.bind(t,47517)),o=(n,e,t)=>new Promise(o=>{const i=e.cancel,u=e.confirm;(0,r.B)(n,"show-dialog",{dialogTag:"dialog-box",dialogImport:a,dialogParams:Object.assign(Object.assign(Object.assign({},e),t),{},{cancel:()=>{o(!(null==t||!t.prompt)&&null),i&&i()},confirm:n=>{o(null==t||!t.prompt||n),u&&u(n)}})})}),i=(n,e)=>o(n,e),u=(n,e)=>o(n,e,{confirmation:!0}),c=(n,e)=>o(n,e,{prompt:!0})},12066:function(n,e,t){t.d(e,{L$:function(){return k},lD:function(){return T},ts:function(){return b},vC:function(){return p}});var r=t(75706),a=t(29694),o=t(75778),i=(t(14487),t(2394),t(13571),t(87799),t(54480),t(1455),t(83054)),u=t(1206);if(66977!=t.j)var c=t(93508);var s,l,f,d=t(65863),g={},v=[],h=Symbol.for("HA focus target"),p=66977!=t.j?(s=(0,o.Z)((0,a.Z)().m(function n(e,t,r,o,s){var l,f,d,m,k,b,T,E=arguments;return(0,a.Z)().w(function(n){for(;;)switch(n.n){case 0:if(l=!(E.length>5&&void 0!==E[5])||E[5],r in g){n.n=2;break}if(s){n.n=1;break}return n.a(2,!1);case 1:g[r]={element:s().then(function(){var n=document.createElement(r);return e.provideHass(n),n.addEventListener("dialog-closed",w),n.addEventListener("dialog-closed",y),n})};case 2:if(!l){n.n=5;break}if(m=i.E.history,null===(f=m.state)||void 0===f||!f.dialog||v.length){n.n=4;break}return n.n=3,new Promise(function(n){setTimeout(n)});case 3:return n.a(2,p(e,t,r,o,s,l));case 4:-1!==(k=v.findIndex(function(n){return n.dialogTag===r}))&&v.splice(k,1),v.push({element:e,root:t,dialogTag:r,dialogParams:o,dialogImport:s,addHistory:l}),b={dialog:r},null!==(d=m.state)&&void 0!==d&&d.dialog?m.replaceState(b,""):(m.replaceState(Object.assign(Object.assign({},m.state),{},{opensDialog:!0}),""),m.pushState(b,""));case 5:return g[r].closedFocusTargets=(0,u.r)((0,c.j)(),h),n.n=6,g[r].element;case 6:return T=n.v,t.appendChild(T),T.showDialog(o),n.a(2,!0)}},n)})),function(n,e,t,r,a){return s.apply(this,arguments)}):null,m=function(){var n=(0,o.Z)((0,a.Z)().m(function n(e){var t;return(0,a.Z)().w(function(n){for(;;)switch(n.n){case 0:if(e in g){n.n=1;break}return n.a(2,!0);case 1:return n.n=2,g[e].element;case 2:if(!(t=n.v).closeDialog){n.n=3;break}return n.a(2,!1!==t.closeDialog());case 3:return n.a(2,!0)}},n)}));return function(e){return n.apply(this,arguments)}}(),k=66977!=t.j?(l=(0,o.Z)((0,a.Z)().m(function n(){var e,t,r;return(0,a.Z)().w(function(n){for(;;)switch(n.n){case 0:if(!v.length){n.n=2;break}return t=v.pop(),n.n=1,m(t.dialogTag);case 1:return(r=n.v)||v.push(t),v.length&&null!==(e=i.E.history.state)&&void 0!==e&&e.opensDialog&&i.E.history.pushState({dialog:v[v.length-1].dialogTag},""),n.a(2,r);case 2:return n.a(2,!0)}},n)})),function(){return l.apply(this,arguments)}):null,b=function(){var n=(0,o.Z)((0,a.Z)().m(function n(){var e,t;return(0,a.Z)().w(function(n){for(;;)switch(n.n){case 0:e=v.length-1;case 1:if(!(e>=0)){n.n=5;break}if(t=!v[e]){n.n=3;break}return n.n=2,m(v[e].dialogTag);case 2:t=n.v;case 3:if(t){n.n=4;break}return n.a(2,!1);case 4:e--,n.n=1;break;case 5:return n.a(2,!0)}},n)}));return function(){return n.apply(this,arguments)}}(),w=function(n){var e,t=v.findIndex(function(e){return e.dialogTag===n.detail.dialog});-1!==t&&v.splice(t,1),(null===(e=i.E.history.state)||void 0===e?void 0:e.dialog)===n.detail.dialog&&(v.length?i.E.history.replaceState({dialog:v[v.length-1].dialogTag},""):-1!==t&&i.E.history.back())},T=function(n,e){n.addEventListener("show-dialog",function(t){var r=t.detail,a=r.dialogTag,o=r.dialogImport,i=r.dialogParams,u=r.addHistory;p(n,e,a,i,o,u)})},y=66977!=t.j?(f=(0,o.Z)((0,a.Z)().m(function n(e){var t,o,i,u,s,l;return(0,a.Z)().w(function(n){for(;;)switch(n.n){case 0:if(g[e.detail.dialog]){n.n=1;break}return n.a(2);case 1:if(t=g[e.detail.dialog].closedFocusTargets,delete g[e.detail.dialog].closedFocusTargets,t){n.n=2;break}return n.a(2);case 2:return(o=(0,c.j)())instanceof HTMLElement&&o.blur(),n.n=3,(0,d.y)();case 3:i=(0,r.Z)(t),n.p=4,i.s();case 5:if((u=i.n()).done){n.n=7;break}if(!((s=u.value)instanceof HTMLElement)){n.n=6;break}if(s.focus(),!(o=(0,c.j)())||o===document.body){n.n=6;break}return n.a(2);case 6:n.n=5;break;case 7:n.n=9;break;case 8:n.p=8,l=n.v,i.e(l);case 9:return n.p=9,i.f(),n.f(9);case 10:case 11:return n.a(2)}},n,null,[[4,8,9,10]])})),function(n){return f.apply(this,arguments)}):null}}]);
//# sourceMappingURL=29447.16747131527ed04c.js.map