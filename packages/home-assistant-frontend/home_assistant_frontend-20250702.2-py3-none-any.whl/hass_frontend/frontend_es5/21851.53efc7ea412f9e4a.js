(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["21851"],{5778:function(e,t,n){"use strict";var r,o=n(77528),a=n(29694),i=n(42385),s=n(75778),c=n(54521),l=n(4490),u=n(67063),h=n(20129),d=n(85297),f=n(53389),p=(n(12212),n(25518),n(55204),n(39710),n(26847),n(24819),n(44438),n(69643),n(81738),n(94814),n(6989),n(93190),n(54480),n(1455),n(65640),n(28660),n(64455),n(56303),n(56389),n(48694),n(27530),n(73742)),v=n(59048),g=n(7616),m=n(82040),y=n.n(m),_=n(39884),b=(n(41465),n(34845),n(95729),n(36330),n(38221),n(75863),n(86190)),w=function(){var e=(0,s.Z)((0,a.Z)().m(function e(t,o,i){return(0,a.Z)().w(function(e){for(;;)if(0===e.n)return r||(r=(0,b.Ud)(new Worker(new URL(n.p+n.u("45845"),n.b)))),e.a(2,r.renderMarkdown(t,o,i))},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),k=new(n(28773).L)(1e3),C={reType:RegExp("(?<input>(\\[!(?<type>caution|important|note|tip|warning)\\])(?:\\s|\\\\n)?)","i"),typeToHaAlert:{caution:"error",important:"info",note:"info",tip:"success",warning:"warning"}},Z=function(e){function t(){var e;(0,c.Z)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=(0,h.Z)(this,t,[].concat(r))).allowSvg=!1,e.allowDataUrl=!1,e.breaks=!1,e.lazyImages=!1,e.cache=!1,e._resize=function(){return(0,_.B)((0,u.Z)(e),"content-resize")},e}return(0,d.Z)(t,e),(0,l.Z)(t,[{key:"disconnectedCallback",value:function(){if((0,f.Z)(t,"disconnectedCallback",this,3)([]),this.cache){var e=this._computeCacheKey();k.set(e,this.innerHTML)}}},{key:"createRenderRoot",value:function(){return this}},{key:"update",value:function(e){(0,f.Z)(t,"update",this,3)([e]),void 0!==this.content&&this._render()}},{key:"willUpdate",value:function(e){if(!this.innerHTML&&this.cache){var t=this._computeCacheKey();k.has(t)&&(this.innerHTML=k.get(t),this._resize())}}},{key:"_computeCacheKey",value:function(){return y()({content:this.content,allowSvg:this.allowSvg,allowDataUrl:this.allowDataUrl,breaks:this.breaks})}},{key:"_render",value:(r=(0,s.Z)((0,a.Z)().m(function e(){var t,r,s=this;return(0,a.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,w(String(this.content),{breaks:this.breaks,gfm:!0},{allowSvg:this.allowSvg,allowDataUrl:this.allowDataUrl});case 1:this.innerHTML=e.v,this._resize(),t=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,null),r=(0,a.Z)().m(function e(){var r,o,c,l,u;return(0,a.Z)().w(function(e){for(;;)switch(e.n){case 0:(r=t.currentNode)instanceof HTMLAnchorElement&&r.host!==document.location.host?(r.target="_blank",r.rel="noreferrer noopener"):r instanceof HTMLImageElement?(s.lazyImages&&(r.loading="lazy"),r.addEventListener("load",s._resize)):r instanceof HTMLQuoteElement?(c=(null===(o=r.firstElementChild)||void 0===o||null===(o=o.firstChild)||void 0===o?void 0:o.textContent)&&C.reType.exec(r.firstElementChild.firstChild.textContent))&&(l=c.groups.type,(u=document.createElement("ha-alert")).alertType=C.typeToHaAlert[l.toLowerCase()],u.append.apply(u,(0,i.Z)(Array.from(r.childNodes).map(function(e){var t=Array.from(e.childNodes);if(!s.breaks&&t.length){var n,r=t[0];r.nodeType===Node.TEXT_NODE&&r.textContent===c.input&&null!==(n=r.textContent)&&void 0!==n&&n.includes("\n")&&(r.textContent=r.textContent.split("\n").slice(1).join("\n"))}return t}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return e.textContent&&e.textContent!==c.input}))),t.parentNode().replaceChild(u,r)):r instanceof HTMLElement&&["ha-alert","ha-qr-code","ha-icon","ha-svg-icon"].includes(r.localName)&&n(23265)("./".concat(r.localName));case 1:return e.a(2)}},e)});case 2:if(!t.nextNode()){e.n=4;break}return e.d((0,o.Z)(r()),3);case 3:e.n=2;break;case 4:return e.a(2)}},e,this)})),function(){return r.apply(this,arguments)})}]);var r}(v.fl);(0,p.__decorate)([(0,g.Cb)()],Z.prototype,"content",void 0),(0,p.__decorate)([(0,g.Cb)({attribute:"allow-svg",type:Boolean})],Z.prototype,"allowSvg",void 0),(0,p.__decorate)([(0,g.Cb)({attribute:"allow-data-url",type:Boolean})],Z.prototype,"allowDataUrl",void 0),(0,p.__decorate)([(0,g.Cb)({type:Boolean})],Z.prototype,"breaks",void 0),(0,p.__decorate)([(0,g.Cb)({type:Boolean,attribute:"lazy-images"})],Z.prototype,"lazyImages",void 0),(0,p.__decorate)([(0,g.Cb)({type:Boolean})],Z.prototype,"cache",void 0),Z=(0,p.__decorate)([(0,g.Mo)("ha-markdown-element")],Z)},45861:function(e,t,n){"use strict";var r,o,a=n(54982),i=n(54521),s=n(4490),c=n(20129),l=n(85297),u=(n(12212),n(73742)),h=n(59048),d=n(7616),f=(n(5778),function(e){function t(){var e;(0,i.Z)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=(0,c.Z)(this,t,[].concat(r))).allowSvg=!1,e.allowDataUrl=!1,e.breaks=!1,e.lazyImages=!1,e.cache=!1,e}return(0,l.Z)(t,e),(0,s.Z)(t,[{key:"render",value:function(){return this.content?(0,h.dy)(r||(r=(0,a.Z)(['<ha-markdown-element .content="','" .allowSvg="','" .allowDataUrl="','" .breaks="','" .lazyImages="','" .cache="','"></ha-markdown-element>'])),this.content,this.allowSvg,this.allowDataUrl,this.breaks,this.lazyImages,this.cache):h.Ld}}])}(h.oi));f.styles=(0,h.iv)(o||(o=(0,a.Z)([":host{display:block}ha-markdown-element{-ms-user-select:text;-webkit-user-select:text;-moz-user-select:text}ha-markdown-element>:first-child{margin-top:0}ha-markdown-element>:last-child{margin-bottom:0}ha-alert{display:block;margin:4px 0}a{color:var(--primary-color)}img{max-width:100%}code,pre{background-color:var(--markdown-code-background-color,none);border-radius:3px}svg{background-color:var(--markdown-svg-background-color,none);color:var(--markdown-svg-color,none)}code{font-size:var(--ha-font-size-s);padding:.2em .4em}pre code{padding:0}pre{padding:16px;overflow:auto;line-height:var(--ha-line-height-condensed);font-family:var(--ha-font-family-code)}h1,h2,h3,h4,h5,h6{line-height:initial}h2{font-size:var(--ha-font-size-xl);font-weight:var(--ha-font-weight-bold)}hr{border-color:var(--divider-color);border-bottom:none;margin:16px 0}"]))),(0,u.__decorate)([(0,d.Cb)()],f.prototype,"content",void 0),(0,u.__decorate)([(0,d.Cb)({attribute:"allow-svg",type:Boolean})],f.prototype,"allowSvg",void 0),(0,u.__decorate)([(0,d.Cb)({attribute:"allow-data-url",type:Boolean})],f.prototype,"allowDataUrl",void 0),(0,u.__decorate)([(0,d.Cb)({type:Boolean})],f.prototype,"breaks",void 0),(0,u.__decorate)([(0,d.Cb)({type:Boolean,attribute:"lazy-images"})],f.prototype,"lazyImages",void 0),(0,u.__decorate)([(0,d.Cb)({type:Boolean})],f.prototype,"cache",void 0),f=(0,u.__decorate)([(0,d.Mo)("ha-markdown")],f)},50870:function(e,t,n){"use strict";n.d(t,{N:function(){return r},Z:function(){return o}});n(87799);var r=function(e,t,n){return e.subscribeMessage(function(e){return t(e)},Object.assign({type:"render_template"},n))},o=function(e,t,n,r,o){return e.connection.subscribeMessage(o,{type:"template/start_preview",flow_id:t,flow_type:n,user_input:r})}},11308:function(e,t,n){"use strict";n.r(t),n.d(t,{HuiMarkdownCard:function(){return Z}});var r,o,a,i=n(29694),s=n(75778),c=n(54982),l=n(54521),u=n(4490),h=n(20129),d=n(85297),f=n(53389),p=(n(44776),n(40777),n(12212),n(26847),n(54480),n(1455),n(48694),n(27530),n(73742)),v=n(59048),g=n(7616),m=n(31733),y=n(82040),_=n.n(y),b=n(4427),w=n(39884),k=(n(12942),n(31138),n(45861),n(50870)),C=new(n(28773).L)(1e3),Z=function(e){function t(){var e;(0,l.Z)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=(0,h.Z)(this,t,[].concat(r))).preview=!1,e}return(0,d.Z)(t,e),(0,u.Z)(t,[{key:"getCardSize",value:function(){return void 0===this._config?3:void 0===this._config.card_size?Math.round(this._config.content.split("\n").length/2)+(this._config.title?1:0):this._config.card_size}},{key:"setConfig",value:function(e){var t;if(!e.content)throw new Error("Content required");(null===(t=this._config)||void 0===t?void 0:t.content)!==e.content&&this._tryDisconnect(),this._config=e}},{key:"connectedCallback",value:function(){(0,f.Z)(t,"connectedCallback",this,3)([]),this._tryConnect()}},{key:"_computeCacheKey",value:function(){return _()(this._config)}},{key:"disconnectedCallback",value:function(){if((0,f.Z)(t,"disconnectedCallback",this,3)([]),this._tryDisconnect(),this._config&&this._templateResult){var e=this._computeCacheKey();C.set(e,this._templateResult)}}},{key:"willUpdate",value:function(e){if((0,f.Z)(t,"willUpdate",this,3)([e]),this._config&&!this._templateResult){var n=this._computeCacheKey();C.has(n)&&(this._templateResult=C.get(n))}}},{key:"render",value:function(){var e,t,n;return this._config?(0,v.dy)(r||(r=(0,c.Z)([" ",' <ha-card .header="','" class="','"> <ha-markdown cache breaks .content="','"></ha-markdown> </ha-card> '])),this._error?(0,v.dy)(o||(o=(0,c.Z)([' <ha-alert .alertType="','"> '," </ha-alert> "])),(null===(e=this._errorLevel)||void 0===e?void 0:e.toLowerCase())||"error",this._error):v.Ld,this._config.text_only?void 0:this._config.title,(0,m.$)({"with-header":!!this._config.title,"text-only":null!==(t=this._config.text_only)&&void 0!==t&&t}),null===(n=this._templateResult)||void 0===n?void 0:n.result):v.Ld}},{key:"updated",value:function(e){if((0,f.Z)(t,"updated",this,3)([e]),this._config&&this.hass){e.has("_config")&&this._tryConnect();var n=!!this._templateResult&&!1===this._config.show_empty&&0===this._templateResult.result.length;n!==this.hidden&&(this.style.display=n?"none":"",this.toggleAttribute("hidden",n),(0,w.B)(this,"card-visibility-changed",{value:!n}));var r=e.get("hass"),o=e.get("_config");r&&o&&r.themes===this.hass.themes&&o.theme===this._config.theme||(0,b.R)(this,this.hass.themes,this._config.theme)}}},{key:"_tryConnect",value:(g=(0,s.Z)((0,i.Z)().m(function e(){var t,n=this;return(0,i.Z)().w(function(e){for(;;)switch(e.n){case 0:if(void 0===this._unsubRenderTemplate&&this.hass&&this._config){e.n=1;break}return e.a(2);case 1:return this._error=void 0,this._errorLevel=void 0,e.p=2,this._unsubRenderTemplate=(0,k.N)(this.hass.connection,function(e){"error"in e?"ERROR"!==e.level&&"ERROR"===n._errorLevel||(n._error=e.error,n._errorLevel=e.level):n._templateResult=e},{template:this._config.content,entity_ids:this._config.entity_id,variables:{config:this._config,user:this.hass.user.name},strict:!0,report_errors:this.preview}),e.n=3,this._unsubRenderTemplate;case 3:e.n=5;break;case 4:e.p=4,t=e.v,this.preview&&(this._error=t.message,this._errorLevel=void 0),this._templateResult={result:this._config.content,listeners:{all:!1,domains:[],entities:[],time:!1}},this._unsubRenderTemplate=void 0;case 5:return e.a(2)}},e,this,[[2,4]])})),function(){return g.apply(this,arguments)})},{key:"_tryDisconnect",value:(p=(0,s.Z)((0,i.Z)().m(function e(){return(0,i.Z)().w(function(e){for(;;)switch(e.n){case 0:if(this._unsubRenderTemplate){e.n=1;break}return e.a(2);case 1:this._unsubRenderTemplate.then(function(e){return e()}).catch(),this._unsubRenderTemplate=void 0,this._error=void 0,this._errorLevel=void 0;case 2:return e.a(2)}},e,this)})),function(){return p.apply(this,arguments)})}],[{key:"getConfigElement",value:(a=(0,s.Z)((0,i.Z)().m(function e(){return(0,i.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.e("96554").then(n.bind(n,56954));case 1:return e.a(2,document.createElement("hui-markdown-card-editor"))}},e)})),function(){return a.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{type:"markdown",content:"The **Markdown** card allows you to write any text. You can style it **bold**, *italicized*, ~strikethrough~ etc. You can do images, links, and more.\n\nFor more information see the [Markdown Cheatsheet](https://commonmark.org/help)."}}}]);var a,p,g}(v.oi);Z.styles=(0,v.iv)(a||(a=(0,c.Z)(["ha-card{height:100%}ha-alert{margin-bottom:8px}ha-markdown{padding:16px;word-wrap:break-word;text-align:var(--card-text-align,inherit)}.with-header ha-markdown{padding:0 16px 16px}.text-only{background:0 0;box-shadow:none;border:none}.text-only ha-markdown{padding:2px 4px}"]))),(0,p.__decorate)([(0,g.Cb)({attribute:!1})],Z.prototype,"hass",void 0),(0,p.__decorate)([(0,g.Cb)({type:Boolean})],Z.prototype,"preview",void 0),(0,p.__decorate)([(0,g.SB)()],Z.prototype,"_config",void 0),(0,p.__decorate)([(0,g.SB)()],Z.prototype,"_error",void 0),(0,p.__decorate)([(0,g.SB)()],Z.prototype,"_errorLevel",void 0),(0,p.__decorate)([(0,g.SB)()],Z.prototype,"_templateResult",void 0),Z=(0,p.__decorate)([(0,g.Mo)("hui-markdown-card")],Z)},28773:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});var r=n(54521),o=n(4490),a=(n(26847),n(7175),n(54480),n(48694),n(27530),function(){return(0,o.Z)(function e(t){(0,r.Z)(this,e),this._cache=new Map,this._expiration=t},[{key:"get",value:function(e){return this._cache.get(e)}},{key:"set",value:function(e,t){var n=this;this._cache.set(e,t),this._expiration&&window.setTimeout(function(){return n._cache.delete(e)},this._expiration)}},{key:"has",value:function(e){return this._cache.has(e)}}])}())},23265:function(e,t,n){var r={"./ha-icon":["46358","82343","25817"],"./ha-icon-button-toggle":["68695","54472"],"./ha-svg-icon":["993"],"./ha-icon-button-group":["15053","59877"],"./ha-svg-icon.ts":["993"],"./ha-icon.ts":["46358","82343","25817"],"./ha-icon-overflow-menu":["65014","97103","91789","22092","79576","37165"],"./ha-icon-next":["5786","41374"],"./ha-icon-picker":["65981","73614","2243","97103","15601","16376","82343","38778"],"./ha-qr-code.ts":["2183","16892","22954"],"./ha-icon-button-arrow-prev.ts":["45109","86454"],"./ha-icon-button-arrow-prev":["45109","86454"],"./ha-icon-overflow-menu.ts":["65014","97103","91789","22092","79576","37165"],"./ha-alert":["12942","43404"],"./ha-icon-button-next":["22852","8145"],"./ha-icon-button":["48017"],"./ha-icon-button-next.ts":["22852","8145"],"./ha-icon-picker.ts":["65981","73614","2243","97103","15601","16376","82343","38778"],"./ha-icon-button-group.ts":["15053","59877"],"./ha-icon-button-toggle.ts":["68695","54472"],"./ha-icon-button-arrow-next.ts":["51383","30113"],"./ha-icon-button-prev.ts":["29813","54260"],"./ha-icon-prev":["21940","55974"],"./ha-icon-prev.ts":["21940","55974"],"./ha-icon-button.ts":["48017"],"./ha-alert.ts":["12942","43404"],"./ha-icon-button-prev":["29813","54260"],"./ha-qr-code":["2183","16892","22954"],"./ha-icon-next.ts":["5786","41374"],"./ha-icon-button-arrow-next":["51383","30113"]};function o(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(o)})}o.keys=function(){return Object.keys(r)},o.id=23265,e.exports=o},94388:function(e,t,n){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}n(73249),n(84730),n(79133),n(26847),n(54480),n(48694),n(27530),e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},68076:function(e,t,n){"use strict";n(77341)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},77451:function(e,t,n){"use strict";var r=n(77341),o=n(30456),a=n(42749),i=n(61360),s=TypeError,c=Object.defineProperty,l=o.self!==o;try{if(i){var u=Object.getOwnPropertyDescriptor(o,"self");!l&&u&&u.get&&u.enumerable||a(o,"self",{get:function(){return o},set:function(e){if(this!==o)throw new s("Illegal invocation");c(o,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else r({global:!0,simple:!0,forced:l},{self:o})}catch(h){}},86190:function(e,t,n){"use strict";n.d(t,{Ud:function(){return y}});var r=n(10354),o=n(74904),a=n(18840),i=n(42385),s=n(75706),c=n(61943),l=(n(73249),n(84730),n(40777),n(12212),n(63430),n(26847),n(24819),n(44438),n(69643),n(13715),n(81738),n(6989),n(93190),n(7175),n(68076),n(87799),n(54480),n(1455),n(65640),n(28660),n(64455),n(32192),n(56303),n(48694),n(52530),n(27530),Symbol("Comlink.proxy")),u=Symbol("Comlink.endpoint"),h=Symbol("Comlink.releaseProxy"),d=Symbol("Comlink.finalizer"),f=Symbol("Comlink.thrown"),p=function(e){return"object"===(0,c.Z)(e)&&null!==e||"function"==typeof e},v=new Map([["proxy",{canHandle:function(e){return p(e)&&e[l]},serialize:function(e){var t=new MessageChannel,n=t.port1,r=t.port2;return g(e,n),[r,[r]]},deserialize:function(e){return e.start(),y(e)}}],["throw",{canHandle:function(e){return p(e)&&f in e},serialize:function(e){var t=e.value;return[t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[]]},deserialize:function(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["*"];t.addEventListener("message",function c(u){if(u&&u.data)if(function(e,t){var n,r=(0,s.Z)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(t===o||"*"===o)return!0;if(o instanceof RegExp&&o.test(t))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(n,u.origin)){var h,p=Object.assign({path:[]},u.data),v=p.id,y=p.type,_=p.path,b=(u.data.argumentList||[]).map(T);try{var w=_.slice(0,-1).reduce(function(e,t){return e[t]},e),k=_.reduce(function(e,t){return e[t]},e);switch(y){case"GET":h=k;break;case"SET":w[_.slice(-1)[0]]=T(u.data.value),h=!0;break;case"APPLY":h=k.apply(w,b);break;case"CONSTRUCT":var C;h=function(e){return Object.assign(e,(0,o.Z)({},l,!0))}((0,a.Z)(k,(0,i.Z)(b)));break;case"ENDPOINT":var Z=new MessageChannel,R=Z.port1,S=Z.port2;g(e,S),h=function(e,t){return x.set(e,t),e}(R,[R]);break;case"RELEASE":h=void 0;break;default:return}}catch(C){h=(0,o.Z)({value:C},f,0)}Promise.resolve(h).catch(function(e){return(0,o.Z)({value:e},f,0)}).then(function(n){var o=E(n),a=(0,r.Z)(o,2),i=a[0],s=a[1];t.postMessage(Object.assign(Object.assign({},i),{id:v}),s),"RELEASE"===y&&(t.removeEventListener("message",c),m(t),d in e&&"function"==typeof e[d]&&e[d]())}).catch(function(e){var n=E((0,o.Z)({value:new TypeError("Unserializable return value")},f,0)),a=(0,r.Z)(n,2),i=a[0],s=a[1];t.postMessage(Object.assign(Object.assign({},i),{id:v}),s)})}else console.warn("Invalid origin '".concat(u.origin,"' for comlink proxy"))}),t.start&&t.start()}function m(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function y(e,t){var n=new Map;return e.addEventListener("message",function(e){var t=e.data;if(t&&t.id){var r=n.get(t.id);if(r)try{r(t)}finally{n.delete(t.id)}}}),C(e,n,[],t)}function _(e){if(e)throw new Error("Proxy has been released and is not useable")}function b(e){return R(e,new Map,{type:"RELEASE"}).then(function(){m(e)})}var w=new WeakMap,k="FinalizationRegistry"in globalThis&&new FinalizationRegistry(function(e){var t=(w.get(e)||0)-1;w.set(e,t),0===t&&b(e)});function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=!1,a=new Proxy(arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},{get:function(r,s){if(_(o),s===h)return function(){!function(e){k&&k.unregister(e)}(a),b(e),t.clear(),o=!0};if("then"===s){if(0===n.length)return{then:function(){return a}};var c=R(e,t,{type:"GET",path:n.map(function(e){return e.toString()})}).then(T);return c.then.bind(c)}return C(e,t,[].concat((0,i.Z)(n),[s]))},set:function(a,s,c){_(o);var l=E(c),u=(0,r.Z)(l,2),h=u[0],d=u[1];return R(e,t,{type:"SET",path:[].concat((0,i.Z)(n),[s]).map(function(e){return e.toString()}),value:h},d).then(T)},apply:function(a,i,s){_(o);var c=n[n.length-1];if(c===u)return R(e,t,{type:"ENDPOINT"}).then(T);if("bind"===c)return C(e,t,n.slice(0,-1));var l=Z(s),h=(0,r.Z)(l,2),d=h[0],f=h[1];return R(e,t,{type:"APPLY",path:n.map(function(e){return e.toString()}),argumentList:d},f).then(T)},construct:function(a,i){_(o);var s=Z(i),c=(0,r.Z)(s,2),l=c[0],u=c[1];return R(e,t,{type:"CONSTRUCT",path:n.map(function(e){return e.toString()}),argumentList:l},u).then(T)}});return function(e,t){var n=(w.get(t)||0)+1;w.set(t,n),k&&k.register(e,t,e)}(a,e),a}function Z(e){var t,n=e.map(E);return[n.map(function(e){return e[0]}),(t=n.map(function(e){return e[1]}),Array.prototype.concat.apply([],t))]}var x=new WeakMap;function E(e){var t,n=(0,s.Z)(v);try{for(n.s();!(t=n.n()).done;){var o=(0,r.Z)(t.value,2),a=o[0],i=o[1];if(i.canHandle(e)){var c=i.serialize(e),l=(0,r.Z)(c,2);return[{type:"HANDLER",name:a,value:l[0]},l[1]]}}}catch(u){n.e(u)}finally{n.f()}return[{type:"RAW",value:e},x.get(e)||[]]}function T(e){switch(e.type){case"HANDLER":return v.get(e.name).deserialize(e.value);case"RAW":return e.value}}function R(e,t,n,r){return new Promise(function(o){var a=new Array(4).fill(0).map(function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)}).join("-");t.set(a,o),e.start&&e.start(),e.postMessage(Object.assign({id:a},n),r)})}}}]);
//# sourceMappingURL=21851.53efc7ea412f9e4a.js.map