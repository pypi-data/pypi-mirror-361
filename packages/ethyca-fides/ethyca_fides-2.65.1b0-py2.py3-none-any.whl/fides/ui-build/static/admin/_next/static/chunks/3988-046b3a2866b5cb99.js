"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3988],{59969:function(e,t,r){var i=r(24246),n=r(86920);r(27378);var l=r(8557);t.Z=e=>{let{daysLeft:t,includeText:r,status:s}=e;if(!t||s===l.q.COMPLETE||s===l.q.CANCELED||s===l.q.DENIED||s===l.q.IDENTITY_UNVERIFIED)return(0,i.jsx)("span",{children:"-"});let a="";switch(!0){case t>=10:a="success";break;case t<10&&t>4:a="warning";break;case t<5:a="error"}return(0,i.jsx)(n.j8w,{color:a,children:r?"".concat(t," days left"):t})}},18225:function(e,t,r){var i=r(24246),n=r(86920);t.Z=e=>{let{alignment:t="center",...r}=e;return(0,i.jsx)(n.kCb,{boxSize:"full",align:"center",justify:t,children:(0,i.jsx)(n.$jN,{color:"primary",...r})})}},58754:function(e,t,r){var i=r(24246),n=r(86920),l=r(70788);t.Z=e=>{let{heading:t,breadcrumbItems:r,isSticky:s=!0,children:a,rightContent:d,style:o,...c}=e;return(0,i.jsxs)("div",{...c,style:s?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...o}:{paddingBottom:"24px",...o},children:[(0,i.jsxs)(n.jqI,{justify:"space-between",children:["string"==typeof t?(0,i.jsx)(n.lQT,{className:r||a?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,d&&(0,i.jsx)("div",{"data-testid":"page-header-right-content",children:d})]}),!!r&&(0,i.jsx)(l.m,{className:a?"pb-4":void 0,items:r,"data-testid":"page-breadcrumb"}),a]})}},19904:function(e,t,r){r.d(t,{Tg:function(){return s}});var i=r(24246),n=r(16134),l=r(31793);let s=e=>(0,n.C)(l.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:r}=e;return s(t)?(0,i.jsx)(i.Fragment,{children:r}):null}},14047:function(e,t,r){r.d(t,{H:function(){return l},V:function(){return i.V}});var i=r(84306),n=r(812);let l=()=>{let{errorAlert:e}=(0,i.V)();return{handleError:t=>{let r="An unexpected error occurred. Please try again.";(0,n.Ot)(t)?r=t.data.detail:(0,n.tB)(t)&&(r=t.data.detail[0].msg),e(r)}}}},84306:function(e,t,r){r.d(t,{V:function(){return l}});var i=r(24246),n=r(86920);let l=()=>{let e=(0,n.pmc)();return{errorAlert:(t,r,l)=>{let s={...l,position:(null==l?void 0:l.position)||"top",render:e=>{let{onClose:l}=e;return(0,i.jsxs)(n.bZj,{alignItems:"normal",status:"error","data-testid":"error-alert",children:[(0,i.jsx)(n.zMQ,{}),(0,i.jsxs)(n.xuv,{children:[r&&(0,i.jsx)(n.CdC,{children:r}),(0,i.jsx)(n.XaZ,{children:t})]}),(0,i.jsx)(n.PZ7,{onClick:l,position:"relative",right:0,size:"sm",top:-1})]})}};(null==l?void 0:l.id)&&e.isActive(l.id)?e.update(l.id,s):e(s)},successAlert:(t,r,l)=>{let s={...l,position:(null==l?void 0:l.position)||"top",render:e=>{let{onClose:l}=e;return(0,i.jsxs)(n.bZj,{alignItems:"normal",status:"success",variant:"subtle","data-testid":"success-alert",children:[(0,i.jsx)(n.zMQ,{}),(0,i.jsxs)(n.xuv,{children:[r&&(0,i.jsx)(n.CdC,{children:r}),(0,i.jsx)(n.XaZ,{children:t})]}),(0,i.jsx)(n.PZ7,{onClick:l,position:"relative",right:0,size:"sm",top:-1})]})}};(null==l?void 0:l.id)&&e.isActive(l.id)?e.update(l.id,s):e(s)}}}},70788:function(e,t,r){r.d(t,{m:function(){return o}});var i=r(24246),n=r(86920),l=r(79894),s=r.n(l),a=r(27378);let{Text:d}=n.AntTypography,o=e=>{let{items:t,...r}=e,l=(0,a.useMemo)(()=>null==t?void 0:t.map((e,r)=>{let l=r===t.length-1,a={...e},o=a.onClick&&!a.href;return("string"==typeof a.title&&(a.title=(0,i.jsx)(d,{style:{color:"inherit",maxWidth:l?void 0:400},ellipsis:!l,children:a.title})),o)?a.title=(0,i.jsx)(n.wpx,{type:"text",size:"small",icon:a.icon,onClick:a.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:a.title}):(a.icon&&(a.title=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"anticon align-text-bottom",children:a.icon}),a.title]})),a.href&&a.title&&(a.title=(0,i.jsx)(s(),{href:a.href,className:"ant-breadcrumb-link",children:a.title}),delete a.href)),a}),[t]);return(0,i.jsx)(n.zrq,{items:l,...r})}},57526:function(e,t,r){var i=r(24246),n=r(86920),l=r(27378);t.Z=e=>{let{isOpen:t,onClose:r,onApproveRequest:s,isLoading:a,subjectRequest:d}=e,{identity:o,identity_verified_at:c,custom_privacy_request_fields:u}=d,h=(0,l.useCallback)(()=>{s().then(()=>{r()})},[s,r]);return(0,i.jsxs)(n.u_l,{isOpen:t,onClose:r,size:"lg",isCentered:!0,children:[(0,i.jsx)(n.ZAr,{}),(0,i.jsxs)(n.hzk,{children:[(0,i.jsx)(n.xBx,{children:"Privacy request approval"}),(0,i.jsxs)(n.fef,{paddingTop:0,paddingBottom:0,children:[(0,i.jsx)(n.xvT,{color:"gray.500",fontSize:"14px",marginBottom:4,children:"Are you sure you want to approve this privacy request?"}),(0,i.jsxs)(n.QI$,{children:[Object.entries(o).filter(e=>{let[,{value:t}]=e;return null!==t}).map(e=>{let[t,{value:r,label:l}]=e;return(0,i.jsx)(n.HCh,{children:(0,i.jsxs)(n.kCb,{alignItems:"flex-start",children:[(0,i.jsxs)(n.xvT,{mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:[l,":"]}),(0,i.jsx)(n.xvT,{color:"gray.600",fontWeight:"500",fontSize:"sm",mr:2,children:r}),"(",c?"Verified":"Unverified",")"]},t)},t)}),u&&Object.entries(u).filter(e=>{let[,t]=e;return t.value}).map(e=>{let[t,r]=e;return(0,i.jsx)(n.HCh,{children:(0,i.jsxs)(n.kCb,{alignItems:"flex-start",children:[(0,i.jsxs)(n.xvT,{mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:[r.label,":"]}),(0,i.jsxs)(n.xvT,{color:"gray.600",fontWeight:"500",fontSize:"sm",mr:2,children:[Array.isArray(r.value)?r.value.join(", "):r.value," "]}),"(Unverified)"]},t)},t)})]})]}),(0,i.jsx)(n.mzw,{children:(0,i.jsxs)(n.MIq,{columns:2,width:"100%",children:[(0,i.jsx)(n.wpx,{onClick:r,className:"mr-3","data-testid":"cancel-btn",children:"Cancel"}),(0,i.jsx)(n.wpx,{type:"primary","data-testid":"continue-btn",onClick:h,loading:a,children:"Confirm"})]})})]})]})}},66548:function(e,t,r){var i=r(24246),n=r(40324),l=r(86920),s=r(34090),a=r(27378),d=r(55484);let o={denialReason:""};t.Z=e=>{let{isOpen:t,onClose:r,onDenyRequest:c}=e,u=(0,a.useCallback)((e,t)=>{let{setSubmitting:i}=t;c(e.denialReason).then(()=>{i(!1),r()})},[c,r]);return(0,i.jsxs)(l.u_l,{isOpen:t,onClose:r,isCentered:!0,returnFocusOnClose:!1,children:[(0,i.jsx)(l.ZAr,{}),(0,i.jsx)(l.hzk,{width:"100%",maxWidth:"456px","data-testid":"deny-privacy-request-modal",children:(0,i.jsx)(s.J9,{initialValues:o,validationSchema:d.Ry({denialReason:d.Z_().required().label("Reason for denial")}),onSubmit:u,children:e=>{let{isSubmitting:t,dirty:a,isValid:d}=e;return(0,i.jsxs)(s.l0,{children:[(0,i.jsx)(l.xBx,{children:"Privacy request denial"}),(0,i.jsx)(l.fef,{color:"gray.500",fontSize:"14px",children:"Please enter a reason for denying this privacy request. Please note: this can be seen by the user in their notification email."}),(0,i.jsx)(l.fef,{children:(0,i.jsx)(n.Ks,{name:"denialReason",textAreaProps:{focusBorderColor:"primary.600",resize:"none"}})}),(0,i.jsxs)(l.mzw,{className:"flex w-full gap-4",children:[(0,i.jsx)(l.wpx,{disabled:t,onClick:r,className:"grow",children:"Cancel"}),(0,i.jsx)(l.wpx,{htmlType:"submit",type:"primary",disabled:!a||!d,loading:t,className:"grow","data-testid":"deny-privacy-request-modal-btn",children:"Confirm"})]})]})}})})]})}},45489:function(e,t,r){r.d(t,{Z:function(){return n}});var i=r(90867);let n=e=>{let{subjectRequest:t}=e,[r,n]=(0,i.RW)({fixedCacheKey:t.id}),[l,s]=(0,i.F1)({fixedCacheKey:t.id}),[a,d]=(0,i.rC)({fixedCacheKey:t.id}),o=s.isLoading||n.isLoading;return{approveRequest:r,approveRequestResult:n,denyRequest:l,denyRequestResult:s,handleApproveRequest:()=>r(t),handleDenyRequest:e=>l({id:t.id,reason:e}),handleDeleteRequest:()=>a(t),softDeleteRequestResult:d,isLoading:o}}},72281:function(e,t,r){r.d(t,{G:function(){return l},d:function(){return s}});var i=r(86677),n=r(27378);let l={REQUEST:"request",MANUAL_TASK:"manual-tasks"},s=()=>{let e=(0,i.useRouter)(),[t,r]=(0,n.useState)(l.REQUEST),s=(0,n.useMemo)(()=>({request:!0,manualTask:!0}),[]),a=(0,n.useCallback)(()=>{let{tab:t}=e.query;return t&&"string"==typeof t&&Object.values(l).includes(t)?t:null},[e.query]),d=(0,n.useCallback)(t=>{e.replace({pathname:e.pathname,query:{...e.query,tab:t}},void 0,{shallow:!0})},[e]);return(0,n.useEffect)(()=>{if(!e.isReady)return;let t=a();if(t&&(t===l.REQUEST||t===l.MANUAL_TASK&&s.manualTask)){r(t);return}r(l.REQUEST),d(l.REQUEST)},[e.isReady,e.query,s,a,d]),{activeTab:t,handleTabChange:(0,n.useCallback)(e=>{Object.values(l).includes(e)&&(r(e),d(e))},[d]),availableTabs:s}}}}]);